{"version":3,"sources":["webpack:///ava-fullcalendar/webpack/universalModuleDefinition","webpack:///ava-fullcalendar/webpack/bootstrap 42c4c9906d041b410f12","webpack:///ava-fullcalendar/external \"moment\"","webpack:///ava-fullcalendar/./src/tslib-lite.js","webpack:///ava-fullcalendar/external {\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\",\"amd\":\"jquery\",\"root\":\"jQuery\"}","webpack:///ava-fullcalendar/./src/util.ts","webpack:///ava-fullcalendar/./src/models/UnzonedRange.ts","webpack:///ava-fullcalendar/./src/models/event-source/EventSource.ts","webpack:///ava-fullcalendar/./src/common/ListenerMixin.ts","webpack:///ava-fullcalendar/./src/moment-ext.ts","webpack:///ava-fullcalendar/./src/common/EmitterMixin.ts","webpack:///ava-fullcalendar/./src/models/ComponentFootprint.ts","webpack:///ava-fullcalendar/./src/models/event/SingleEventDef.ts","webpack:///ava-fullcalendar/./src/common/Mixin.ts","webpack:///ava-fullcalendar/./src/component/interactions/Interaction.ts","webpack:///ava-fullcalendar/./src/exports.ts","webpack:///ava-fullcalendar/./src/models/event/EventDateProfile.ts","webpack:///ava-fullcalendar/./src/models/event/EventInstanceGroup.ts","webpack:///ava-fullcalendar/./src/theme/Theme.ts","webpack:///ava-fullcalendar/./src/common/Promise.ts","webpack:///ava-fullcalendar/./src/common/GlobalEmitter.ts","webpack:///ava-fullcalendar/./src/ViewRegistry.ts","webpack:///ava-fullcalendar/./src/common/HitDragListener.ts","webpack:///ava-fullcalendar/./src/locale.ts","webpack:///ava-fullcalendar/./src/options.ts","webpack:///ava-fullcalendar/./src/common/Class.ts","webpack:///ava-fullcalendar/./src/models/event/EventDef.ts","webpack:///ava-fullcalendar/./src/models/event/util.ts","webpack:///ava-fullcalendar/./src/models/event/EventFootprint.ts","webpack:///ava-fullcalendar/./src/models/event/EventDefMutation.ts","webpack:///ava-fullcalendar/./src/models/event-source/EventSourceParser.ts","webpack:///ava-fullcalendar/./src/common/Scroller.ts","webpack:///ava-fullcalendar/./src/component/InteractiveDateComponent.ts","webpack:///ava-fullcalendar/./src/View.ts","webpack:///ava-fullcalendar/./src/component/renderers/EventRenderer.ts","webpack:///ava-fullcalendar/./src/date-formatting.ts","webpack:///ava-fullcalendar/./src/common/Model.ts","webpack:///ava-fullcalendar/./src/models/event/EventDefParser.ts","webpack:///ava-fullcalendar/./src/models/event/EventDefDateMutation.ts","webpack:///ava-fullcalendar/./src/theme/ThemeRegistry.ts","webpack:///ava-fullcalendar/./src/models/event-source/ArrayEventSource.ts","webpack:///ava-fullcalendar/./src/common/CoordCache.ts","webpack:///ava-fullcalendar/./src/common/DragListener.ts","webpack:///ava-fullcalendar/./src/component/DayTableMixin.ts","webpack:///ava-fullcalendar/./src/component/renderers/BusinessHourRenderer.ts","webpack:///ava-fullcalendar/./src/component/renderers/FillRenderer.ts","webpack:///ava-fullcalendar/./src/component/renderers/HelperRenderer.ts","webpack:///ava-fullcalendar/./src/component/interactions/EventPointing.ts","webpack:///ava-fullcalendar/./src/component/interactions/StandardInteractionsMixin.ts","webpack:///ava-fullcalendar/./src/basic/DayGrid.ts","webpack:///ava-fullcalendar/./src/basic/BasicView.ts","webpack:///ava-fullcalendar/./src/Constraints.ts","webpack:///ava-fullcalendar/./src/common/ParsableModelMixin.ts","webpack:///ava-fullcalendar/./src/models/event/EventInstance.ts","webpack:///ava-fullcalendar/./src/models/event/RecurringEventDef.ts","webpack:///ava-fullcalendar/./src/models/event/EventRange.ts","webpack:///ava-fullcalendar/./src/models/BusinessHourGenerator.ts","webpack:///ava-fullcalendar/./src/theme/StandardTheme.ts","webpack:///ava-fullcalendar/./src/theme/JqueryUiTheme.ts","webpack:///ava-fullcalendar/./src/models/event-source/FuncEventSource.ts","webpack:///ava-fullcalendar/./src/models/event-source/JsonFeedEventSource.ts","webpack:///ava-fullcalendar/./src/common/TaskQueue.ts","webpack:///ava-fullcalendar/./src/common/RenderQueue.ts","webpack:///ava-fullcalendar/./src/component/DateComponent.ts","webpack:///ava-fullcalendar/./src/Calendar.ts","webpack:///ava-fullcalendar/./src/DateProfileGenerator.ts","webpack:///ava-fullcalendar/./src/component/interactions/ExternalDropping.ts","webpack:///ava-fullcalendar/./src/component/interactions/EventResizing.ts","webpack:///ava-fullcalendar/./src/component/interactions/EventDragging.ts","webpack:///ava-fullcalendar/./src/component/interactions/DateSelecting.ts","webpack:///ava-fullcalendar/./src/agenda/AgendaView.ts","webpack:///ava-fullcalendar/./src/agenda/TimeGrid.ts","webpack:///ava-fullcalendar/./src/basic/BasicViewDateProfileGenerator.ts","webpack:///ava-fullcalendar/./src/basic/MonthView.ts","webpack:///ava-fullcalendar/./src/list/ListView.ts","webpack:///ava-fullcalendar/./src/main.ts","webpack:///ava-fullcalendar/./src/component/Component.ts","webpack:///ava-fullcalendar/./src/common/Iterator.ts","webpack:///ava-fullcalendar/./src/Toolbar.ts","webpack:///ava-fullcalendar/./src/OptionsManager.ts","webpack:///ava-fullcalendar/./src/ViewSpecManager.ts","webpack:///ava-fullcalendar/./src/models/EventManager.ts","webpack:///ava-fullcalendar/./src/models/EventPeriod.ts","webpack:///ava-fullcalendar/./src/common/MouseFollower.ts","webpack:///ava-fullcalendar/./src/component/interactions/DateClicking.ts","webpack:///ava-fullcalendar/./src/agenda/TimeGridEventRenderer.ts","webpack:///ava-fullcalendar/./src/agenda/TimeGridHelperRenderer.ts","webpack:///ava-fullcalendar/./src/agenda/TimeGridFillRenderer.ts","webpack:///ava-fullcalendar/./src/common/Popover.ts","webpack:///ava-fullcalendar/./src/basic/DayGridEventRenderer.ts","webpack:///ava-fullcalendar/./src/basic/DayGridHelperRenderer.ts","webpack:///ava-fullcalendar/./src/basic/DayGridFillRenderer.ts","webpack:///ava-fullcalendar/./src/basic/MonthViewDateProfileGenerator.ts","webpack:///ava-fullcalendar/./src/list/ListEventRenderer.ts","webpack:///ava-fullcalendar/./src/list/ListEventPointing.ts","webpack:///ava-fullcalendar/./src/models/event-source/config.ts","webpack:///ava-fullcalendar/./src/theme/config.ts","webpack:///ava-fullcalendar/./src/theme/Bootstrap3Theme.ts","webpack:///ava-fullcalendar/./src/theme/Bootstrap4Theme.ts","webpack:///ava-fullcalendar/./src/basic/config.ts","webpack:///ava-fullcalendar/./src/agenda/config.ts","webpack:///ava-fullcalendar/./src/list/config.ts"],"names":[],"mappings":"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","file":"dist/fullcalendar.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"moment\"), require(\"jquery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"moment\", \"jquery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"FullCalendar\"] = factory(require(\"moment\"), require(\"jquery\"));\n\telse\n\t\troot[\"FullCalendar\"] = factory(root[\"moment\"], root[\"jQuery\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_3__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 236);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 42c4c9906d041b410f12","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"moment\"\n// module id = 0\n// module chunks = 1 2 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74","\n/*\nderived from:\nhttps://github.com/Microsoft/tslib/blob/v1.6.0/tslib.js\n\nonly include the helpers we need, to keep down filesize\n*/\n\nvar extendStatics =\n  Object.setPrototypeOf ||\n  ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n  function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n\nexports.__extends = function (d, b) {\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/tslib-lite.js","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\",\"amd\":\"jquery\",\"root\":\"jQuery\"}\n// module id = 3\n// module chunks = 2 3","import * as moment from 'moment'\nimport * as $ from 'jquery'\n\n\n/* FullCalendar-specific DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n\n\n// Given the scrollbar widths of some other container, create borders/margins on rowEls in order to match the left\n// and right space that was offset by the scrollbars. A 1-pixel border first, then margin beyond that.\nexport function compensateScroll(rowEls, scrollbarWidths) {\n  if (scrollbarWidths.left) {\n    rowEls.css({\n      'border-left-width': 1,\n      'margin-left': scrollbarWidths.left - 1\n    })\n  }\n  if (scrollbarWidths.right) {\n    rowEls.css({\n      'border-right-width': 1,\n      'margin-right': scrollbarWidths.right - 1\n    })\n  }\n}\n\n\n// Undoes compensateScroll and restores all borders/margins\nexport function uncompensateScroll(rowEls) {\n  rowEls.css({\n    'margin-left': '',\n    'margin-right': '',\n    'border-left-width': '',\n    'border-right-width': ''\n  })\n}\n\n\n// Make the mouse cursor express that an event is not allowed in the current area\nexport function disableCursor() {\n  $('body').addClass('fc-not-allowed')\n}\n\n\n// Returns the mouse cursor to its original look\nexport function enableCursor() {\n  $('body').removeClass('fc-not-allowed')\n}\n\n\n// Given a total available height to fill, have `els` (essentially child rows) expand to accomodate.\n// By default, all elements that are shorter than the recommended height are expanded uniformly, not considering\n// any other els that are already too tall. if `shouldRedistribute` is on, it considers these tall rows and\n// reduces the available height.\nexport function distributeHeight(els, availableHeight, shouldRedistribute) {\n\n  // *FLOORING NOTE*: we floor in certain places because zoom can give inaccurate floating-point dimensions,\n  // and it is better to be shorter than taller, to avoid creating unnecessary scrollbars.\n\n  let minOffset1 = Math.floor(availableHeight / els.length) // for non-last element\n  let minOffset2 = Math.floor(availableHeight - minOffset1 * (els.length - 1)) // for last element *FLOORING NOTE*\n  let flexEls = [] // elements that are allowed to expand. array of DOM nodes\n  let flexOffsets = [] // amount of vertical space it takes up\n  let flexHeights = [] // actual css height\n  let usedHeight = 0\n\n  undistributeHeight(els) // give all elements their natural height\n\n  // find elements that are below the recommended height (expandable).\n  // important to query for heights in a single first pass (to avoid reflow oscillation).\n  els.each(function(i, el) {\n    let minOffset = i === els.length - 1 ? minOffset2 : minOffset1\n    let naturalOffset = $(el).outerHeight(true)\n\n    if (naturalOffset < minOffset) {\n      flexEls.push(el)\n      flexOffsets.push(naturalOffset)\n      flexHeights.push($(el).height())\n    } else {\n      // this element stretches past recommended height (non-expandable). mark the space as occupied.\n      usedHeight += naturalOffset\n    }\n  })\n\n  // readjust the recommended height to only consider the height available to non-maxed-out rows.\n  if (shouldRedistribute) {\n    availableHeight -= usedHeight\n    minOffset1 = Math.floor(availableHeight / flexEls.length)\n    minOffset2 = Math.floor(availableHeight - minOffset1 * (flexEls.length - 1)) // *FLOORING NOTE*\n  }\n\n  // assign heights to all expandable elements\n  $(flexEls).each(function(i, el) {\n    let minOffset = i === flexEls.length - 1 ? minOffset2 : minOffset1\n    let naturalOffset = flexOffsets[i]\n    let naturalHeight = flexHeights[i]\n    let newHeight = minOffset - (naturalOffset - naturalHeight) // subtract the margin/padding\n\n    if (naturalOffset < minOffset) { // we check this again because redistribution might have changed things\n      $(el).height(newHeight)\n    }\n  })\n}\n\n\n// Undoes distrubuteHeight, restoring all els to their natural height\nexport function undistributeHeight(els) {\n  els.height('')\n}\n\n\n// Given `els`, a jQuery set of <td> cells, find the cell with the largest natural width and set the widths of all the\n// cells to be that width.\n// PREREQUISITE: if you want a cell to take up width, it needs to have a single inner element w/ display:inline\nexport function matchCellWidths(els) {\n  let maxInnerWidth = 0\n\n  els.find('> *').each(function(i, innerEl) {\n    let innerWidth = $(innerEl).outerWidth()\n    if (innerWidth > maxInnerWidth) {\n      maxInnerWidth = innerWidth\n    }\n  })\n\n  maxInnerWidth++ // sometimes not accurate of width the text needs to stay on one line. insurance\n\n  els.width(maxInnerWidth)\n\n  return maxInnerWidth\n}\n\n\n// Given one element that resides inside another,\n// Subtracts the height of the inner element from the outer element.\nexport function subtractInnerElHeight(outerEl, innerEl) {\n  let both = outerEl.add(innerEl)\n  let diff\n\n  // effin' IE8/9/10/11 sometimes returns 0 for dimensions. this weird hack was the only thing that worked\n  both.css({\n    position: 'relative', // cause a reflow, which will force fresh dimension recalculation\n    left: -1 // ensure reflow in case the el was already relative. negative is less likely to cause new scroll\n  })\n  diff = outerEl.outerHeight() - innerEl.outerHeight() // grab the dimensions\n  both.css({ position: '', left: '' }) // undo hack\n\n  return diff\n}\n\n\n/* Element Geom Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n\n\n// borrowed from https://github.com/jquery/jquery-ui/blob/1.11.0/ui/core.js#L51\nexport function getScrollParent(el) {\n  let position = el.css('position')\n  let scrollParent = el.parents().filter(function() {\n    let parent = $(this)\n    return (/(auto|scroll)/).test(\n      parent.css('overflow') + parent.css('overflow-y') + parent.css('overflow-x')\n    )\n  }).eq(0)\n\n  return position === 'fixed' || !scrollParent.length ? $(el[0].ownerDocument || document) : scrollParent\n}\n\n\n// Queries the outer bounding area of a jQuery element.\n// Returns a rectangle with absolute coordinates: left, right (exclusive), top, bottom (exclusive).\n// Origin is optional.\nexport function getOuterRect(el, origin?) {\n  let offset = el.offset()\n  let left = offset.left - (origin ? origin.left : 0)\n  let top = offset.top - (origin ? origin.top : 0)\n\n  return {\n    left: left,\n    right: left + el.outerWidth(),\n    top: top,\n    bottom: top + el.outerHeight()\n  }\n}\n\n\n// Queries the area within the margin/border/scrollbars of a jQuery element. Does not go within the padding.\n// Returns a rectangle with absolute coordinates: left, right (exclusive), top, bottom (exclusive).\n// Origin is optional.\n// WARNING: given element can't have borders\n// NOTE: should use clientLeft/clientTop, but very unreliable cross-browser.\nexport function getClientRect(el, origin?) {\n  let offset = el.offset()\n  let scrollbarWidths = getScrollbarWidths(el)\n  let left = offset.left + getCssFloat(el, 'border-left-width') + scrollbarWidths.left - (origin ? origin.left : 0)\n  let top = offset.top + getCssFloat(el, 'border-top-width') + scrollbarWidths.top - (origin ? origin.top : 0)\n\n  return {\n    left: left,\n    right: left + el[0].clientWidth, // clientWidth includes padding but NOT scrollbars\n    top: top,\n    bottom: top + el[0].clientHeight // clientHeight includes padding but NOT scrollbars\n  }\n}\n\n\n// Queries the area within the margin/border/padding of a jQuery element. Assumed not to have scrollbars.\n// Returns a rectangle with absolute coordinates: left, right (exclusive), top, bottom (exclusive).\n// Origin is optional.\nexport function getContentRect(el, origin) {\n  let offset = el.offset() // just outside of border, margin not included\n  let left = offset.left + getCssFloat(el, 'border-left-width') + getCssFloat(el, 'padding-left') -\n    (origin ? origin.left : 0)\n  let top = offset.top + getCssFloat(el, 'border-top-width') + getCssFloat(el, 'padding-top') -\n    (origin ? origin.top : 0)\n\n  return {\n    left: left,\n    right: left + el.width(),\n    top: top,\n    bottom: top + el.height()\n  }\n}\n\n\n// Returns the computed left/right/top/bottom scrollbar widths for the given jQuery element.\n// WARNING: given element can't have borders (which will cause offsetWidth/offsetHeight to be larger).\n// NOTE: should use clientLeft/clientTop, but very unreliable cross-browser.\nexport function getScrollbarWidths(el) {\n  let leftRightWidth = el[0].offsetWidth - el[0].clientWidth\n  let bottomWidth = el[0].offsetHeight - el[0].clientHeight\n  let widths\n\n  leftRightWidth = sanitizeScrollbarWidth(leftRightWidth)\n  bottomWidth = sanitizeScrollbarWidth(bottomWidth)\n\n  widths = { left: 0, right: 0, top: 0, bottom: bottomWidth }\n\n  if (getIsLeftRtlScrollbars() && el.css('direction') === 'rtl') { // is the scrollbar on the left side?\n    widths.left = leftRightWidth\n  } else {\n    widths.right = leftRightWidth\n  }\n\n  return widths\n}\n\n\n// The scrollbar width computations in getScrollbarWidths are sometimes flawed when it comes to\n// retina displays, rounding, and IE11. Massage them into a usable value.\nfunction sanitizeScrollbarWidth(width) {\n  width = Math.max(0, width) // no negatives\n  width = Math.round(width)\n  return width\n}\n\n\n// Logic for determining if, when the element is right-to-left, the scrollbar appears on the left side\n\nlet _isLeftRtlScrollbars = null\n\nfunction getIsLeftRtlScrollbars() { // responsible for caching the computation\n  if (_isLeftRtlScrollbars === null) {\n    _isLeftRtlScrollbars = computeIsLeftRtlScrollbars()\n  }\n  return _isLeftRtlScrollbars\n}\n\nfunction computeIsLeftRtlScrollbars() { // creates an offscreen test element, then removes it\n  let el = $('<div><div/></div>')\n    .css({\n      position: 'absolute',\n      top: -1000,\n      left: 0,\n      border: 0,\n      padding: 0,\n      overflow: 'scroll',\n      direction: 'rtl'\n    })\n    .appendTo('body')\n  let innerEl = el.children()\n  let res = innerEl.offset().left > el.offset().left // is the inner div shifted to accommodate a left scrollbar?\n  el.remove()\n  return res\n}\n\n\n// Retrieves a jQuery element's computed CSS value as a floating-point number.\n// If the queried value is non-numeric (ex: IE can return \"medium\" for border width), will just return zero.\nfunction getCssFloat(el, prop) {\n  return parseFloat(el.css(prop)) || 0\n}\n\n\n/* Mouse / Touch Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n\n\n// Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\nexport function isPrimaryMouseButton(ev) {\n  return ev.which === 1 && !ev.ctrlKey\n}\n\n\nexport function getEvX(ev) {\n  let touches = ev.originalEvent.touches\n\n  // on mobile FF, pageX for touch events is present, but incorrect,\n  // so, look at touch coordinates first.\n  if (touches && touches.length) {\n    return touches[0].pageX\n  }\n\n  return ev.pageX\n}\n\n\nexport function getEvY(ev) {\n  let touches = ev.originalEvent.touches\n\n  // on mobile FF, pageX for touch events is present, but incorrect,\n  // so, look at touch coordinates first.\n  if (touches && touches.length) {\n    return touches[0].pageY\n  }\n\n  return ev.pageY\n}\n\n\nexport function getEvIsTouch(ev) {\n  return /^touch/.test(ev.type)\n}\n\n\nexport function preventSelection(el) {\n  el.addClass('fc-unselectable')\n    .on('selectstart', preventDefault)\n}\n\n\nexport function allowSelection(el) {\n  el.removeClass('fc-unselectable')\n    .off('selectstart', preventDefault)\n}\n\n\n// Stops a mouse/touch event from doing it's native browser action\nexport function preventDefault(ev) {\n  ev.preventDefault()\n}\n\n\n/* General Geometry Utils\n----------------------------------------------------------------------------------------------------------------------*/\n\n\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\nexport function intersectRects(rect1, rect2) {\n  let res = {\n    left: Math.max(rect1.left, rect2.left),\n    right: Math.min(rect1.right, rect2.right),\n    top: Math.max(rect1.top, rect2.top),\n    bottom: Math.min(rect1.bottom, rect2.bottom)\n  }\n\n  if (res.left < res.right && res.top < res.bottom) {\n    return res\n  }\n  return false\n}\n\n\n// Returns a new point that will have been moved to reside within the given rectangle\nexport function constrainPoint(point, rect) {\n  return {\n    left: Math.min(Math.max(point.left, rect.left), rect.right),\n    top: Math.min(Math.max(point.top, rect.top), rect.bottom)\n  }\n}\n\n\n// Returns a point that is the center of the given rectangle\nexport function getRectCenter(rect) {\n  return {\n    left: (rect.left + rect.right) / 2,\n    top: (rect.top + rect.bottom) / 2\n  }\n}\n\n\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\nexport function diffPoints(point1, point2) {\n  return {\n    left: point1.left - point2.left,\n    top: point1.top - point2.top\n  }\n}\n\n\n/* Object Ordering by Field\n----------------------------------------------------------------------------------------------------------------------*/\n\nexport function parseFieldSpecs(input) {\n  let specs = []\n  let tokens = []\n  let i\n  let token\n\n  if (typeof input === 'string') {\n    tokens = input.split(/\\s*,\\s*/)\n  } else if (typeof input === 'function') {\n    tokens = [ input ]\n  } else if ($.isArray(input)) {\n    tokens = input\n  }\n\n  for (i = 0; i < tokens.length; i++) {\n    token = tokens[i]\n\n    if (typeof token === 'string') {\n      specs.push(\n        token.charAt(0) === '-' ?\n          { field: token.substring(1), order: -1 } :\n          { field: token, order: 1 }\n      )\n    } else if (typeof token === 'function') {\n      specs.push({ func: token })\n    }\n  }\n\n  return specs\n}\n\n\nexport function compareByFieldSpecs(obj1, obj2, fieldSpecs, obj1fallback?, obj2fallback?) {\n  let i\n  let cmp\n\n  for (i = 0; i < fieldSpecs.length; i++) {\n    cmp = compareByFieldSpec(obj1, obj2, fieldSpecs[i], obj1fallback, obj2fallback)\n    if (cmp) {\n      return cmp\n    }\n  }\n\n  return 0\n}\n\n\nexport function compareByFieldSpec(obj1, obj2, fieldSpec, obj1fallback, obj2fallback) {\n  if (fieldSpec.func) {\n    return fieldSpec.func(obj1, obj2)\n  }\n\n  let val1 = obj1[fieldSpec.field]\n  let val2 = obj2[fieldSpec.field]\n\n  if (val1 == null && obj1fallback) {\n    val1 = obj1fallback[fieldSpec.field]\n  }\n\n  if (val2 == null && obj2fallback) {\n    val2 = obj2fallback[fieldSpec.field]\n  }\n\n  return flexibleCompare(val1, val2) * (fieldSpec.order || 1)\n}\n\n\nexport function flexibleCompare(a, b) {\n  if (!a && !b) {\n    return 0\n  }\n  if (b == null) {\n    return -1\n  }\n  if (a == null) {\n    return 1\n  }\n  if ($.type(a) === 'string' || $.type(b) === 'string') {\n    return String(a).localeCompare(String(b))\n  }\n  return a - b\n}\n\n\n/* Date Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n\nexport const dayIDs = [ 'sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat' ]\nexport const unitsDesc = [ 'year', 'month', 'week', 'day', 'hour', 'minute', 'second', 'millisecond' ] // descending\n\n\n// Diffs the two moments into a Duration where full-days are recorded first, then the remaining time.\n// Moments will have their timezones normalized.\nexport function diffDayTime(a, b) {\n  return moment.duration({\n    days: a.clone().stripTime().diff(b.clone().stripTime(), 'days'),\n    ms: a.time() - b.time() // time-of-day from day start. disregards timezone\n  })\n}\n\n\n// Diffs the two moments via their start-of-day (regardless of timezone). Produces whole-day durations.\nexport function diffDay(a, b) {\n  return moment.duration({\n    days: a.clone().stripTime().diff(b.clone().stripTime(), 'days')\n  })\n}\n\n\n// Diffs two moments, producing a duration, made of a whole-unit-increment of the given unit. Uses rounding.\nexport function diffByUnit(a, b, unit) {\n  return moment.duration(\n    Math.round(a.diff(b, unit, true)), // returnFloat=true\n    unit\n  )\n}\n\n\n// Computes the unit name of the largest whole-unit period of time.\n// For example, 48 hours will be \"days\" whereas 49 hours will be \"hours\".\n// Accepts start/end, a range object, or an original duration object.\nexport function computeGreatestUnit(start, end?) {\n  let i\n  let unit\n  let val\n\n  for (i = 0; i < unitsDesc.length; i++) {\n    unit = unitsDesc[i]\n    val = computeRangeAs(unit, start, end)\n\n    if (val >= 1 && isInt(val)) {\n      break\n    }\n  }\n\n  return unit // will be \"milliseconds\" if nothing else matches\n}\n\n\n// like computeGreatestUnit, but has special abilities to interpret the source input for clues\nexport function computeDurationGreatestUnit(duration, durationInput) {\n  let unit = computeGreatestUnit(duration)\n\n  // prevent days:7 from being interpreted as a week\n  if (unit === 'week' && typeof durationInput === 'object' && durationInput.days) {\n    unit = 'day'\n  }\n\n  return unit\n}\n\n\n// Computes the number of units (like \"hours\") in the given range.\n// Range can be a {start,end} object, separate start/end args, or a Duration.\n// Results are based on Moment's .as() and .diff() methods, so results can depend on internal handling\n// of month-diffing logic (which tends to vary from version to version).\nfunction computeRangeAs(unit, start, end) {\n\n  if (end != null) { // given start, end\n    return end.diff(start, unit, true)\n  } else if (moment.isDuration(start)) { // given duration\n    return start.as(unit)\n  } else { // given { start, end } range object\n    return start.end.diff(start.start, unit, true)\n  }\n}\n\n\n// Intelligently divides a range (specified by a start/end params) by a duration\nexport function divideRangeByDuration(start, end, dur) {\n  let months\n\n  if (durationHasTime(dur)) {\n    return (end - start) / dur\n  }\n  months = dur.asMonths()\n  if (Math.abs(months) >= 1 && isInt(months)) {\n    return end.diff(start, 'months', true) / months\n  }\n  return end.diff(start, 'days', true) / dur.asDays()\n}\n\n\n// Intelligently divides one duration by another\nexport function divideDurationByDuration(dur1, dur2) {\n  let months1\n  let months2\n\n  if (durationHasTime(dur1) || durationHasTime(dur2)) {\n    return dur1 / dur2\n  }\n  months1 = dur1.asMonths()\n  months2 = dur2.asMonths()\n  if (\n    Math.abs(months1) >= 1 && isInt(months1) &&\n    Math.abs(months2) >= 1 && isInt(months2)\n  ) {\n    return months1 / months2\n  }\n  return dur1.asDays() / dur2.asDays()\n}\n\n\n// Intelligently multiplies a duration by a number\nexport function multiplyDuration(dur, n) {\n  let months\n\n  if (durationHasTime(dur)) {\n    return moment.duration(dur * n)\n  }\n  months = dur.asMonths()\n  if (Math.abs(months) >= 1 && isInt(months)) {\n    return moment.duration({ months: months * n })\n  }\n  return moment.duration({ days: dur.asDays() * n })\n}\n\n\n// Returns a boolean about whether the given duration has any time parts (hours/minutes/seconds/ms)\nexport function durationHasTime(dur) {\n  return Boolean(dur.hours() || dur.minutes() || dur.seconds() || dur.milliseconds())\n}\n\n\nexport function isNativeDate(input) {\n  return Object.prototype.toString.call(input) === '[object Date]' || input instanceof Date\n}\n\n\n// Returns a boolean about whether the given input is a time string, like \"06:40:00\" or \"06:00\"\nexport function isTimeString(str) {\n  return typeof str === 'string' &&\n    /^\\d+\\:\\d+(?:\\:\\d+\\.?(?:\\d{3})?)?$/.test(str)\n}\n\n\n/* Logging and Debug\n----------------------------------------------------------------------------------------------------------------------*/\n\n\nexport function log(...args) {\n  let console = window.console\n\n  if (console && console.log) {\n    return console.log.apply(console, args)\n  }\n}\n\nexport function warn(...args) {\n  let console = window.console\n\n  if (console && console.warn) {\n    return console.warn.apply(console, args)\n  } else {\n    return log.apply(null, args)\n  }\n}\n\n\n/* General Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n\nconst hasOwnPropMethod = {}.hasOwnProperty\n\n\n// Merges an array of objects into a single object.\n// The second argument allows for an array of property names who's object values will be merged together.\nexport function mergeProps(propObjs, complexProps?) {\n  let dest = {}\n  let i\n  let name\n  let complexObjs\n  let j\n  let val\n  let props\n\n  if (complexProps) {\n    for (i = 0; i < complexProps.length; i++) {\n      name = complexProps[i]\n      complexObjs = []\n\n      // collect the trailing object values, stopping when a non-object is discovered\n      for (j = propObjs.length - 1; j >= 0; j--) {\n        val = propObjs[j][name]\n\n        if (typeof val === 'object') {\n          complexObjs.unshift(val)\n        } else if (val !== undefined) {\n          dest[name] = val // if there were no objects, this value will be used\n          break\n        }\n      }\n\n      // if the trailing values were objects, use the merged value\n      if (complexObjs.length) {\n        dest[name] = mergeProps(complexObjs)\n      }\n    }\n  }\n\n  // copy values into the destination, going from last to first\n  for (i = propObjs.length - 1; i >= 0; i--) {\n    props = propObjs[i]\n\n    for (name in props) {\n      if (!(name in dest)) { // if already assigned by previous props or complex props, don't reassign\n        dest[name] = props[name]\n      }\n    }\n  }\n\n  return dest\n}\n\n\nexport function copyOwnProps(src, dest) {\n  for (let name in src) {\n    if (hasOwnProp(src, name)) {\n      dest[name] = src[name]\n    }\n  }\n}\n\n\nexport function hasOwnProp(obj, name) {\n  return hasOwnPropMethod.call(obj, name)\n}\n\n\nexport function applyAll(functions, thisObj, args) {\n  if ($.isFunction(functions)) {\n    functions = [ functions ]\n  }\n  if (functions) {\n    let i\n    let ret\n    for (i = 0; i < functions.length; i++) {\n      ret = functions[i].apply(thisObj, args) || ret\n    }\n    return ret\n  }\n}\n\n\nexport function removeMatching(array, testFunc) {\n  let removeCnt = 0\n  let i = 0\n\n  while (i < array.length) {\n    if (testFunc(array[i])) { // truthy value means *remove*\n      array.splice(i, 1)\n      removeCnt++\n    } else {\n      i++\n    }\n  }\n\n  return removeCnt\n}\n\n\nexport function removeExact(array, exactVal) {\n  let removeCnt = 0\n  let i = 0\n\n  while (i < array.length) {\n    if (array[i] === exactVal) {\n      array.splice(i, 1)\n      removeCnt++\n    } else {\n      i++\n    }\n  }\n\n  return removeCnt\n}\n\n\nexport function isArraysEqual(a0, a1) {\n  let len = a0.length\n  let i\n\n  if (len == null || len !== a1.length) { // not array? or not same length?\n    return false\n  }\n\n  for (i = 0; i < len; i++) {\n    if (a0[i] !== a1[i]) {\n      return false\n    }\n  }\n\n  return true\n}\n\n\n\nexport function firstDefined(...args) {\n  for (let i = 0; i < args.length; i++) {\n    if (args[i] !== undefined) {\n      return args[i]\n    }\n  }\n}\n\n\nexport function htmlEscape(s) {\n  return (s + '').replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/'/g, '&#039;')\n    .replace(/\"/g, '&quot;')\n    .replace(/\\n/g, '<br />')\n}\n\n\nexport function stripHtmlEntities(text) {\n  return text.replace(/&.*?;/g, '')\n}\n\n\n// Given a hash of CSS properties, returns a string of CSS.\n// Uses property names as-is (no camel-case conversion). Will not make statements for null/undefined values.\nexport function cssToStr(cssProps) {\n  let statements = []\n\n  $.each(cssProps, function(name, val) {\n    if (val != null) {\n      statements.push(name + ':' + val)\n    }\n  })\n\n  return statements.join(';')\n}\n\n\n// Given an object hash of HTML attribute names to values,\n// generates a string that can be injected between < > in HTML\nexport function attrsToStr(attrs) {\n  let parts = []\n\n  $.each(attrs, function(name, val) {\n    if (val != null) {\n      parts.push(name + '=\"' + htmlEscape(val) + '\"')\n    }\n  })\n\n  return parts.join(' ')\n}\n\n\nexport function capitaliseFirstLetter(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1)\n}\n\n\nexport function compareNumbers(a, b) { // for .sort()\n  return a - b\n}\n\n\nexport function isInt(n) {\n  return n % 1 === 0\n}\n\n\n// Returns a method bound to the given object context.\n// Just like one of the jQuery.proxy signatures, but without the undesired behavior of treating the same method with\n// different contexts as identical when binding/unbinding events.\nexport function proxy(obj, methodName) {\n  let method = obj[methodName]\n\n  return function() {\n    return method.apply(obj, arguments)\n  }\n}\n\n\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\n// https://github.com/jashkenas/underscore/blob/1.6.0/underscore.js#L714\nexport function debounce(func, wait, immediate= false) {\n  let timeout\n  let args\n  let context\n  let timestamp\n  let result\n\n  let later = function() {\n    let last = +new Date() - timestamp\n    if (last < wait) {\n      timeout = setTimeout(later, wait - last)\n    } else {\n      timeout = null\n      if (!immediate) {\n        result = func.apply(context, args)\n        context = args = null\n      }\n    }\n  }\n\n  return function() {\n    context = this\n    args = arguments\n    timestamp = +new Date()\n    let callNow = immediate && !timeout\n    if (!timeout) {\n      timeout = setTimeout(later, wait)\n    }\n    if (callNow) {\n      result = func.apply(context, args)\n      context = args = null\n    }\n    return result\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util.ts","import * as moment from 'moment'\nimport momentExt from '../moment-ext'\n\nexport default class UnzonedRange {\n\n  startMs: number // if null, no start constraint\n  endMs: number // if null, no end constraint\n\n  // TODO: move these into footprint.\n  // Especially, doesn't make sense for null startMs/endMs.\n  isStart: boolean = true\n  isEnd: boolean = true\n\n  constructor(startInput?, endInput?) {\n\n    if (moment.isMoment(startInput)) {\n      startInput = (startInput.clone() as any).stripZone()\n    }\n\n    if (moment.isMoment(endInput)) {\n      endInput = (endInput.clone() as any).stripZone()\n    }\n\n    if (startInput) {\n      this.startMs = startInput.valueOf()\n    }\n\n    if (endInput) {\n      this.endMs = endInput.valueOf()\n    }\n  }\n\n\n  /*\n  SIDEEFFECT: will mutate eventRanges.\n  Will return a new array result.\n  Only works for non-open-ended ranges.\n  */\n  static invertRanges(ranges, constraintRange) {\n    let invertedRanges = []\n    let startMs = constraintRange.startMs // the end of the previous range. the start of the new range\n    let i\n    let dateRange\n\n    // ranges need to be in order. required for our date-walking algorithm\n    ranges.sort(compareUnzonedRanges)\n\n    for (i = 0; i < ranges.length; i++) {\n      dateRange = ranges[i]\n\n      // add the span of time before the event (if there is any)\n      if (dateRange.startMs > startMs) { // compare millisecond time (skip any ambig logic)\n        invertedRanges.push(\n          new UnzonedRange(startMs, dateRange.startMs)\n        )\n      }\n\n      if (dateRange.endMs > startMs) {\n        startMs = dateRange.endMs\n      }\n    }\n\n    // add the span of time after the last event (if there is any)\n    if (startMs < constraintRange.endMs) { // compare millisecond time (skip any ambig logic)\n      invertedRanges.push(\n        new UnzonedRange(startMs, constraintRange.endMs)\n      )\n    }\n\n    return invertedRanges\n  }\n\n\n  intersect(otherRange) {\n    let startMs = this.startMs\n    let endMs = this.endMs\n    let newRange = null\n\n    if (otherRange.startMs != null) {\n      if (startMs == null) {\n        startMs = otherRange.startMs\n      } else {\n        startMs = Math.max(startMs, otherRange.startMs)\n      }\n    }\n\n    if (otherRange.endMs != null) {\n      if (endMs == null) {\n        endMs = otherRange.endMs\n      } else {\n        endMs = Math.min(endMs, otherRange.endMs)\n      }\n    }\n\n    if (startMs == null || endMs == null || startMs < endMs) {\n      newRange = new UnzonedRange(startMs, endMs)\n      newRange.isStart = this.isStart && startMs === this.startMs\n      newRange.isEnd = this.isEnd && endMs === this.endMs\n    }\n\n    return newRange\n  }\n\n\n  intersectsWith(otherRange) {\n    return (this.endMs == null || otherRange.startMs == null || this.endMs > otherRange.startMs) &&\n      (this.startMs == null || otherRange.endMs == null || this.startMs < otherRange.endMs)\n  }\n\n\n  containsRange(innerRange) {\n    return (this.startMs == null || (innerRange.startMs != null && innerRange.startMs >= this.startMs)) &&\n      (this.endMs == null || (innerRange.endMs != null && innerRange.endMs <= this.endMs))\n  }\n\n\n  // `date` can be a moment, a Date, or a millisecond time.\n  containsDate(date) {\n    let ms = date.valueOf()\n\n    return (this.startMs == null || ms >= this.startMs) &&\n      (this.endMs == null || ms < this.endMs)\n  }\n\n\n  // If the given date is not within the given range, move it inside.\n  // (If it's past the end, make it one millisecond before the end).\n  // `date` can be a moment, a Date, or a millisecond time.\n  // Returns a MS-time.\n  constrainDate(date) {\n    let ms = date.valueOf()\n\n    if (this.startMs != null && ms < this.startMs) {\n      ms = this.startMs\n    }\n\n    if (this.endMs != null && ms >= this.endMs) {\n      ms = this.endMs - 1\n    }\n\n    return ms\n  }\n\n\n  equals(otherRange) {\n    return this.startMs === otherRange.startMs && this.endMs === otherRange.endMs\n  }\n\n\n  clone() {\n    let range = new UnzonedRange(this.startMs, this.endMs)\n\n    range.isStart = this.isStart\n    range.isEnd = this.isEnd\n\n    return range\n  }\n\n\n  // Returns an ambig-zoned moment from startMs.\n  // BEWARE: returned moment is not localized.\n  // Formatting and start-of-week will be default.\n  getStart() {\n    if (this.startMs != null) {\n      return momentExt.utc(this.startMs).stripZone()\n    }\n    return null\n  }\n\n  // Returns an ambig-zoned moment from startMs.\n  // BEWARE: returned moment is not localized.\n  // Formatting and start-of-week will be default.\n  getEnd() {\n    if (this.endMs != null) {\n      return momentExt.utc(this.endMs).stripZone()\n    }\n    return null\n  }\n\n\n  as(unit) {\n    return moment.utc(this.endMs).diff(\n      moment.utc(this.startMs),\n      unit,\n      true\n    )\n  }\n\n}\n\n\n/*\nOnly works for non-open-ended ranges.\n*/\nfunction compareUnzonedRanges(range1, range2) {\n  return range1.startMs - range2.startMs // earlier ranges go first\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/UnzonedRange.ts","import * as $ from 'jquery'\nimport {\n  default as ParsableModelMixin,\n  ParsableModelInterface\n} from '../../common/ParsableModelMixin'\nimport Class from '../../common/Class'\nimport Calendar from '../../Calendar'\nimport EventDefParser from '../event/EventDefParser'\n\n\nexport default class EventSource extends Class {\n\n  static uuid: number = 0\n  static defineStandardProps = ParsableModelMixin.defineStandardProps\n  static copyVerbatimStandardProps = ParsableModelMixin.copyVerbatimStandardProps\n\n  applyProps: ParsableModelInterface['applyProps']\n  isStandardProp: ParsableModelInterface['isStandardProp']\n\n  calendar: Calendar\n\n  id: string // can stay null\n  uid: string\n  color: string\n  backgroundColor: string\n  borderColor: string\n  textColor: string\n  className: string[]\n  editable: boolean\n  startEditable: boolean\n  durationEditable: boolean\n  rendering: string | null\n  overlap: boolean\n  constraint: any\n  allDayDefault: boolean\n  eventDataTransform: any // optional function\n\n\n  // can we do away with calendar? at least for the abstract?\n  // useful for buildEventDef\n  constructor(calendar) {\n    super()\n    this.calendar = calendar\n    this.className = []\n    this.uid = String(EventSource.uuid++)\n  }\n\n\n  /*\n  rawInput can be any data type!\n  */\n  static parse(rawInput, calendar) {\n    let source = new this(calendar)\n\n    if (typeof rawInput === 'object') {\n      if (source.applyProps(rawInput)) {\n        return source\n      }\n    }\n\n    return false\n  }\n\n\n  static normalizeId(id) { // TODO: converge with EventDef\n    if (id) {\n      return String(id)\n    }\n\n    return null\n  }\n\n\n  fetch(start, end, timezone) {\n    // subclasses must implement. must return a promise.\n  }\n\n\n  removeEventDefsById(eventDefId) {\n    // optional for subclasses to implement\n  }\n\n\n  removeAllEventDefs() {\n    // optional for subclasses to implement\n  }\n\n\n  /*\n  For compairing/matching\n  */\n  getPrimitive(otherSource) {\n    // subclasses must implement\n  }\n\n\n  parseEventDefs(rawEventDefs) {\n    let i\n    let eventDef\n    let eventDefs = []\n\n    for (i = 0; i < rawEventDefs.length; i++) {\n      eventDef = this.parseEventDef(rawEventDefs[i])\n\n      if (eventDef) {\n        eventDefs.push(eventDef)\n      }\n    }\n\n    return eventDefs\n  }\n\n\n  parseEventDef(rawInput) {\n    let calendarTransform = this.calendar.opt('eventDataTransform')\n    let sourceTransform = this.eventDataTransform\n\n    if (calendarTransform) {\n      rawInput = calendarTransform(rawInput, this.calendar)\n    }\n    if (sourceTransform) {\n      rawInput = sourceTransform(rawInput, this.calendar)\n    }\n\n    return EventDefParser.parse(rawInput, this)\n  }\n\n\n  applyManualStandardProps(rawProps) {\n\n    if (rawProps.id != null) {\n      this.id = EventSource.normalizeId(rawProps.id)\n    }\n\n    // TODO: converge with EventDef\n    if ($.isArray(rawProps.className)) {\n      this.className = rawProps.className\n    } else if (typeof rawProps.className === 'string') {\n      this.className = rawProps.className.split(/\\s+/)\n    }\n\n    return true\n  }\n\n}\n\nParsableModelMixin.mixInto(EventSource)\n\n\n// Parsing\n// ---------------------------------------------------------------------------------------------------------------------\n\n\nEventSource.defineStandardProps({\n  // manually process...\n  id: false,\n  className: false,\n\n  // automatically transfer...\n  color: true,\n  backgroundColor: true,\n  borderColor: true,\n  textColor: true,\n  editable: true,\n  startEditable: true,\n  durationEditable: true,\n  rendering: true,\n  overlap: true,\n  constraint: true,\n  allDayDefault: true,\n  eventDataTransform: true\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/event-source/EventSource.ts","/*\nUtility methods for easily listening to events on another object,\nand more importantly, easily unlistening from them.\n\nUSAGE:\n  import { default as ListenerMixin, ListenerInterface } from './ListenerMixin'\nin class:\n  listenTo: ListenerInterface['listenTo']\n  stopListeningTo: ListenerInterface['stopListeningTo']\nafter class:\n  ListenerMixin.mixInto(TheClass)\n*/\n\nimport * as $ from 'jquery'\nimport Mixin from './Mixin'\n\nexport interface ListenerInterface {\n  listenTo(other, arg, callback?)\n  stopListeningTo(other, eventName?)\n}\n\nlet guid = 0\n\nexport default class ListenerMixin extends Mixin implements ListenerInterface {\n\n  listenerId: any\n\n  /*\n  Given an `other` object that has on/off methods, bind the given `callback` to an event by the given name.\n  The `callback` will be called with the `this` context of the object that .listenTo is being called on.\n  Can be called:\n    .listenTo(other, eventName, callback)\n  OR\n    .listenTo(other, {\n      eventName1: callback1,\n      eventName2: callback2\n    })\n  */\n  listenTo(other, arg, callback?) {\n    if (typeof arg === 'object') { // given dictionary of callbacks\n      for (let eventName in arg) {\n        if (arg.hasOwnProperty(eventName)) {\n          this.listenTo(other, eventName, arg[eventName])\n        }\n      }\n    } else if (typeof arg === 'string') {\n      other.on(\n        arg + '.' + this.getListenerNamespace(), // use event namespacing to identify this object\n        $.proxy(callback, this) // always use `this` context\n          // the usually-undesired jQuery guid behavior doesn't matter,\n          // because we always unbind via namespace\n      )\n    }\n  }\n\n  /*\n  Causes the current object to stop listening to events on the `other` object.\n  `eventName` is optional. If omitted, will stop listening to ALL events on `other`.\n  */\n  stopListeningTo(other, eventName?) {\n    other.off((eventName || '') + '.' + this.getListenerNamespace())\n  }\n\n  /*\n  Returns a string, unique to this object, to be used for event namespacing\n  */\n  getListenerNamespace() {\n    if (this.listenerId == null) {\n      this.listenerId = guid++\n    }\n    return '_listener' + this.listenerId\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/ListenerMixin.ts","import * as moment from 'moment'\nimport * as $ from 'jquery'\nimport { isNativeDate } from './util'\n\n/*\nGENERAL NOTE on moments throughout the *entire rest* of the codebase:\nAll moments are assumed to be ambiguously-zoned unless otherwise noted,\nwith the NOTABLE EXCEOPTION of start/end dates that live on *Event Objects*.\nAmbiguously-TIMED moments are assumed to be ambiguously-zoned by nature.\n*/\n\ndeclare module 'moment' {\n  interface Moment {\n    hasTime(): boolean\n    time(): moment.Duration\n    stripZone()\n    stripTime()\n  }\n}\n\nlet ambigDateOfMonthRegex = /^\\s*\\d{4}-\\d\\d$/\nlet ambigTimeOrZoneRegex =\n  /^\\s*\\d{4}-(?:(\\d\\d-\\d\\d)|(W\\d\\d$)|(W\\d\\d-\\d)|(\\d\\d\\d))((T| )(\\d\\d(:\\d\\d(:\\d\\d(\\.\\d+)?)?)?)?)?$/\nlet newMomentProto: any = moment.fn // where we will attach our new methods\nlet oldMomentProto = $.extend({}, newMomentProto) // copy of original moment methods\n\n// tell momentjs to transfer these properties upon clone\nlet momentProperties = (moment as any).momentProperties\nmomentProperties.push('_fullCalendar')\nmomentProperties.push('_ambigTime')\nmomentProperties.push('_ambigZone')\n\n/*\nCall this if you want Moment's original format method to be used\n*/\nfunction oldMomentFormat(mom, formatStr?) {\n  return oldMomentProto.format.call(mom, formatStr) // oldMomentProto defined in moment-ext.js\n}\n\nexport { newMomentProto, oldMomentProto, oldMomentFormat }\n\n\n// Creating\n// -------------------------------------------------------------------------------------------------\n\n// Creates a new moment, similar to the vanilla moment(...) constructor, but with\n// extra features (ambiguous time, enhanced formatting). When given an existing moment,\n// it will function as a clone (and retain the zone of the moment). Anything else will\n// result in a moment in the local zone.\nconst momentExt: any = function() {\n  return makeMoment(arguments)\n}\n\nexport default momentExt\n\n// Sames as momentExt, but forces the resulting moment to be in the UTC timezone.\nmomentExt.utc = function() {\n  let mom = makeMoment(arguments, true)\n\n  // Force it into UTC because makeMoment doesn't guarantee it\n  // (if given a pre-existing moment for example)\n  if (mom.hasTime()) { // don't give ambiguously-timed moments a UTC zone\n    mom.utc()\n  }\n\n  return mom\n}\n\n// Same as momentExt, but when given an ISO8601 string, the timezone offset is preserved.\n// ISO8601 strings with no timezone offset will become ambiguously zoned.\nmomentExt.parseZone = function() {\n  return makeMoment(arguments, true, true)\n}\n\n// Builds an enhanced moment from args. When given an existing moment, it clones. When given a\n// native Date, or called with no arguments (the current time), the resulting moment will be local.\n// Anything else needs to be \"parsed\" (a string or an array), and will be affected by:\n//    parseAsUTC - if there is no zone information, should we parse the input in UTC?\n//    parseZone - if there is zone information, should we force the zone of the moment?\nfunction makeMoment(args, parseAsUTC= false, parseZone= false) {\n  let input = args[0]\n  let isSingleString = args.length === 1 && typeof input === 'string'\n  let isAmbigTime\n  let isAmbigZone\n  let ambigMatch\n  let mom\n\n  if (moment.isMoment(input) || isNativeDate(input) || input === undefined) {\n    mom = moment.apply(null, args)\n  } else { // \"parsing\" is required\n    isAmbigTime = false\n    isAmbigZone = false\n\n    if (isSingleString) {\n      if (ambigDateOfMonthRegex.test(input)) {\n        // accept strings like '2014-05', but convert to the first of the month\n        input += '-01'\n        args = [ input ] // for when we pass it on to moment's constructor\n        isAmbigTime = true\n        isAmbigZone = true\n      } else if ((ambigMatch = ambigTimeOrZoneRegex.exec(input))) {\n        isAmbigTime = !ambigMatch[5] // no time part?\n        isAmbigZone = true\n      }\n    } else if ($.isArray(input)) {\n      // arrays have no timezone information, so assume ambiguous zone\n      isAmbigZone = true\n    }\n    // otherwise, probably a string with a format\n\n    if (parseAsUTC || isAmbigTime) {\n      mom = moment.utc.apply(moment, args)\n    } else {\n      mom = moment.apply(null, args)\n    }\n\n    if (isAmbigTime) {\n      mom._ambigTime = true\n      mom._ambigZone = true // ambiguous time always means ambiguous zone\n    } else if (parseZone) { // let's record the inputted zone somehow\n      if (isAmbigZone) {\n        mom._ambigZone = true\n      } else if (isSingleString) {\n        mom.utcOffset(input) // if not a valid zone, will assign UTC\n      }\n    }\n  }\n\n  mom._fullCalendar = true // flag for extended functionality\n\n  return mom\n}\n\n\n// Week Number\n// -------------------------------------------------------------------------------------------------\n\n\n// Returns the week number, considering the locale's custom week number calcuation\n// `weeks` is an alias for `week`\nnewMomentProto.week = newMomentProto.weeks = function(input) {\n  let weekCalc = this._locale._fullCalendar_weekCalc\n\n  if (input == null && typeof weekCalc === 'function') { // custom function only works for getter\n    return weekCalc(this)\n  } else if (weekCalc === 'ISO') {\n    return oldMomentProto.isoWeek.apply(this, arguments) // ISO getter/setter\n  }\n\n  return oldMomentProto.week.apply(this, arguments) // local getter/setter\n}\n\n\n// Time-of-day\n// -------------------------------------------------------------------------------------------------\n\n// GETTER\n// Returns a Duration with the hours/minutes/seconds/ms values of the moment.\n// If the moment has an ambiguous time, a duration of 00:00 will be returned.\n//\n// SETTER\n// You can supply a Duration, a Moment, or a Duration-like argument.\n// When setting the time, and the moment has an ambiguous time, it then becomes unambiguous.\nnewMomentProto.time = function(time) {\n\n  // Fallback to the original method (if there is one) if this moment wasn't created via FullCalendar.\n  // `time` is a generic enough method name where this precaution is necessary to avoid collisions w/ other plugins.\n  if (!this._fullCalendar) {\n    return oldMomentProto.time.apply(this, arguments)\n  }\n\n  if (time == null) { // getter\n    return moment.duration({\n      hours: this.hours(),\n      minutes: this.minutes(),\n      seconds: this.seconds(),\n      milliseconds: this.milliseconds()\n    })\n  } else { // setter\n\n    this._ambigTime = false // mark that the moment now has a time\n\n    if (!moment.isDuration(time) && !moment.isMoment(time)) {\n      time = moment.duration(time)\n    }\n\n    // The day value should cause overflow (so 24 hours becomes 00:00:00 of next day).\n    // Only for Duration times, not Moment times.\n    let dayHours = 0\n    if (moment.isDuration(time)) {\n      dayHours = Math.floor(time.asDays()) * 24\n    }\n\n    // We need to set the individual fields.\n    // Can't use startOf('day') then add duration. In case of DST at start of day.\n    return this.hours(dayHours + time.hours())\n      .minutes(time.minutes())\n      .seconds(time.seconds())\n      .milliseconds(time.milliseconds())\n  }\n}\n\n// Converts the moment to UTC, stripping out its time-of-day and timezone offset,\n// but preserving its YMD. A moment with a stripped time will display no time\n// nor timezone offset when .format() is called.\nnewMomentProto.stripTime = function() {\n\n  if (!this._ambigTime) {\n\n    this.utc(true) // keepLocalTime=true (for keeping *date* value)\n\n    // set time to zero\n    this.set({\n      hours: 0,\n      minutes: 0,\n      seconds: 0,\n      ms: 0\n    })\n\n    // Mark the time as ambiguous. This needs to happen after the .utc() call, which might call .utcOffset(),\n    // which clears all ambig flags.\n    this._ambigTime = true\n    this._ambigZone = true // if ambiguous time, also ambiguous timezone offset\n  }\n\n  return this // for chaining\n}\n\n// Returns if the moment has a non-ambiguous time (boolean)\nnewMomentProto.hasTime = function() {\n  return !this._ambigTime\n}\n\n\n// Timezone\n// -------------------------------------------------------------------------------------------------\n\n// Converts the moment to UTC, stripping out its timezone offset, but preserving its\n// YMD and time-of-day. A moment with a stripped timezone offset will display no\n// timezone offset when .format() is called.\nnewMomentProto.stripZone = function() {\n  let wasAmbigTime\n\n  if (!this._ambigZone) {\n\n    wasAmbigTime = this._ambigTime\n\n    this.utc(true) // keepLocalTime=true (for keeping date and time values)\n\n    // the above call to .utc()/.utcOffset() unfortunately might clear the ambig flags, so restore\n    this._ambigTime = wasAmbigTime || false\n\n    // Mark the zone as ambiguous. This needs to happen after the .utc() call, which might call .utcOffset(),\n    // which clears the ambig flags.\n    this._ambigZone = true\n  }\n\n  return this // for chaining\n}\n\n// Returns of the moment has a non-ambiguous timezone offset (boolean)\nnewMomentProto.hasZone = function() {\n  return !this._ambigZone\n}\n\n\n// implicitly marks a zone\nnewMomentProto.local = function(keepLocalTime) {\n\n  // for when converting from ambiguously-zoned to local,\n  // keep the time values when converting from UTC -> local\n  oldMomentProto.local.call(this, this._ambigZone || keepLocalTime)\n\n  // ensure non-ambiguous\n  // this probably already happened via local() -> utcOffset(), but don't rely on Moment's internals\n  this._ambigTime = false\n  this._ambigZone = false\n\n  return this // for chaining\n}\n\n\n// implicitly marks a zone\nnewMomentProto.utc = function(keepLocalTime) {\n\n  oldMomentProto.utc.call(this, keepLocalTime)\n\n  // ensure non-ambiguous\n  // this probably already happened via utc() -> utcOffset(), but don't rely on Moment's internals\n  this._ambigTime = false\n  this._ambigZone = false\n\n  return this\n}\n\n\n// implicitly marks a zone (will probably get called upon .utc() and .local())\nnewMomentProto.utcOffset = function(tzo) {\n\n  if (tzo != null) { // setter\n    // these assignments needs to happen before the original zone method is called.\n    // I forget why, something to do with a browser crash.\n    this._ambigTime = false\n    this._ambigZone = false\n  }\n\n  return oldMomentProto.utcOffset.apply(this, arguments)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/moment-ext.ts","/*\nUSAGE:\n  import { default as EmitterMixin, EmitterInterface } from './EmitterMixin'\nin class:\n  on: EmitterInterface['on']\n  one: EmitterInterface['one']\n  off: EmitterInterface['off']\n  trigger: EmitterInterface['trigger']\n  triggerWith: EmitterInterface['triggerWith']\n  hasHandlers: EmitterInterface['hasHandlers']\nafter class:\n  EmitterMixin.mixInto(TheClass)\n*/\n\nimport * as $ from 'jquery'\nimport Mixin from './Mixin'\n\nexport interface EmitterInterface {\n  on(types, handler)\n  one(types, handler)\n  off(types, handler)\n  trigger(types, ...args)\n  triggerWith(types, context, args)\n  hasHandlers(type)\n}\n\nexport default class EmitterMixin extends Mixin implements EmitterInterface {\n\n  // jQuery-ification via $(this) allows a non-DOM object to have\n  // the same event handling capabilities (including namespaces).\n\n\n  on(types, handler) {\n    $(this).on(types, this._prepareIntercept(handler))\n    return this // for chaining\n  }\n\n\n  one(types, handler) {\n    $(this).one(types, this._prepareIntercept(handler))\n    return this // for chaining\n  }\n\n\n  _prepareIntercept(handler) {\n    // handlers are always called with an \"event\" object as their first param.\n    // sneak the `this` context and arguments into the extra parameter object\n    // and forward them on to the original handler.\n    let intercept = function(ev, extra) {\n      return handler.apply(\n        extra.context || this,\n        extra.args || []\n      )\n    }\n\n    // mimick jQuery's internal \"proxy\" system (risky, I know)\n    // causing all functions with the same .guid to appear to be the same.\n    // https://github.com/jquery/jquery/blob/2.2.4/src/core.js#L448\n    // this is needed for calling .off with the original non-intercept handler.\n    if (!handler.guid) {\n      handler.guid = ($ as any).guid++\n    }\n    (intercept as any).guid = handler.guid\n\n    return intercept\n  }\n\n\n  off(types, handler) {\n    $(this).off(types, handler)\n\n    return this // for chaining\n  }\n\n\n  trigger(types, ...args) {\n    // pass in \"extra\" info to the intercept\n    $(this).triggerHandler(types, { args: args })\n\n    return this // for chaining\n  }\n\n\n  triggerWith(types, context, args) {\n\n    // `triggerHandler` is less reliant on the DOM compared to `trigger`.\n    // pass in \"extra\" info to the intercept.\n    $(this).triggerHandler(types, { context: context, args: args })\n\n    return this // for chaining\n  }\n\n\n  hasHandlers(type) {\n    let hash = ($ as any)._data(this, 'events') // http://blog.jquery.com/2012/08/09/jquery-1-8-released/\n\n    return hash && hash[type] && hash[type].length > 0\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/EmitterMixin.ts","\n/*\nMeant to be immutable\n*/\nexport default class ComponentFootprint {\n\n  unzonedRange: any\n  isAllDay: boolean = false // component can choose to ignore this\n\n\n  constructor(unzonedRange, isAllDay) {\n    this.unzonedRange = unzonedRange\n    this.isAllDay = isAllDay\n  }\n\n\n  /*\n  Only works for non-open-ended ranges.\n  */\n  toLegacy(calendar) {\n    return {\n      start: calendar.msToMoment(this.unzonedRange.startMs, this.isAllDay),\n      end: calendar.msToMoment(this.unzonedRange.endMs, this.isAllDay)\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/ComponentFootprint.ts","import EventDef from './EventDef'\nimport EventInstance from './EventInstance'\nimport EventDateProfile from './EventDateProfile'\n\n\nexport default class SingleEventDef extends EventDef {\n\n  dateProfile: any\n\n\n  /*\n  Will receive start/end params, but will be ignored.\n  */\n  buildInstances() {\n    return [ this.buildInstance() ]\n  }\n\n\n  buildInstance() {\n    return new EventInstance(\n      this, // definition\n      this.dateProfile\n    )\n  }\n\n\n  isAllDay() {\n    return this.dateProfile.isAllDay()\n  }\n\n\n  clone() {\n    let def = super.clone()\n\n    def.dateProfile = this.dateProfile\n\n    return def\n  }\n\n\n  rezone() {\n    let calendar = this.source.calendar\n    let dateProfile = this.dateProfile\n\n    this.dateProfile = new EventDateProfile(\n      calendar.moment(dateProfile.start),\n      dateProfile.end ? calendar.moment(dateProfile.end) : null,\n      calendar\n    )\n  }\n\n\n  /*\n  NOTE: if super-method fails, should still attempt to apply\n  */\n  applyManualStandardProps(rawProps) {\n    let superSuccess = super.applyManualStandardProps(rawProps)\n    let dateProfile = EventDateProfile.parse(rawProps, this.source) // returns null on failure\n\n    if (dateProfile) {\n      this.dateProfile = dateProfile\n\n      // make sure `date` shows up in the legacy event objects as-is\n      if (rawProps.date != null) {\n        this.miscProps.date = rawProps.date\n      }\n\n      return superSuccess\n    } else {\n      return false\n    }\n  }\n\n}\n\n\n// Parsing\n// ---------------------------------------------------------------------------------------------------------------------\n\n\nSingleEventDef.defineStandardProps({ // false = manually process\n  start: false,\n  date: false, // alias for 'start'\n  end: false,\n  allDay: false\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/event/SingleEventDef.ts","\nexport default class Mixin {\n\n  static mixInto(destClass) {\n    Object.getOwnPropertyNames(this.prototype).forEach((name) => { // copy methods\n      if (!destClass.prototype[name]) { // if destination class doesn't already define it\n        destClass.prototype[name] = this.prototype[name]\n      }\n    })\n  }\n\n  /*\n  will override existing methods\n  TODO: remove! not used anymore\n  */\n  static mixOver(destClass) {\n    Object.getOwnPropertyNames(this.prototype).forEach((name) => { // copy methods\n      destClass.prototype[name] = this.prototype[name]\n    })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/Mixin.ts","\nexport default class Interaction {\n\n  view: any\n  component: any\n\n\n  constructor(component) {\n    this.view = component._getView()\n    this.component = component\n  }\n\n\n  opt(name) {\n    return this.view.opt(name)\n  }\n\n\n  end() {\n    // subclasses can implement\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/interactions/Interaction.ts","\nexport const version = '0.0.0'\n\n// When introducing internal API incompatibilities (where fullcalendar plugins would break),\n// the minor version of the calendar should be upped (ex: 2.7.2 -> 2.8.0)\n// and the below integer should be incremented.\nexport const internalApiVersion = 12\n\nexport {\n  BusinessHoursInput,\n  EventObjectInput,\n  EventOptionsBase,\n  OptionsInput\n} from './types/input-types'\n\nexport {\n  applyAll,\n  debounce,\n  isInt,\n  htmlEscape,\n  cssToStr,\n  proxy,\n  capitaliseFirstLetter,\n  getOuterRect,\n  getClientRect,\n  getContentRect,\n  getScrollbarWidths,\n  preventDefault,\n  parseFieldSpecs,\n  compareByFieldSpecs,\n  compareByFieldSpec,\n  flexibleCompare,\n  computeGreatestUnit,\n  divideRangeByDuration,\n  divideDurationByDuration,\n  multiplyDuration,\n  durationHasTime,\n  log,\n  warn,\n  removeExact,\n  intersectRects\n} from './util'\n\nexport {\n  formatDate,\n  formatRange,\n  queryMostGranularFormatUnit\n} from './date-formatting'\n\nexport {\n  datepickerLocale,\n  locale\n} from './locale'\n\nexport { default as moment } from './moment-ext'\nexport { default as EmitterMixin, EmitterInterface } from './common/EmitterMixin'\nexport { default as ListenerMixin, ListenerInterface } from './common/ListenerMixin'\nexport { default as Model } from './common/Model'\nexport { default as Constraints } from './Constraints'\nexport { default as UnzonedRange } from './models/UnzonedRange'\nexport { default as ComponentFootprint } from './models/ComponentFootprint'\nexport { default as BusinessHourGenerator } from './models/BusinessHourGenerator'\nexport { default as EventDef } from './models/event/EventDef'\nexport { default as EventDefMutation } from './models/event/EventDefMutation'\nexport { default as EventSourceParser } from './models/event-source/EventSourceParser'\nexport { default as EventSource } from './models/event-source/EventSource'\nexport { defineThemeSystem } from './theme/ThemeRegistry'\nexport { default as EventInstanceGroup } from './models/event/EventInstanceGroup'\nexport { default as ArrayEventSource } from './models/event-source/ArrayEventSource'\nexport { default as FuncEventSource } from './models/event-source/FuncEventSource'\nexport { default as JsonFeedEventSource } from './models/event-source/JsonFeedEventSource'\nexport { default as EventFootprint } from './models/event/EventFootprint'\nexport { default as Class } from './common/Class'\nexport { default as Mixin } from './common/Mixin'\nexport { default as CoordCache } from './common/CoordCache'\nexport { default as DragListener } from './common/DragListener'\nexport { default as Promise } from './common/Promise'\nexport { default as TaskQueue } from './common/TaskQueue'\nexport { default as RenderQueue } from './common/RenderQueue'\nexport { default as Scroller } from './common/Scroller'\nexport { default as Theme } from './theme/Theme'\nexport { default as DateComponent } from './component/DateComponent'\nexport { default as InteractiveDateComponent } from './component/InteractiveDateComponent'\nexport { default as Calendar } from './Calendar'\nexport { default as View } from './View'\nexport { defineView, getViewConfig } from './ViewRegistry'\nexport { default as DayTableMixin } from './component/DayTableMixin'\nexport { default as BusinessHourRenderer } from './component/renderers/BusinessHourRenderer'\nexport { default as EventRenderer } from './component/renderers/EventRenderer'\nexport { default as FillRenderer } from './component/renderers/FillRenderer'\nexport { default as HelperRenderer } from './component/renderers/HelperRenderer'\nexport { default as ExternalDropping } from './component/interactions/ExternalDropping'\nexport { default as EventResizing } from './component/interactions/EventResizing'\nexport { default as EventPointing } from './component/interactions/EventPointing'\nexport { default as EventDragging } from './component/interactions/EventDragging'\nexport { default as DateSelecting } from './component/interactions/DateSelecting'\nexport { default as StandardInteractionsMixin } from './component/interactions/StandardInteractionsMixin'\nexport { default as AgendaView } from './agenda/AgendaView'\nexport { default as TimeGrid } from './agenda/TimeGrid'\nexport { default as DayGrid } from './basic/DayGrid'\nexport { default as BasicView } from './basic/BasicView'\nexport { default as MonthView } from './basic/MonthView'\nexport { default as ListView } from './list/ListView'\n\n\n\n// WEBPACK FOOTER //\n// ./src/exports.ts","import UnzonedRange from '../UnzonedRange'\n\n/*\nMeant to be immutable\n*/\nexport default class EventDateProfile {\n\n  start: any\n  end: any\n  unzonedRange: any\n\n\n  constructor(start, end, calendar) {\n    this.start = start\n    this.end = end || null\n    this.unzonedRange = this.buildUnzonedRange(calendar)\n  }\n\n\n  /*\n  Needs an EventSource object\n  */\n  static parse(rawProps, source) {\n    let startInput = rawProps.start || rawProps.date\n    let endInput = rawProps.end\n\n    if (!startInput) {\n      return false\n    }\n\n    let calendar = source.calendar\n    let start = calendar.moment(startInput)\n    let end = endInput ? calendar.moment(endInput) : null\n    let forcedAllDay = rawProps.allDay\n    let forceEventDuration = calendar.opt('forceEventDuration')\n\n    if (!start.isValid()) {\n      return false\n    }\n\n    if (end && (!end.isValid() || !end.isAfter(start))) {\n      end = null\n    }\n\n    if (forcedAllDay == null) {\n      forcedAllDay = source.allDayDefault\n      if (forcedAllDay == null) {\n        forcedAllDay = calendar.opt('allDayDefault')\n      }\n    }\n\n    if (forcedAllDay === true) {\n      start.stripTime()\n      if (end) {\n        end.stripTime()\n      }\n    } else if (forcedAllDay === false) {\n      if (!start.hasTime()) {\n        start.time(0)\n      }\n      if (end && !end.hasTime()) {\n        end.time(0)\n      }\n    }\n\n    if (!end && forceEventDuration) {\n      end = calendar.getDefaultEventEnd(!start.hasTime(), start)\n    }\n\n    return new EventDateProfile(start, end, calendar)\n  }\n\n\n  static isStandardProp(propName) {\n    return propName === 'start' || propName === 'date' || propName === 'end' || propName === 'allDay'\n  }\n\n\n  isAllDay() { // why recompute this every time?\n    return !(this.start.hasTime() || (this.end && this.end.hasTime()))\n  }\n\n\n  /*\n  Needs a Calendar object\n  */\n  buildUnzonedRange(calendar) {\n    let startMs = this.start.clone().stripZone().valueOf()\n    let endMs = this.getEnd(calendar).stripZone().valueOf()\n\n    return new UnzonedRange(startMs, endMs)\n  }\n\n\n  /*\n  Needs a Calendar object\n  */\n  getEnd(calendar) {\n    return this.end ?\n      this.end.clone() :\n      // derive the end from the start and allDay. compute allDay if necessary\n      calendar.getDefaultEventEnd(\n        this.isAllDay(),\n        this.start\n      )\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/event/EventDateProfile.ts","import UnzonedRange from '../UnzonedRange'\nimport { eventInstanceToEventRange, eventInstanceToUnzonedRange } from './util'\nimport EventRange from './EventRange'\n\n/*\nIt's expected that there will be at least one EventInstance,\nOR that an explicitEventDef is assigned.\n*/\nexport default class EventInstanceGroup {\n\n  eventInstances: any\n  explicitEventDef: any // optional\n\n\n  constructor(eventInstances?) {\n    this.eventInstances = eventInstances || []\n  }\n\n\n  getAllEventRanges(constraintRange) {\n    if (constraintRange) {\n      return this.sliceNormalRenderRanges(constraintRange)\n    } else {\n      return this.eventInstances.map(eventInstanceToEventRange)\n    }\n  }\n\n\n  sliceRenderRanges(constraintRange) {\n    if (this.isInverse()) {\n      return this.sliceInverseRenderRanges(constraintRange)\n    } else {\n      return this.sliceNormalRenderRanges(constraintRange)\n    }\n  }\n\n\n  sliceNormalRenderRanges(constraintRange) {\n    let eventInstances = this.eventInstances\n    let i\n    let eventInstance\n    let slicedRange\n    let slicedEventRanges = []\n\n    for (i = 0; i < eventInstances.length; i++) {\n      eventInstance = eventInstances[i]\n\n      slicedRange = eventInstance.dateProfile.unzonedRange.intersect(constraintRange)\n\n      if (slicedRange) {\n        slicedEventRanges.push(\n          new EventRange(\n            slicedRange,\n            eventInstance.def,\n            eventInstance\n          )\n        )\n      }\n    }\n\n    return slicedEventRanges\n  }\n\n\n  sliceInverseRenderRanges(constraintRange) {\n    let unzonedRanges = this.eventInstances.map(eventInstanceToUnzonedRange)\n    let ownerDef = this.getEventDef()\n\n    unzonedRanges = UnzonedRange.invertRanges(unzonedRanges, constraintRange)\n\n    return unzonedRanges.map(function(unzonedRange) {\n      return new EventRange(unzonedRange, ownerDef) // don't give an EventInstance\n    })\n  }\n\n\n  isInverse() {\n    return this.getEventDef().hasInverseRendering()\n  }\n\n\n  getEventDef() {\n    return this.explicitEventDef || this.eventInstances[0].def\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/event/EventInstanceGroup.ts","import * as $ from 'jquery'\n\n\nexport default class Theme {\n\n  optionsManager: any\n\n  // settings. default values are set after the class\n  classes: any\n  iconClasses: any\n  baseIconClass: string\n  iconOverrideOption: any\n  iconOverrideCustomButtonOption: any\n  iconOverridePrefix: string\n\n\n  constructor(optionsManager) {\n    this.optionsManager = optionsManager\n    this.processIconOverride()\n  }\n\n\n  processIconOverride() {\n    if (this.iconOverrideOption) {\n      this.setIconOverride(\n        this.optionsManager.get(this.iconOverrideOption)\n      )\n    }\n  }\n\n\n  setIconOverride(iconOverrideHash) {\n    let iconClassesCopy\n    let buttonName\n\n    if ($.isPlainObject(iconOverrideHash)) {\n      iconClassesCopy = $.extend({}, this.iconClasses)\n\n      for (buttonName in iconOverrideHash) {\n        iconClassesCopy[buttonName] = this.applyIconOverridePrefix(\n          iconOverrideHash[buttonName]\n        )\n      }\n\n      this.iconClasses = iconClassesCopy\n    } else if (iconOverrideHash === false) {\n      this.iconClasses = {}\n    }\n  }\n\n\n  applyIconOverridePrefix(className) {\n    let prefix = this.iconOverridePrefix\n\n    if (prefix && className.indexOf(prefix) !== 0) { // if not already present\n      className = prefix + className\n    }\n\n    return className\n  }\n\n\n  getClass(key) {\n    return this.classes[key] || ''\n  }\n\n\n  getIconClass(buttonName) {\n    let className = this.iconClasses[buttonName]\n\n    if (className) {\n      return this.baseIconClass + ' ' + className\n    }\n\n    return ''\n  }\n\n\n  getCustomButtonIconClass(customButtonProps) {\n    let className\n\n    if (this.iconOverrideCustomButtonOption) {\n      className = customButtonProps[this.iconOverrideCustomButtonOption]\n\n      if (className) {\n        return this.baseIconClass + ' ' + this.applyIconOverridePrefix(className)\n      }\n    }\n\n    return ''\n  }\n\n}\n\nTheme.prototype.classes = {}\nTheme.prototype.iconClasses = {}\nTheme.prototype.baseIconClass = ''\nTheme.prototype.iconOverridePrefix = ''\n\n\n\n// WEBPACK FOOTER //\n// ./src/theme/Theme.ts","import * as $ from 'jquery'\n\n\nconst PromiseStub = {\n\n  construct: function(executor) {\n    let deferred = $.Deferred()\n    let promise = deferred.promise()\n\n    if (typeof executor === 'function') {\n      executor(\n        function(val) { // resolve\n          deferred.resolve(val)\n          attachImmediatelyResolvingThen(promise, val)\n        },\n        function() { // reject\n          deferred.reject()\n          attachImmediatelyRejectingThen(promise)\n        }\n      )\n    }\n\n    return promise\n  },\n\n  resolve: function(val) {\n    let deferred = $.Deferred().resolve(val)\n    let promise = deferred.promise()\n\n    attachImmediatelyResolvingThen(promise, val)\n\n    return promise\n  },\n\n  reject: function() {\n    let deferred = $.Deferred().reject()\n    let promise = deferred.promise()\n\n    attachImmediatelyRejectingThen(promise)\n\n    return promise\n  }\n\n}\n\nexport default PromiseStub\n\n\nfunction attachImmediatelyResolvingThen(promise, val) {\n  promise.then = function(onResolve) {\n    if (typeof onResolve === 'function') {\n      return PromiseStub.resolve(onResolve(val))\n    }\n    return promise\n  }\n}\n\n\nfunction attachImmediatelyRejectingThen(promise) {\n  promise.then = function(onResolve, onReject) {\n    if (typeof onReject === 'function') {\n      onReject()\n    }\n    return promise\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/Promise.ts","import * as $ from 'jquery'\nimport * as exportHooks from '../exports'\nimport { default as EmitterMixin, EmitterInterface } from './EmitterMixin'\nimport { default as ListenerMixin, ListenerInterface } from './ListenerMixin'\n\n(exportHooks as any).touchMouseIgnoreWait = 500\n\nlet globalEmitter = null\nlet neededCount = 0\n\n/*\nListens to document and window-level user-interaction events, like touch events and mouse events,\nand fires these events as-is to whoever is observing a GlobalEmitter.\nBest when used as a singleton via GlobalEmitter.get()\n\nNormalizes mouse/touch events. For examples:\n- ignores the the simulated mouse events that happen after a quick tap: mousemove+mousedown+mouseup+click\n- compensates for various buggy scenarios where a touchend does not fire\n*/\nexport default class GlobalEmitter {\n\n  on: EmitterInterface['on']\n  one: EmitterInterface['one']\n  off: EmitterInterface['off']\n  trigger: EmitterInterface['trigger']\n  triggerWith: EmitterInterface['triggerWith']\n  hasHandlers: EmitterInterface['hasHandlers']\n  listenTo: ListenerInterface['listenTo']\n  stopListeningTo: ListenerInterface['stopListeningTo']\n\n  isTouching: boolean = false\n  mouseIgnoreDepth: number = 0\n  handleScrollProxy: (ev: Event) => void\n  handleTouchMoveProxy: (ev: Event) => void\n\n\n  // gets the singleton\n  static get() {\n    if (!globalEmitter) {\n      globalEmitter = new GlobalEmitter()\n      globalEmitter.bind()\n    }\n\n    return globalEmitter\n  }\n\n\n  // called when an object knows it will need a GlobalEmitter in the near future.\n  static needed() {\n    GlobalEmitter.get() // ensures globalEmitter\n    neededCount++\n  }\n\n\n  // called when the object that originally called needed() doesn't need a GlobalEmitter anymore.\n  static unneeded() {\n    neededCount--\n\n    if (!neededCount) { // nobody else needs it\n      globalEmitter.unbind()\n      globalEmitter = null\n    }\n  }\n\n\n  bind() {\n    this.listenTo($(document), {\n      touchstart: this.handleTouchStart,\n      touchcancel: this.handleTouchCancel,\n      touchend: this.handleTouchEnd,\n      mousedown: this.handleMouseDown,\n      mousemove: this.handleMouseMove,\n      mouseup: this.handleMouseUp,\n      click: this.handleClick,\n      selectstart: this.handleSelectStart,\n      contextmenu: this.handleContextMenu\n    })\n\n    // because we need to call preventDefault\n    // because https://www.chromestatus.com/features/5093566007214080\n    // TODO: investigate performance because this is a global handler\n    window.addEventListener(\n      'touchmove',\n      this.handleTouchMoveProxy = (ev) => {\n        this.handleTouchMove($.Event(ev as any))\n      },\n      { passive: false } as any // allows preventDefault()\n    )\n\n    // attach a handler to get called when ANY scroll action happens on the page.\n    // this was impossible to do with normal on/off because 'scroll' doesn't bubble.\n    // http://stackoverflow.com/a/32954565/96342\n    window.addEventListener(\n      'scroll',\n      this.handleScrollProxy = (ev) => {\n        this.handleScroll($.Event(ev as any))\n      },\n      true // useCapture\n    )\n  }\n\n  unbind() {\n    this.stopListeningTo($(document))\n\n    window.removeEventListener(\n      'touchmove',\n      this.handleTouchMoveProxy\n    )\n\n    window.removeEventListener(\n      'scroll',\n      this.handleScrollProxy,\n      true // useCapture\n    )\n  }\n\n\n  // Touch Handlers\n  // -----------------------------------------------------------------------------------------------------------------\n\n  handleTouchStart(ev) {\n\n    // if a previous touch interaction never ended with a touchend, then implicitly end it,\n    // but since a new touch interaction is about to begin, don't start the mouse ignore period.\n    this.stopTouch(ev, true) // skipMouseIgnore=true\n\n    this.isTouching = true\n    this.trigger('touchstart', ev)\n  }\n\n  handleTouchMove(ev) {\n    if (this.isTouching) {\n      this.trigger('touchmove', ev)\n    }\n  }\n\n  handleTouchCancel(ev) {\n    if (this.isTouching) {\n      this.trigger('touchcancel', ev)\n\n      // Have touchcancel fire an artificial touchend. That way, handlers won't need to listen to both.\n      // If touchend fires later, it won't have any effect b/c isTouching will be false.\n      this.stopTouch(ev)\n    }\n  }\n\n  handleTouchEnd(ev) {\n    this.stopTouch(ev)\n  }\n\n\n  // Mouse Handlers\n  // -----------------------------------------------------------------------------------------------------------------\n\n  handleMouseDown(ev) {\n    if (!this.shouldIgnoreMouse()) {\n      this.trigger('mousedown', ev)\n    }\n  }\n\n  handleMouseMove(ev) {\n    if (!this.shouldIgnoreMouse()) {\n      this.trigger('mousemove', ev)\n    }\n  }\n\n  handleMouseUp(ev) {\n    if (!this.shouldIgnoreMouse()) {\n      this.trigger('mouseup', ev)\n    }\n  }\n\n  handleClick(ev) {\n    if (!this.shouldIgnoreMouse()) {\n      this.trigger('click', ev)\n    }\n  }\n\n\n  // Misc Handlers\n  // -----------------------------------------------------------------------------------------------------------------\n\n  handleSelectStart(ev) {\n    this.trigger('selectstart', ev)\n  }\n\n  handleContextMenu(ev) {\n    this.trigger('contextmenu', ev)\n  }\n\n  handleScroll(ev) {\n    this.trigger('scroll', ev)\n  }\n\n\n  // Utils\n  // -----------------------------------------------------------------------------------------------------------------\n\n  stopTouch(ev, skipMouseIgnore= false) {\n    if (this.isTouching) {\n      this.isTouching = false\n      this.trigger('touchend', ev)\n\n      if (!skipMouseIgnore) {\n        this.startTouchMouseIgnore()\n      }\n    }\n  }\n\n  startTouchMouseIgnore() {\n    let wait = (exportHooks as any).touchMouseIgnoreWait\n\n    if (wait) {\n      this.mouseIgnoreDepth++\n      setTimeout(() => {\n        this.mouseIgnoreDepth--\n      }, wait)\n    }\n  }\n\n  shouldIgnoreMouse() {\n    return this.isTouching || Boolean(this.mouseIgnoreDepth)\n  }\n\n}\n\nListenerMixin.mixInto(GlobalEmitter)\nEmitterMixin.mixInto(GlobalEmitter)\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/GlobalEmitter.ts","import * as exportHooks from './exports'\n\n\nexport const viewHash = {};\n(exportHooks as any).views = viewHash\n\n\nexport function defineView(viewName, viewConfig) {\n  viewHash[viewName] = viewConfig\n}\n\n\nexport function getViewConfig(viewName) {\n  return viewHash[viewName]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ViewRegistry.ts","import {\n  getEvX,\n  getEvY,\n  getOuterRect,\n  constrainPoint,\n  intersectRects,\n  getRectCenter,\n  diffPoints\n} from '../util'\nimport DragListener from './DragListener'\n\n\n/* Tracks mouse movements over a component and raises events about which hit the mouse is over.\n------------------------------------------------------------------------------------------------------------------------\noptions:\n- subjectEl\n- subjectCenter\n*/\n\nexport default class HitDragListener extends DragListener {\n\n  component: any // converts coordinates to hits\n    // methods: hitsNeeded, hitsNotNeeded, queryHit\n\n  origHit: any // the hit the mouse was over when listening started\n  hit: any // the hit the mouse is over\n  coordAdjust: any // delta that will be added to the mouse coordinates when computing collisions\n\n\n  constructor(component, options) {\n    super(options)\n    this.component = component\n  }\n\n  // Called when drag listening starts (but a real drag has not necessarily began).\n  // ev might be undefined if dragging was started manually.\n  handleInteractionStart(ev) {\n    let subjectEl = this.subjectEl\n    let subjectRect\n    let origPoint\n    let point\n\n    this.component.hitsNeeded()\n    this.computeScrollBounds() // for autoscroll\n\n    if (ev) {\n      origPoint = { left: getEvX(ev), top: getEvY(ev) }\n      point = origPoint\n\n      // constrain the point to bounds of the element being dragged\n      if (subjectEl) {\n        subjectRect = getOuterRect(subjectEl) // used for centering as well\n        point = constrainPoint(point, subjectRect)\n      }\n\n      this.origHit = this.queryHit(point.left, point.top)\n\n      // treat the center of the subject as the collision point?\n      if (subjectEl && this.options.subjectCenter) {\n\n        // only consider the area the subject overlaps the hit. best for large subjects.\n        // TODO: skip this if hit didn't supply left/right/top/bottom\n        if (this.origHit) {\n          subjectRect = intersectRects(this.origHit, subjectRect) ||\n            subjectRect // in case there is no intersection\n        }\n\n        point = getRectCenter(subjectRect)\n      }\n\n      this.coordAdjust = diffPoints(point, origPoint) // point - origPoint\n    } else {\n      this.origHit = null\n      this.coordAdjust = null\n    }\n\n    // call the super-method. do it after origHit has been computed\n    super.handleInteractionStart(ev)\n  }\n\n\n  // Called when the actual drag has started\n  handleDragStart(ev) {\n    let hit\n\n    super.handleDragStart(ev)\n\n    // might be different from this.origHit if the min-distance is large\n    hit = this.queryHit(getEvX(ev), getEvY(ev))\n\n    // report the initial hit the mouse is over\n    // especially important if no min-distance and drag starts immediately\n    if (hit) {\n      this.handleHitOver(hit)\n    }\n  }\n\n\n  // Called when the drag moves\n  handleDrag(dx, dy, ev) {\n    let hit\n\n    super.handleDrag(dx, dy, ev)\n\n    hit = this.queryHit(getEvX(ev), getEvY(ev))\n\n    if (!isHitsEqual(hit, this.hit)) { // a different hit than before?\n      if (this.hit) {\n        this.handleHitOut()\n      }\n      if (hit) {\n        this.handleHitOver(hit)\n      }\n    }\n  }\n\n\n  // Called when dragging has been stopped\n  handleDragEnd(ev) {\n    this.handleHitDone()\n    super.handleDragEnd(ev)\n  }\n\n\n  // Called when a the mouse has just moved over a new hit\n  handleHitOver(hit) {\n    let isOrig = isHitsEqual(hit, this.origHit)\n\n    this.hit = hit\n\n    this.trigger('hitOver', this.hit, isOrig, this.origHit)\n  }\n\n\n  // Called when the mouse has just moved out of a hit\n  handleHitOut() {\n    if (this.hit) {\n      this.trigger('hitOut', this.hit)\n      this.handleHitDone()\n      this.hit = null\n    }\n  }\n\n\n  // Called after a hitOut. Also called before a dragStop\n  handleHitDone() {\n    if (this.hit) {\n      this.trigger('hitDone', this.hit)\n    }\n  }\n\n\n  // Called when the interaction ends, whether there was a real drag or not\n  handleInteractionEnd(ev, isCancelled) {\n    super.handleInteractionEnd(ev, isCancelled)\n\n    this.origHit = null\n    this.hit = null\n\n    this.component.hitsNotNeeded()\n  }\n\n\n  // Called when scrolling has stopped, whether through auto scroll, or the user scrolling\n  handleScrollEnd() {\n    super.handleScrollEnd()\n\n    // hits' absolute positions will be in new places after a user's scroll.\n    // HACK for recomputing.\n    if (this.isDragging) {\n      this.component.releaseHits()\n      this.component.prepareHits()\n    }\n  }\n\n\n  // Gets the hit underneath the coordinates for the given mouse event\n  queryHit(left, top) {\n\n    if (this.coordAdjust) {\n      left += this.coordAdjust.left\n      top += this.coordAdjust.top\n    }\n\n    return this.component.queryHit(left, top)\n  }\n\n}\n\n\n// Returns `true` if the hits are identically equal. `false` otherwise. Must be from the same component.\n// Two null values will be considered equal, as two \"out of the component\" states are the same.\nfunction isHitsEqual(hit0, hit1) {\n\n  if (!hit0 && !hit1) {\n    return true\n  }\n\n  if (hit0 && hit1) {\n    return hit0.component === hit1.component &&\n      isHitPropsWithin(hit0, hit1) &&\n      isHitPropsWithin(hit1, hit0) // ensures all props are identical\n  }\n\n  return false\n}\n\n\n// Returns true if all of subHit's non-standard properties are within superHit\nfunction isHitPropsWithin(subHit, superHit) {\n  for (let propName in subHit) {\n    if (!/^(component|left|right|top|bottom)$/.test(propName)) {\n      if (subHit[propName] !== superHit[propName]) {\n        return false\n      }\n    }\n  }\n  return true\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/HitDragListener.ts","import * as $ from 'jquery'\nimport * as moment from 'moment'\nimport * as exportHooks from './exports'\nimport { mergeOptions, globalDefaults, englishDefaults } from './options'\nimport { stripHtmlEntities } from './util'\n\nexport const localeOptionHash = {};\n(exportHooks as any).locales = localeOptionHash\n\n\n// NOTE: can't guarantee any of these computations will run because not every locale has datepicker\n// configs, so make sure there are English fallbacks for these in the defaults file.\nconst dpComputableOptions = {\n\n  buttonText: function(dpOptions) {\n    return {\n      // the translations sometimes wrongly contain HTML entities\n      prev: stripHtmlEntities(dpOptions.prevText),\n      next: stripHtmlEntities(dpOptions.nextText),\n      today: stripHtmlEntities(dpOptions.currentText)\n    }\n  },\n\n  // Produces format strings like \"MMMM YYYY\" -> \"September 2014\"\n  monthYearFormat: function(dpOptions) {\n    return dpOptions.showMonthAfterYear ?\n      'YYYY[' + dpOptions.yearSuffix + '] MMMM' :\n      'MMMM YYYY[' + dpOptions.yearSuffix + ']'\n  }\n\n}\n\n\nconst momComputableOptions = {\n\n  // Produces format strings like \"ddd M/D\" -> \"Fri 9/15\"\n  dayOfMonthFormat: function(momOptions, fcOptions) {\n    let format = momOptions.longDateFormat('l') // for the format like \"M/D/YYYY\"\n\n    // strip the year off the edge, as well as other misc non-whitespace chars\n    format = format.replace(/^Y+[^\\w\\s]*|[^\\w\\s]*Y+$/g, '')\n\n    if (fcOptions.isRTL) {\n      format += ' ddd' // for RTL, add day-of-week to end\n    } else {\n      format = 'ddd ' + format // for LTR, add day-of-week to beginning\n    }\n    return format\n  },\n\n  // Produces format strings like \"h:mma\" -> \"6:00pm\"\n  mediumTimeFormat: function(momOptions) { // can't be called `timeFormat` because collides with option\n    return momOptions.longDateFormat('LT')\n      .replace(/\\s*a$/i, 'a') // convert AM/PM/am/pm to lowercase. remove any spaces beforehand\n  },\n\n  // Produces format strings like \"h(:mm)a\" -> \"6pm\" / \"6:30pm\"\n  smallTimeFormat: function(momOptions) {\n    return momOptions.longDateFormat('LT')\n      .replace(':mm', '(:mm)')\n      .replace(/(\\Wmm)$/, '($1)') // like above, but for foreign locales\n      .replace(/\\s*a$/i, 'a') // convert AM/PM/am/pm to lowercase. remove any spaces beforehand\n  },\n\n  // Produces format strings like \"h(:mm)t\" -> \"6p\" / \"6:30p\"\n  extraSmallTimeFormat: function(momOptions) {\n    return momOptions.longDateFormat('LT')\n      .replace(':mm', '(:mm)')\n      .replace(/(\\Wmm)$/, '($1)') // like above, but for foreign locales\n      .replace(/\\s*a$/i, 't') // convert to AM/PM/am/pm to lowercase one-letter. remove any spaces beforehand\n  },\n\n  // Produces format strings like \"ha\" / \"H\" -> \"6pm\" / \"18\"\n  hourFormat: function(momOptions) {\n    return momOptions.longDateFormat('LT')\n      .replace(':mm', '')\n      .replace(/(\\Wmm)$/, '') // like above, but for foreign locales\n      .replace(/\\s*a$/i, 'a') // convert AM/PM/am/pm to lowercase. remove any spaces beforehand\n  },\n\n  // Produces format strings like \"h:mm\" -> \"6:30\" (with no AM/PM)\n  noMeridiemTimeFormat: function(momOptions) {\n    return momOptions.longDateFormat('LT')\n      .replace(/\\s*a$/i, '') // remove trailing AM/PM\n  }\n\n}\n\n\n// options that should be computed off live calendar options (considers override options)\n// TODO: best place for this? related to locale?\n// TODO: flipping text based on isRTL is a bad idea because the CSS `direction` might want to handle it\nconst instanceComputableOptions = {\n\n  // Produces format strings for results like \"Mo 16\"\n  smallDayDateFormat: function(options) {\n    return options.isRTL ?\n      'D dd' :\n      'dd D'\n  },\n\n  // Produces format strings for results like \"Wk 5\"\n  weekFormat: function(options) {\n    return options.isRTL ?\n      'w[ ' + options.weekNumberTitle + ']' :\n      '[' + options.weekNumberTitle + ' ]w'\n  },\n\n  // Produces format strings for results like \"Wk5\"\n  smallWeekFormat: function(options) {\n    return options.isRTL ?\n      'w[' + options.weekNumberTitle + ']' :\n      '[' + options.weekNumberTitle + ']w'\n  }\n\n}\n\n\n// TODO: make these computable properties in optionsManager\nexport function populateInstanceComputableOptions(options) {\n  $.each(instanceComputableOptions, function(name, func) {\n    if (options[name] == null) {\n      options[name] = func(options)\n    }\n  })\n}\n\n\n// Initialize jQuery UI datepicker translations while using some of the translations\n// Will set this as the default locales for datepicker.\nexport function datepickerLocale(localeCode, dpLocaleCode, dpOptions) {\n\n  // get the FullCalendar internal option hash for this locale. create if necessary\n  let fcOptions = localeOptionHash[localeCode] || (localeOptionHash[localeCode] = {})\n\n  // transfer some simple options from datepicker to fc\n  fcOptions.isRTL = dpOptions.isRTL\n  fcOptions.weekNumberTitle = dpOptions.weekHeader\n\n  // compute some more complex options from datepicker\n  $.each(dpComputableOptions, function(name, func) {\n    fcOptions[name] = func(dpOptions)\n  })\n\n  let jqDatePicker = ($ as any).datepicker\n\n  // is jQuery UI Datepicker is on the page?\n  if (jqDatePicker) {\n\n    // Register the locale data.\n    // FullCalendar and MomentJS use locale codes like \"pt-br\" but Datepicker\n    // does it like \"pt-BR\" or if it doesn't have the locale, maybe just \"pt\".\n    // Make an alias so the locale can be referenced either way.\n    jqDatePicker.regional[dpLocaleCode] =\n      jqDatePicker.regional[localeCode] = // alias\n        dpOptions\n\n    // Alias 'en' to the default locale data. Do this every time.\n    jqDatePicker.regional.en = jqDatePicker.regional['']\n\n    // Set as Datepicker's global defaults.\n    jqDatePicker.setDefaults(dpOptions)\n  }\n}\n\n\n// Sets FullCalendar-specific translations. Will set the locales as the global default.\nexport function locale(localeCode, newFcOptions) {\n  let fcOptions\n  let momOptions\n\n  // get the FullCalendar internal option hash for this locale. create if necessary\n  fcOptions = localeOptionHash[localeCode] || (localeOptionHash[localeCode] = {})\n\n  // provided new options for this locales? merge them in\n  if (newFcOptions) {\n    fcOptions = localeOptionHash[localeCode] = mergeOptions([ fcOptions, newFcOptions ])\n  }\n\n  // compute locale options that weren't defined.\n  // always do this. newFcOptions can be undefined when initializing from i18n file,\n  // so no way to tell if this is an initialization or a default-setting.\n  momOptions = getMomentLocaleData(localeCode) // will fall back to en\n  $.each(momComputableOptions, function(name, func) {\n    if (fcOptions[name] == null) {\n      fcOptions[name] = (func)(momOptions, fcOptions)\n    }\n  })\n\n  // set it as the default locale for FullCalendar\n  globalDefaults.locale = localeCode\n}\n\n\n// Returns moment's internal locale data. If doesn't exist, returns English.\nexport function getMomentLocaleData(localeCode) {\n  return moment.localeData(localeCode) || moment.localeData('en')\n}\n\n\n// Initialize English by forcing computation of moment-derived options.\n// Also, sets it as the default.\nlocale('en', englishDefaults)\n\n\n\n// WEBPACK FOOTER //\n// ./src/locale.ts","import { mergeProps } from './util'\nwindow['isMobile'] = /Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(navigator.userAgent)\nexport const globalDefaults = {\n\n  titleRangeSeparator: ' \\u2013 ', // en dash\n  monthYearFormat: 'MMMM YYYY', // required for en. other locales rely on datepicker computable option\n\n  defaultTimedEventDuration: '02:00:00',\n  defaultAllDayEventDuration: { days: 1 },\n  forceEventDuration: false,\n  nextDayThreshold: '09:00:00', // 9am\n\n  // display\n  columnHeader: true,\n  defaultView: 'month',\n  aspectRatio: 1.35,\n  header: {\n    left: window['isMobile'] ? 'title' : 'prev,next today',\n    center: window['isMobile'] ? 'prev,next' : 'title',\n    right: window['isMobile'] ? 'month,agendaWeek,agendaDay,listDay today' : 'month,agendaWeek,agendaDay,listDay'\n  },\n  weekends: true,\n  weekNumbers: false,\n\n  weekNumberTitle: 'W',\n  weekNumberCalculation: 'local',\n\n  // editable: false,\n\n  // nowIndicator: false,\n\n  scrollTime: '06:00:00',\n  minTime: '00:00:00',\n  maxTime: '24:00:00',\n  showNonCurrentDates: true,\n\n  // event ajax\n  lazyFetching: true,\n  startParam: 'start',\n  endParam: 'end',\n  timezoneParam: 'timezone',\n\n  timezone: false,\n\n  // allDayDefault: undefined,\n\n  // locale\n  locale: null,\n  isRTL: false,\n  buttonText: {\n    prev: 'prev',\n    next: 'next',\n    prevYear: 'prev year',\n    nextYear: 'next year',\n    year: 'year', // TODO: locale files need to specify this\n    today: 'today',\n    month: 'month',\n    week: 'week',\n    day: 'day'\n  },\n  // buttonIcons: null,\n\n  allDayText: 'all-day',\n\n  // allows setting a min-height to the event segment to prevent short events overlapping each other\n  agendaEventMinHeight: 0,\n\n  // jquery-ui theming\n  theme: false,\n  // themeButtonIcons: null,\n\n  // eventResizableFromStart: false,\n  dragOpacity: .75,\n  dragRevertDuration: 500,\n  dragScroll: true,\n\n  // selectable: false,\n  unselectAuto: true,\n  // selectMinDistance: 0,\n\n  dropAccept: '*',\n\n  eventOrder: 'title',\n  // eventRenderWait: null,\n\n  eventLimit: true,\n  eventLimitText: 'more',\n  eventLimitClick: 'popover',\n  dayPopoverFormat: 'LL',\n\n  handleWindowResize: true,\n  windowResizeDelay: 100, // milliseconds before an updateSize happens\n\n  longPressDelay: 1000\n\n}\n\n\nexport const englishDefaults = { // used by locale.js\n  dayPopoverFormat: 'dddd, MMMM D'\n}\n\n\nexport const rtlDefaults = { // right-to-left defaults\n  header: { // TODO: smarter solution (first/center/last ?)\n    left: 'next,prev today',\n    center: '',\n    right: 'title'\n  },\n  buttonIcons: {\n    prev: 'right-single-arrow',\n    next: 'left-single-arrow',\n    prevYear: 'right-double-arrow',\n    nextYear: 'left-double-arrow'\n  },\n  themeButtonIcons: {\n    prev: 'circle-triangle-e',\n    next: 'circle-triangle-w',\n    nextYear: 'seek-prev',\n    prevYear: 'seek-next'\n  }\n}\n\n\nlet complexOptions = [ // names of options that are objects whose properties should be combined\n  'header',\n  'footer',\n  'buttonText',\n  'buttonIcons',\n  'themeButtonIcons'\n]\n\n\n// Merges an array of option objects into a single object\nexport function mergeOptions(optionObjs) {\n  return mergeProps(optionObjs, complexOptions)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/options.ts","import { copyOwnProps } from '../util'\n\n\n// Class that all other classes will inherit from\nexport default class Class {\n\n  // Called on a class to create a subclass.\n  // LIMITATION: cannot provide a constructor!\n  static extend(members): any {\n    class SubClass extends this {}\n\n    copyOwnProps(members, SubClass.prototype)\n\n    return SubClass\n  }\n\n\n  // Adds new member variables/methods to the class's prototype.\n  // Can be called with another class, or a plain object hash containing new members.\n  static mixin(members) {\n    copyOwnProps(members, this.prototype)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/Class.ts","import * as $ from 'jquery'\nimport {\n  default as ParsableModelMixin,\n  ParsableModelInterface\n} from '../../common/ParsableModelMixin'\n\n\nexport default abstract class EventDef {\n\n  static uuid: number = 0\n  static defineStandardProps = ParsableModelMixin.defineStandardProps\n  static copyVerbatimStandardProps = ParsableModelMixin.copyVerbatimStandardProps\n\n  applyProps: ParsableModelInterface['applyProps']\n  isStandardProp: ParsableModelInterface['isStandardProp']\n\n  source: any // required\n\n  id: any // normalized supplied ID\n  rawId: any // unnormalized supplied ID\n  uid: any // internal ID. new ID for every definition\n\n  // NOTE: eventOrder sorting relies on these\n  title: any\n  url: any\n  rendering: any\n  constraint: any\n  overlap: any\n  editable: any\n  startEditable: any\n  durationEditable: any\n  color: any\n  backgroundColor: any\n  borderColor: any\n  textColor: any\n\n  className: any // an array. TODO: rename to className*s* (API breakage)\n  miscProps: any\n\n\n  constructor(source) {\n    this.source = source\n    this.className = []\n    this.miscProps = {}\n  }\n\n\n  static parse(rawInput, source) {\n    let def = new (this as any)(source)\n\n    if (def.applyProps(rawInput)) {\n      return def\n    }\n\n    return false\n  }\n\n\n  static normalizeId(id) { // TODO: converge with EventSource\n    return String(id)\n  }\n\n\n  static generateId() {\n    return '_fc' + (EventDef.uuid++)\n  }\n\n\n  abstract isAllDay() // subclasses must implement\n\n  abstract buildInstances(unzonedRange) // subclasses must implement\n\n\n  clone() {\n    let copy = new (this.constructor as any)(this.source)\n\n    copy.id = this.id\n    copy.rawId = this.rawId\n    copy.uid = this.uid // not really unique anymore :(\n\n    EventDef.copyVerbatimStandardProps(this, copy)\n\n    copy.className = this.className.slice() // copy\n    copy.miscProps = $.extend({}, this.miscProps)\n\n    return copy\n  }\n\n\n  hasInverseRendering() {\n    return this.getRendering() === 'inverse-background'\n  }\n\n\n  hasBgRendering() {\n    let rendering = this.getRendering()\n\n    return rendering === 'inverse-background' || rendering === 'background'\n  }\n\n\n  getRendering() {\n    if (this.rendering != null) {\n      return this.rendering\n    }\n\n    return this.source.rendering\n  }\n\n\n  getConstraint() {\n    if (this.constraint != null) {\n      return this.constraint\n    }\n\n    if (this.source.constraint != null) {\n      return this.source.constraint\n    }\n\n    return this.source.calendar.opt('eventConstraint') // what about View option?\n  }\n\n\n  getOverlap() {\n    if (this.overlap != null) {\n      return this.overlap\n    }\n\n    if (this.source.overlap != null) {\n      return this.source.overlap\n    }\n\n    return this.source.calendar.opt('eventOverlap') // what about View option?\n  }\n\n\n  isStartExplicitlyEditable() {\n    if (this.startEditable != null) {\n      return this.startEditable\n    }\n\n    return this.source.startEditable\n  }\n\n\n  isDurationExplicitlyEditable() {\n    if (this.durationEditable != null) {\n      return this.durationEditable\n    }\n\n    return this.source.durationEditable\n  }\n\n\n  isExplicitlyEditable() {\n    if (this.editable != null) {\n      return this.editable\n    }\n\n    return this.source.editable\n  }\n\n\n  toLegacy() {\n    let obj = $.extend({}, this.miscProps)\n\n    obj._id = this.uid\n    obj.source = this.source\n    obj.className = this.className.slice() // copy\n    obj.allDay = this.isAllDay()\n\n    if (this.rawId != null) {\n      obj.id = this.rawId\n    }\n\n    EventDef.copyVerbatimStandardProps(this, obj)\n\n    return obj\n  }\n\n\n  applyManualStandardProps(rawProps) {\n\n    if (rawProps.id != null) {\n      this.id = EventDef.normalizeId((this.rawId = rawProps.id))\n    } else {\n      this.id = EventDef.generateId()\n    }\n\n    if (rawProps._id != null) { // accept this prop, even tho somewhat internal\n      this.uid = String(rawProps._id)\n    } else {\n      this.uid = EventDef.generateId()\n    }\n\n    // TODO: converge with EventSource\n    if ($.isArray(rawProps.className)) {\n      this.className = rawProps.className\n    }\n    if (typeof rawProps.className === 'string') {\n      this.className = rawProps.className.split(/\\s+/)\n    }\n\n    return true\n  }\n\n\n  applyMiscProps(rawProps) {\n    $.extend(this.miscProps, rawProps)\n  }\n\n}\n\nParsableModelMixin.mixInto(EventDef)\n\nEventDef.defineStandardProps({\n  // not automatically assigned (`false`)\n  _id: false,\n  id: false,\n  className: false,\n  source: false, // will ignored\n\n  // automatically assigned (`true`)\n  title: true,\n  description: true,\n  url: true,\n  rendering: true,\n  constraint: true,\n  overlap: true,\n  editable: true,\n  startEditable: true,\n  durationEditable: true,\n  color: true,\n  backgroundColor: true,\n  borderColor: true,\n  textColor: true\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/event/EventDef.ts","import EventRange from './EventRange'\nimport EventFootprint from './EventFootprint'\nimport ComponentFootprint from '../ComponentFootprint'\n\n\nexport function eventDefsToEventInstances(eventDefs, unzonedRange) {\n  let eventInstances = []\n  let i\n\n  for (i = 0; i < eventDefs.length; i++) {\n    eventInstances.push.apply(eventInstances, // append\n      eventDefs[i].buildInstances(unzonedRange)\n    )\n  }\n\n  return eventInstances\n}\n\n\nexport function eventInstanceToEventRange(eventInstance) {\n  return new EventRange(\n    eventInstance.dateProfile.unzonedRange,\n    eventInstance.def,\n    eventInstance\n  )\n}\n\n\nexport function eventRangeToEventFootprint(eventRange) {\n  return new EventFootprint(\n    new ComponentFootprint(\n      eventRange.unzonedRange,\n      eventRange.eventDef.isAllDay()\n    ),\n    eventRange.eventDef,\n    eventRange.eventInstance // might not exist\n  )\n}\n\n\nexport function eventInstanceToUnzonedRange(eventInstance) {\n  return eventInstance.dateProfile.unzonedRange\n}\n\n\nexport function eventFootprintToComponentFootprint(eventFootprint) {\n  return eventFootprint.componentFootprint\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/event/util.ts","\nexport default class EventFootprint {\n\n  componentFootprint: any\n  eventDef: any\n  eventInstance: any // optional\n\n\n  constructor(componentFootprint, eventDef, eventInstance) {\n    this.componentFootprint = componentFootprint\n    this.eventDef = eventDef\n\n    if (eventInstance) {\n      this.eventInstance = eventInstance\n    }\n  }\n\n\n  getEventLegacy() {\n    return (this.eventInstance || this.eventDef).toLegacy()\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/event/EventFootprint.ts","import { isArraysEqual } from '../../util'\nimport EventDateProfile from './EventDateProfile'\nimport EventDef from './EventDef'\nimport EventDefDateMutation from './EventDefDateMutation'\nimport SingleEventDef from './SingleEventDef'\n\n\nexport default class EventDefMutation {\n\n  // won't ever be empty. will be null instead.\n  // callers should use setDateMutation for setting.\n  dateMutation: any\n\n  // hacks to get updateEvent/createFromRawProps to work.\n  // not undo-able and not considered in isEmpty.\n  eventDefId: any // standard manual props\n  className: any // \"\n  verbatimStandardProps: any\n  miscProps: any\n\n\n  static createFromRawProps(eventInstance, rawProps, largeUnit) {\n    let eventDef = eventInstance.def\n    let dateProps: any = {}\n    let standardProps: any = {}\n    let miscProps: any = {}\n    let verbatimStandardProps: any = {}\n    let eventDefId = null\n    let className = null\n    let propName\n    let dateProfile\n    let dateMutation\n    let defMutation\n\n    for (propName in rawProps) {\n      if (EventDateProfile.isStandardProp(propName)) {\n        dateProps[propName] = rawProps[propName]\n      } else if (eventDef.isStandardProp(propName)) {\n        standardProps[propName] = rawProps[propName]\n      } else if (eventDef.miscProps[propName] !== rawProps[propName]) { // only if changed\n        miscProps[propName] = rawProps[propName]\n      }\n    }\n\n    dateProfile = EventDateProfile.parse(dateProps, eventDef.source)\n\n    if (dateProfile) { // no failure?\n      dateMutation = EventDefDateMutation.createFromDiff(\n        eventInstance.dateProfile,\n        dateProfile,\n        largeUnit\n      )\n    }\n\n    if (standardProps.id !== eventDef.id) {\n      eventDefId = standardProps.id // only apply if there's a change\n    }\n\n    if (!isArraysEqual(standardProps.className, eventDef.className)) {\n      className = standardProps.className // only apply if there's a change\n    }\n\n    EventDef.copyVerbatimStandardProps(\n      standardProps, // src\n      verbatimStandardProps // dest\n    )\n\n    defMutation = new EventDefMutation()\n    defMutation.eventDefId = eventDefId\n    defMutation.className = className\n    defMutation.verbatimStandardProps = verbatimStandardProps\n    defMutation.miscProps = miscProps\n\n    if (dateMutation) {\n      defMutation.dateMutation = dateMutation\n    }\n\n    return defMutation\n  }\n\n\n  /*\n  eventDef assumed to be a SingleEventDef.\n  returns an undo function.\n  */\n  mutateSingle(eventDef) {\n    let origDateProfile\n\n    if (this.dateMutation) {\n      origDateProfile = eventDef.dateProfile\n\n      eventDef.dateProfile = this.dateMutation.buildNewDateProfile(\n        origDateProfile,\n        eventDef.source.calendar\n      )\n    }\n\n    // can't undo\n    // TODO: more DRY with EventDef::applyManualStandardProps\n    if (this.eventDefId != null) {\n      eventDef.id = EventDef.normalizeId((eventDef.rawId = this.eventDefId))\n    }\n\n    // can't undo\n    // TODO: more DRY with EventDef::applyManualStandardProps\n    if (this.className) {\n      eventDef.className = this.className\n    }\n\n    // can't undo\n    if (this.verbatimStandardProps) {\n      SingleEventDef.copyVerbatimStandardProps(\n        this.verbatimStandardProps, // src\n        eventDef // dest\n      )\n    }\n\n    // can't undo\n    if (this.miscProps) {\n      eventDef.applyMiscProps(this.miscProps)\n    }\n\n    if (origDateProfile) {\n      return function() {\n        eventDef.dateProfile = origDateProfile\n      }\n    } else {\n      return function() { /* nothing to undo */ }\n    }\n  }\n\n\n  setDateMutation(dateMutation) {\n    if (dateMutation && !dateMutation.isEmpty()) {\n      this.dateMutation = dateMutation\n    } else {\n      this.dateMutation = null\n    }\n  }\n\n\n  isEmpty() {\n    return !this.dateMutation\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/event/EventDefMutation.ts","\nexport default {\n\n  sourceClasses: [],\n\n\n  registerClass: function(EventSourceClass) {\n    this.sourceClasses.unshift(EventSourceClass) // give highest priority\n  },\n\n\n  parse: function(rawInput, calendar) {\n    let sourceClasses = this.sourceClasses\n    let i\n    let eventSource\n\n    for (i = 0; i < sourceClasses.length; i++) {\n      eventSource = sourceClasses[i].parse(rawInput, calendar)\n\n      if (eventSource) {\n        return eventSource\n      }\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/event-source/EventSourceParser.ts","import * as $ from 'jquery'\nimport { getScrollbarWidths } from '../util'\nimport Class from '../common/Class'\n\n/*\nEmbodies a div that has potential scrollbars\n*/\nexport default class Scroller extends Class {\n\n  el: any // the guaranteed outer element\n  scrollEl: any // the element with the scrollbars\n  overflowX: any\n  overflowY: any\n\n\n  constructor(options?) {\n    super()\n    options = options || {}\n    this.overflowX = options.overflowX || options.overflow || 'auto'\n    this.overflowY = options.overflowY || options.overflow || 'auto'\n  }\n\n\n  render() {\n    this.el = this.renderEl()\n    this.applyOverflow()\n  }\n\n\n  renderEl() {\n    return (this.scrollEl = $('<div class=\"fc-scroller\"></div>'))\n  }\n\n\n  // sets to natural height, unlocks overflow\n  clear() {\n    this.setHeight('auto')\n    this.applyOverflow()\n  }\n\n\n  destroy() {\n    this.el.remove()\n  }\n\n\n  // Overflow\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  applyOverflow() {\n    this.scrollEl.css({\n      'overflow-x': this.overflowX,\n      'overflow-y': this.overflowY\n    })\n  }\n\n\n  // Causes any 'auto' overflow values to resolves to 'scroll' or 'hidden'.\n  // Useful for preserving scrollbar widths regardless of future resizes.\n  // Can pass in scrollbarWidths for optimization.\n  lockOverflow(scrollbarWidths) {\n    let overflowX = this.overflowX\n    let overflowY = this.overflowY\n\n    scrollbarWidths = scrollbarWidths || this.getScrollbarWidths()\n\n    if (overflowX === 'auto') {\n      overflowX = (\n          scrollbarWidths.top || scrollbarWidths.bottom || // horizontal scrollbars?\n          // OR scrolling pane with massless scrollbars?\n          this.scrollEl[0].scrollWidth - 1 > this.scrollEl[0].clientWidth\n            // subtract 1 because of IE off-by-one issue\n        ) ? 'scroll' : 'hidden'\n    }\n\n    if (overflowY === 'auto') {\n      overflowY = (\n          scrollbarWidths.left || scrollbarWidths.right || // vertical scrollbars?\n          // OR scrolling pane with massless scrollbars?\n          this.scrollEl[0].scrollHeight - 1 > this.scrollEl[0].clientHeight\n            // subtract 1 because of IE off-by-one issue\n        ) ? 'scroll' : 'hidden'\n    }\n\n    this.scrollEl.css({ 'overflow-x': overflowX, 'overflow-y': overflowY })\n  }\n\n\n  // Getters / Setters\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  setHeight(height) {\n    this.scrollEl.height(height)\n  }\n\n\n  getScrollTop() {\n    return this.scrollEl.scrollTop()\n  }\n\n\n  setScrollTop(top) {\n    this.scrollEl.scrollTop(top)\n  }\n\n\n  getClientWidth() {\n    return this.scrollEl[0].clientWidth\n  }\n\n\n  getClientHeight() {\n    return this.scrollEl[0].clientHeight\n  }\n\n\n  getScrollbarWidths() {\n    return getScrollbarWidths(this.scrollEl)\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/Scroller.ts","import * as $ from 'jquery'\nimport * as moment from 'moment'\nimport { getEvIsTouch, diffByUnit, diffDayTime } from '../util'\nimport DateComponent from './DateComponent'\nimport GlobalEmitter from '../common/GlobalEmitter'\n\n\nexport default abstract class InteractiveDateComponent extends DateComponent {\n\n  dateClickingClass: any\n  dateSelectingClass: any\n  eventPointingClass: any\n  eventDraggingClass: any\n  eventResizingClass: any\n  externalDroppingClass: any\n\n  dateClicking: any\n  dateSelecting: any\n  eventPointing: any\n  eventDragging: any\n  eventResizing: any\n  externalDropping: any\n\n  // self-config, overridable by subclasses\n  segSelector: string = '.fc-event-container > *' // what constitutes an event element?\n\n  // if defined, holds the unit identified (ex: \"year\" or \"month\") that determines the level of granularity\n  // of the date areas. if not defined, assumes to be day and time granularity.\n  // TODO: port isTimeScale into same system?\n  largeUnit: any\n\n\n  constructor(_view?, _options?) {\n    super(_view, _options)\n\n    if (this.dateSelectingClass) {\n      this.dateClicking = new this.dateClickingClass(this)\n    }\n\n    if (this.dateSelectingClass) {\n      this.dateSelecting = new this.dateSelectingClass(this)\n    }\n\n    if (this.eventPointingClass) {\n      this.eventPointing = new this.eventPointingClass(this)\n    }\n\n    if (this.eventDraggingClass && this.eventPointing) {\n      this.eventDragging = new this.eventDraggingClass(this, this.eventPointing)\n    }\n\n    if (this.eventResizingClass && this.eventPointing) {\n      this.eventResizing = new this.eventResizingClass(this, this.eventPointing)\n    }\n\n    if (this.externalDroppingClass) {\n      this.externalDropping = new this.externalDroppingClass(this)\n    }\n  }\n\n\n  // Sets the container element that the view should render inside of, does global DOM-related initializations,\n  // and renders all the non-date-related content inside.\n  setElement(el) {\n    super.setElement(el)\n\n    if (this.dateClicking) {\n      this.dateClicking.bindToEl(el)\n    }\n\n    if (this.dateSelecting) {\n      this.dateSelecting.bindToEl(el)\n    }\n\n    this.bindAllSegHandlersToEl(el)\n  }\n\n\n  removeElement() {\n    this.endInteractions()\n\n    super.removeElement()\n  }\n\n\n  executeEventUnrender() {\n    this.endInteractions()\n\n    super.executeEventUnrender()\n  }\n\n\n  bindGlobalHandlers() {\n    super.bindGlobalHandlers()\n\n    if (this.externalDropping) {\n      this.externalDropping.bindToDocument()\n    }\n  }\n\n\n  unbindGlobalHandlers() {\n    super.unbindGlobalHandlers()\n\n    if (this.externalDropping) {\n      this.externalDropping.unbindFromDocument()\n    }\n  }\n\n\n  bindDateHandlerToEl(el, name, handler) {\n    // attach a handler to the grid's root element.\n    // jQuery will take care of unregistering them when removeElement gets called.\n    this.el.on(name, (ev) => {\n      if (\n        !$(ev.target).is(\n          this.segSelector + ':not(.fc-helper),' + // directly on an event element\n          this.segSelector + ':not(.fc-helper) *,' + // within an event element\n          '.fc-more,' + // a \"more..\" link\n          'a[data-goto]' // a clickable nav link\n        )\n      ) {\n        return handler.call(this, ev)\n      }\n    })\n  }\n\n\n  bindAllSegHandlersToEl(el) {\n    [\n      this.eventPointing,\n      this.eventDragging,\n      this.eventResizing\n    ].forEach(function(eventInteraction) {\n      if (eventInteraction) {\n        eventInteraction.bindToEl(el)\n      }\n    })\n  }\n\n\n  bindSegHandlerToEl(el, name, handler) {\n    el.on(name, this.segSelector, (ev) => {\n      let segEl = $(ev.currentTarget)\n      if (!segEl.is('.fc-helper')) {\n        let seg = segEl.data('fc-seg') // grab segment data. put there by View::renderEventsPayload\n        if (seg && !this.shouldIgnoreEventPointing()) {\n          return handler.call(this, seg, ev) // context will be the Grid\n        }\n      }\n    })\n  }\n\n\n  shouldIgnoreMouse() {\n    // HACK\n    // This will still work even though bindDateHandlerToEl doesn't use GlobalEmitter.\n    return GlobalEmitter.get().shouldIgnoreMouse()\n  }\n\n\n  shouldIgnoreTouch() {\n    let view = this._getView()\n\n    // On iOS (and Android?) when a new selection is initiated overtop another selection,\n    // the touchend never fires because the elements gets removed mid-touch-interaction (my theory).\n    // HACK: simply don't allow this to happen.\n    // ALSO: prevent selection when an *event* is already raised.\n    return view.isSelected || view.selectedEvent\n  }\n\n\n  shouldIgnoreEventPointing() {\n    // only call the handlers if there is not a drag/resize in progress\n    return (this.eventDragging && this.eventDragging.isDragging) ||\n      (this.eventResizing && this.eventResizing.isResizing)\n  }\n\n\n  canStartSelection(seg, ev) {\n    return getEvIsTouch(ev) &&\n      !this.canStartResize(seg, ev) &&\n      (this.isEventDefDraggable(seg.footprint.eventDef) ||\n        this.isEventDefResizable(seg.footprint.eventDef))\n  }\n\n\n  canStartDrag(seg, ev) {\n    return !this.canStartResize(seg, ev) &&\n      this.isEventDefDraggable(seg.footprint.eventDef)\n  }\n\n\n  canStartResize(seg, ev) {\n    let view = this._getView()\n    let eventDef = seg.footprint.eventDef\n\n    return (!getEvIsTouch(ev) || view.isEventDefSelected(eventDef)) &&\n      this.isEventDefResizable(eventDef) &&\n      $(ev.target).is('.fc-resizer')\n  }\n\n\n  // Kills all in-progress dragging.\n  // Useful for when public API methods that result in re-rendering are invoked during a drag.\n  // Also useful for when touch devices misbehave and don't fire their touchend.\n  endInteractions() {\n    [\n      this.dateClicking,\n      this.dateSelecting,\n      this.eventPointing,\n      this.eventDragging,\n      this.eventResizing\n    ].forEach(function(interaction) {\n      if (interaction) {\n        interaction.end()\n      }\n    })\n  }\n\n\n  // Event Drag-n-Drop\n  // ---------------------------------------------------------------------------------------------------------------\n\n\n  // Computes if the given event is allowed to be dragged by the user\n  isEventDefDraggable(eventDef) {\n    return this.isEventDefStartEditable(eventDef)\n  }\n\n\n  isEventDefStartEditable(eventDef) {\n    let isEditable = eventDef.isStartExplicitlyEditable()\n\n    if (isEditable == null) {\n      isEditable = this.opt('eventStartEditable')\n\n      if (isEditable == null) {\n        isEditable = this.isEventDefGenerallyEditable(eventDef)\n      }\n    }\n\n    return isEditable\n  }\n\n\n  isEventDefGenerallyEditable(eventDef) {\n    let isEditable = eventDef.isExplicitlyEditable()\n\n    if (isEditable == null) {\n      isEditable = this.opt('editable')\n    }\n\n    return isEditable\n  }\n\n\n  // Event Resizing\n  // ---------------------------------------------------------------------------------------------------------------\n\n\n  // Computes if the given event is allowed to be resized from its starting edge\n  isEventDefResizableFromStart(eventDef) {\n    return this.opt('eventResizableFromStart') && this.isEventDefResizable(eventDef)\n  }\n\n\n  // Computes if the given event is allowed to be resized from its ending edge\n  isEventDefResizableFromEnd(eventDef) {\n    return this.isEventDefResizable(eventDef)\n  }\n\n\n  // Computes if the given event is allowed to be resized by the user at all\n  isEventDefResizable(eventDef) {\n    let isResizable = eventDef.isDurationExplicitlyEditable()\n\n    if (isResizable == null) {\n      isResizable = this.opt('eventDurationEditable')\n\n      if (isResizable == null) {\n        isResizable = this.isEventDefGenerallyEditable(eventDef)\n      }\n    }\n    return isResizable\n  }\n\n\n  // Event Mutation / Constraints\n  // ---------------------------------------------------------------------------------------------------------------\n\n\n  // Diffs the two dates, returning a duration, based on granularity of the grid\n  // TODO: port isTimeScale into this system?\n  diffDates(a, b): moment.Duration {\n    if (this.largeUnit) {\n      return diffByUnit(a, b, this.largeUnit)\n    } else {\n      return diffDayTime(a, b)\n    }\n  }\n\n\n  // is it allowed, in relation to the view's validRange?\n  // NOTE: very similar to isExternalInstanceGroupAllowed\n  isEventInstanceGroupAllowed(eventInstanceGroup) {\n    let view = this._getView()\n    let dateProfile = this.dateProfile\n    let eventFootprints = this.eventRangesToEventFootprints(eventInstanceGroup.getAllEventRanges())\n    let i\n\n    for (i = 0; i < eventFootprints.length; i++) {\n      // TODO: just use getAllEventRanges directly\n      if (!dateProfile.validUnzonedRange.containsRange(eventFootprints[i].componentFootprint.unzonedRange)) {\n        return false\n      }\n    }\n\n    return view.calendar.constraints.isEventInstanceGroupAllowed(eventInstanceGroup)\n  }\n\n\n  // NOTE: very similar to isEventInstanceGroupAllowed\n  // when it's a completely anonymous external drag, no event.\n  isExternalInstanceGroupAllowed(eventInstanceGroup) {\n    let view = this._getView()\n    let dateProfile = this.dateProfile\n    let eventFootprints = this.eventRangesToEventFootprints(eventInstanceGroup.getAllEventRanges())\n    let i\n\n    for (i = 0; i < eventFootprints.length; i++) {\n      if (!dateProfile.validUnzonedRange.containsRange(eventFootprints[i].componentFootprint.unzonedRange)) {\n        return false\n      }\n    }\n\n    for (i = 0; i < eventFootprints.length; i++) {\n      // treat it as a selection\n      // TODO: pass in eventInstanceGroup instead\n      //  because we don't want calendar's constraint system to depend on a component's\n      //  determination of footprints.\n      if (!view.calendar.constraints.isSelectionFootprintAllowed(eventFootprints[i].componentFootprint)) {\n        return false\n      }\n    }\n\n    return true\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/InteractiveDateComponent.ts","import * as $ from 'jquery'\nimport * as moment from 'moment'\nimport { parseFieldSpecs, proxy, isPrimaryMouseButton } from './util'\nimport RenderQueue from './common/RenderQueue'\nimport Calendar from './Calendar'\nimport DateProfileGenerator from './DateProfileGenerator'\nimport InteractiveDateComponent from './component/InteractiveDateComponent'\nimport GlobalEmitter from './common/GlobalEmitter'\nimport UnzonedRange from './models/UnzonedRange'\nimport EventInstance from './models/event/EventInstance'\n\n\n/* An abstract class from which other views inherit from\n----------------------------------------------------------------------------------------------------------------------*/\n\nexport default abstract class View extends InteractiveDateComponent {\n\n  type: string // subclass' view name (string)\n  name: string // deprecated. use `type` instead\n  title: string // the text that will be displayed in the header's title\n\n  calendar: Calendar // owner Calendar object\n  viewSpec: any\n  options: any // hash containing all options. already merged with view-specific-options\n\n  renderQueue: RenderQueue\n  batchRenderDepth: number = 0\n  queuedScroll: object\n\n  isSelected: boolean = false // boolean whether a range of time is user-selected or not\n  selectedEventInstance: EventInstance\n\n  eventOrderSpecs: any // criteria for ordering events when they have same date/time\n\n  // for date utils, computed from options\n  isHiddenDayHash: boolean[]\n\n  // now indicator\n  isNowIndicatorRendered: boolean\n  initialNowDate: moment.Moment // result first getNow call\n  initialNowQueriedMs: number // ms time the getNow was called\n  nowIndicatorTimeoutID: any // for refresh timing of now indicator\n  nowIndicatorIntervalID: any // \"\n\n  dateProfileGeneratorClass: any // initialized after class\n  dateProfileGenerator: any\n\n  // whether minTime/maxTime will affect the activeUnzonedRange. Views must opt-in.\n  // initialized after class\n  usesMinMaxTime: boolean\n\n  // DEPRECATED\n  start: moment.Moment // use activeUnzonedRange\n  end: moment.Moment // use activeUnzonedRange\n  intervalStart: moment.Moment // use currentUnzonedRange\n  intervalEnd: moment.Moment // use currentUnzonedRange\n\n\n  constructor(calendar, viewSpec) {\n    super(null, viewSpec.options)\n\n    this.calendar = calendar\n    // console.log(calendar)\n    // if (viewSpec.type === 'listWeek') {\n    //   viewSpec.duration._data.days = 1\n    //   viewSpec.duration._days = 1\n    // }\n    this.viewSpec = viewSpec\n    console.log('<--Edit viewSpec-->', this.viewSpec)\n    // shortcuts\n    this.type = viewSpec.type\n\n    // .name is deprecated\n    this.name = this.type\n\n\n    this.initRenderQueue()\n    this.initHiddenDays()\n    this.dateProfileGenerator = new this.dateProfileGeneratorClass(this)\n    this.bindBaseRenderHandlers()\n    this.eventOrderSpecs = parseFieldSpecs(this.opt('eventOrder'))\n\n    // legacy\n    if (this['initialize']) {\n      this['initialize']()\n    }\n  }\n\n\n  _getView() {\n    return this\n  }\n\n\n  // Retrieves an option with the given name\n  opt(name) {\n    return this.options[name]\n  }\n\n\n  /* Render Queue\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  initRenderQueue() {\n    this.renderQueue = new RenderQueue({\n      event: this.opt('eventRenderWait')\n    })\n\n    this.renderQueue.on('start', this.onRenderQueueStart.bind(this))\n    this.renderQueue.on('stop', this.onRenderQueueStop.bind(this))\n\n    this.on('before:change', this.startBatchRender)\n    this.on('change', this.stopBatchRender)\n  }\n\n\n  onRenderQueueStart() {\n    this.calendar.freezeContentHeight()\n    this.addScroll(this.queryScroll())\n  }\n\n\n  onRenderQueueStop() {\n    if (this.calendar.updateViewSize()) { // success?\n      this.popScroll()\n    }\n    this.calendar.thawContentHeight()\n  }\n\n\n  startBatchRender() {\n    if (!(this.batchRenderDepth++)) {\n      this.renderQueue.pause()\n    }\n  }\n\n\n  stopBatchRender() {\n    if (!(--this.batchRenderDepth)) {\n      this.renderQueue.resume()\n    }\n  }\n\n\n  requestRender(func, namespace, actionType) {\n    this.renderQueue.queue(func, namespace, actionType)\n  }\n\n\n  // given func will auto-bind to `this`\n  whenSizeUpdated(func) {\n    if (this.renderQueue.isRunning) {\n      this.renderQueue.one('stop', func.bind(this))\n    } else {\n      func.call(this)\n    }\n  }\n\n\n  /* Title and Date Formatting\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  // Computes what the title at the top of the calendar should be for this view\n  computeTitle(dateProfile) {\n    let unzonedRange\n\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n      unzonedRange = dateProfile.currentUnzonedRange\n    } else { // for day units or smaller, use the actual day range\n      unzonedRange = dateProfile.activeUnzonedRange\n    }\n\n    return this.formatRange(\n      {\n        start: this.calendar.msToMoment(unzonedRange.startMs, dateProfile.isRangeAllDay),\n        end: this.calendar.msToMoment(unzonedRange.endMs, dateProfile.isRangeAllDay)\n      },\n      dateProfile.isRangeAllDay,\n      this.opt('titleFormat') || this.computeTitleFormat(dateProfile),\n      this.opt('titleRangeSeparator')\n    )\n  }\n\n\n  // Generates the format string that should be used to generate the title for the current date range.\n  // Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\n  computeTitleFormat(dateProfile) {\n    let currentRangeUnit = dateProfile.currentRangeUnit\n\n    if (currentRangeUnit === 'year') {\n      return 'YYYY'\n    } else if (currentRangeUnit === 'month') {\n      return this.opt('monthYearFormat') // like \"September 2014\"\n    } else if (dateProfile.currentUnzonedRange.as('days') > 1) {\n      return 'll' // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n    } else {\n      return 'LL' // one day. longer, like \"September 9 2014\"\n    }\n  }\n\n\n  // Date Setting/Unsetting\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  setDate(date) {\n    console.log(date)\n    let currentDateProfile = this.get('dateProfile')\n    let newDateProfile = this.dateProfileGenerator.build(date, undefined, true) // forceToValid=true\n\n    if (\n      !currentDateProfile ||\n      !currentDateProfile.activeUnzonedRange.equals(newDateProfile.activeUnzonedRange)\n    ) {\n      console.log('newDateProfile',newDateProfile)\n      console.log(moment(newDateProfile.currentUnzonedRange.startMs))\n      console.log(moment(newDateProfile.currentUnzonedRange.endMs))\n      this.set('dateProfile', newDateProfile)\n    }\n  }\n\n\n  unsetDate() {\n    this.unset('dateProfile')\n  }\n\n\n  // Event Data\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  fetchInitialEvents(dateProfile) {\n    let calendar = this.calendar\n    let forceAllDay = dateProfile.isRangeAllDay && !this.usesMinMaxTime\n\n    return calendar.requestEvents(\n      calendar.msToMoment(dateProfile.activeUnzonedRange.startMs, forceAllDay),\n      calendar.msToMoment(dateProfile.activeUnzonedRange.endMs, forceAllDay)\n    )\n  }\n\n\n  bindEventChanges() {\n    this.listenTo(this.calendar, 'eventsReset', this.resetEvents) // TODO: make this a real event\n  }\n\n\n  unbindEventChanges() {\n    this.stopListeningTo(this.calendar, 'eventsReset')\n  }\n\n\n  setEvents(eventsPayload) {\n    this.set('currentEvents', eventsPayload)\n    this.set('hasEvents', true)\n  }\n\n\n  unsetEvents() {\n    this.unset('currentEvents')\n    this.unset('hasEvents')\n  }\n\n\n  resetEvents(eventsPayload) {\n    this.startBatchRender()\n    this.unsetEvents()\n    this.setEvents(eventsPayload)\n    this.stopBatchRender()\n  }\n\n\n  // Date High-level Rendering\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  requestDateRender(dateProfile) {\n    this.requestRender(() => {\n      this.executeDateRender(dateProfile)\n    }, 'date', 'init')\n  }\n\n\n  requestDateUnrender() {\n    this.requestRender(() => {\n      this.executeDateUnrender()\n    }, 'date', 'destroy')\n  }\n\n\n  // if dateProfile not specified, uses current\n  executeDateRender(dateProfile) {\n    super.executeDateRender(dateProfile)\n\n    if (this['render']) {\n      this['render']() // TODO: deprecate\n    }\n\n    this.trigger('datesRendered')\n    this.addScroll({ isDateInit: true })\n    this.startNowIndicator() // shouldn't render yet because updateSize will be called soon\n  }\n\n\n  executeDateUnrender() {\n    this.unselect()\n    this.stopNowIndicator()\n    this.trigger('before:datesUnrendered')\n\n    if (this['destroy']) {\n      this['destroy']() // TODO: deprecate\n    }\n\n    super.executeDateUnrender()\n  }\n\n\n  // \"Base\" rendering\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  bindBaseRenderHandlers() {\n    this.on('datesRendered', () => {\n      this.whenSizeUpdated(\n        this.triggerViewRender\n      )\n    })\n\n    this.on('before:datesUnrendered', () => {\n      this.triggerViewDestroy()\n    })\n  }\n\n\n  triggerViewRender() {\n    this.publiclyTrigger('viewRender', {\n      context: this,\n      args: [this, this.el]\n    })\n  }\n\n\n  triggerViewDestroy() {\n    this.publiclyTrigger('viewDestroy', {\n      context: this,\n      args: [this, this.el]\n    })\n  }\n\n\n  // Event High-level Rendering\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  requestEventsRender(eventsPayload) {\n    this.requestRender(() => {\n      this.executeEventRender(eventsPayload)\n      this.whenSizeUpdated(\n        this.triggerAfterEventsRendered\n      )\n    }, 'event', 'init')\n  }\n\n\n  requestEventsUnrender() {\n    this.requestRender(() => {\n      this.triggerBeforeEventsDestroyed()\n      this.executeEventUnrender()\n    }, 'event', 'destroy')\n  }\n\n\n  // Business Hour High-level Rendering\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  requestBusinessHoursRender(businessHourGenerator) {\n    this.requestRender(() => {\n      this.renderBusinessHours(businessHourGenerator)\n    }, 'businessHours', 'init')\n  }\n\n  requestBusinessHoursUnrender() {\n    this.requestRender(() => {\n      this.unrenderBusinessHours()\n    }, 'businessHours', 'destroy')\n  }\n\n\n  // Misc view rendering utils\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  // Binds DOM handlers to elements that reside outside the view container, such as the document\n  bindGlobalHandlers() {\n    super.bindGlobalHandlers()\n\n    this.listenTo(GlobalEmitter.get(), {\n      touchstart: this.processUnselect,\n      mousedown: this.handleDocumentMousedown\n    })\n  }\n\n\n  // Unbinds DOM handlers from elements that reside outside the view container\n  unbindGlobalHandlers() {\n    super.unbindGlobalHandlers()\n\n    this.stopListeningTo(GlobalEmitter.get())\n  }\n\n\n  /* Now Indicator\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  // Immediately render the current time indicator and begins re-rendering it at an interval,\n  // which is defined by this.getNowIndicatorUnit().\n  // TODO: somehow do this for the current whole day's background too\n  startNowIndicator() {\n    let unit\n    let update\n    let delay // ms wait value\n\n    if (this.opt('nowIndicator')) {\n      unit = this.getNowIndicatorUnit()\n      if (unit) {\n        update = proxy(this, 'updateNowIndicator') // bind to `this`\n\n        this.initialNowDate = this.calendar.getNow()\n        this.initialNowQueriedMs = new Date().valueOf()\n\n        // wait until the beginning of the next interval\n        delay = this.initialNowDate.clone().startOf(unit).add(1, unit).valueOf() - this.initialNowDate.valueOf()\n        this.nowIndicatorTimeoutID = setTimeout(() => {\n          this.nowIndicatorTimeoutID = null\n          update()\n          delay = +moment.duration(1, unit)\n          delay = Math.max(100, delay) // prevent too frequent\n          this.nowIndicatorIntervalID = setInterval(update, delay) // update every interval\n        }, delay)\n      }\n\n      // rendering will be initiated in updateSize\n    }\n  }\n\n\n  // rerenders the now indicator, computing the new current time from the amount of time that has passed\n  // since the initial getNow call.\n  updateNowIndicator() {\n    if (\n      this.isDatesRendered &&\n      this.initialNowDate // activated before?\n    ) {\n      this.unrenderNowIndicator() // won't unrender if unnecessary\n      this.renderNowIndicator(\n        this.initialNowDate.clone().add(new Date().valueOf() - this.initialNowQueriedMs) // add ms\n      )\n      this.isNowIndicatorRendered = true\n    }\n  }\n\n\n  // Immediately unrenders the view's current time indicator and stops any re-rendering timers.\n  // Won't cause side effects if indicator isn't rendered.\n  stopNowIndicator() {\n    if (this.isNowIndicatorRendered) {\n\n      if (this.nowIndicatorTimeoutID) {\n        clearTimeout(this.nowIndicatorTimeoutID)\n        this.nowIndicatorTimeoutID = null\n      }\n      if (this.nowIndicatorIntervalID) {\n        clearInterval(this.nowIndicatorIntervalID)\n        this.nowIndicatorIntervalID = null\n      }\n\n      this.unrenderNowIndicator()\n      this.isNowIndicatorRendered = false\n    }\n  }\n\n\n  /* Dimensions\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  updateSize(totalHeight, isAuto, isResize) {\n\n    if (this['setHeight']) { // for legacy API\n      this['setHeight'](totalHeight, isAuto)\n    } else {\n      super.updateSize(totalHeight, isAuto, isResize)\n    }\n\n    this.updateNowIndicator()\n  }\n\n\n  /* Scroller\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  addScroll(scroll) {\n    let queuedScroll = this.queuedScroll || (this.queuedScroll = {})\n\n    $.extend(queuedScroll, scroll)\n  }\n\n\n  popScroll() {\n    this.applyQueuedScroll()\n    this.queuedScroll = null\n  }\n\n\n  applyQueuedScroll() {\n    if (this.queuedScroll) {\n      this.applyScroll(this.queuedScroll)\n    }\n  }\n\n\n  queryScroll() {\n    let scroll = {}\n\n    if (this.isDatesRendered) {\n      $.extend(scroll, this.queryDateScroll())\n    }\n\n    return scroll\n  }\n\n\n  applyScroll(scroll) {\n    if (scroll.isDateInit && this.isDatesRendered) {\n      $.extend(scroll, this.computeInitialDateScroll())\n    }\n\n    if (this.isDatesRendered) {\n      this.applyDateScroll(scroll)\n    }\n  }\n\n\n  computeInitialDateScroll() {\n    return {} // subclasses must implement\n  }\n\n\n  queryDateScroll() {\n    return {} // subclasses must implement\n  }\n\n\n  applyDateScroll(scroll) {\n    // subclasses must implement\n  }\n\n\n  /* Event Drag-n-Drop\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  reportEventDrop(eventInstance, eventMutation, el, ev) {\n    let eventManager = this.calendar.eventManager\n    let undoFunc = eventManager.mutateEventsWithId(\n      eventInstance.def.id,\n      eventMutation\n    )\n    let dateMutation = eventMutation.dateMutation\n\n    // update the EventInstance, for handlers\n    if (dateMutation) {\n      eventInstance.dateProfile = dateMutation.buildNewDateProfile(\n        eventInstance.dateProfile,\n        this.calendar\n      )\n    }\n\n    this.triggerEventDrop(\n      eventInstance,\n      // a drop doesn't necessarily mean a date mutation (ex: resource change)\n      (dateMutation && dateMutation.dateDelta) || moment.duration(),\n      undoFunc,\n      el, ev\n    )\n  }\n\n\n  // Triggers event-drop handlers that have subscribed via the API\n  triggerEventDrop(eventInstance, dateDelta, undoFunc, el, ev) {\n    this.publiclyTrigger('eventDrop', {\n      context: el[0],\n      args: [\n        eventInstance.toLegacy(),\n        dateDelta,\n        undoFunc,\n        ev,\n        {}, // {} = jqui dummy\n        this\n      ]\n    })\n  }\n\n\n  /* External Element Drag-n-Drop\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  // Must be called when an external element, via jQuery UI, has been dropped onto the calendar.\n  // `meta` is the parsed data that has been embedded into the dragging event.\n  // `dropLocation` is an object that contains the new zoned start/end/allDay values for the event.\n  reportExternalDrop(singleEventDef, isEvent, isSticky, el, ev, ui) {\n\n    if (isEvent) {\n      this.calendar.eventManager.addEventDef(singleEventDef, isSticky)\n    }\n\n    this.triggerExternalDrop(singleEventDef, isEvent, el, ev, ui)\n  }\n\n\n  // Triggers external-drop handlers that have subscribed via the API\n  triggerExternalDrop(singleEventDef, isEvent, el, ev, ui) {\n\n    // trigger 'drop' regardless of whether element represents an event\n    this.publiclyTrigger('drop', {\n      context: el[0],\n      args: [\n        singleEventDef.dateProfile.start.clone(),\n        ev,\n        ui,\n        this\n      ]\n    })\n\n    if (isEvent) {\n      // signal an external event landed\n      this.publiclyTrigger('eventReceive', {\n        context: this,\n        args: [\n          singleEventDef.buildInstance().toLegacy(),\n          this\n        ]\n      })\n    }\n  }\n\n\n  /* Event Resizing\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  // Must be called when an event in the view has been resized to a new length\n  reportEventResize(eventInstance, eventMutation, el, ev) {\n    let eventManager = this.calendar.eventManager\n    let undoFunc = eventManager.mutateEventsWithId(\n      eventInstance.def.id,\n      eventMutation\n    )\n\n    // update the EventInstance, for handlers\n    eventInstance.dateProfile = eventMutation.dateMutation.buildNewDateProfile(\n      eventInstance.dateProfile,\n      this.calendar\n    )\n\n    this.triggerEventResize(\n      eventInstance,\n      eventMutation.dateMutation.endDelta,\n      undoFunc,\n      el, ev\n    )\n  }\n\n\n  // Triggers event-resize handlers that have subscribed via the API\n  triggerEventResize(eventInstance, durationDelta, undoFunc, el, ev) {\n    this.publiclyTrigger('eventResize', {\n      context: el[0],\n      args: [\n        eventInstance.toLegacy(),\n        durationDelta,\n        undoFunc,\n        ev,\n        {}, // {} = jqui dummy\n        this\n      ]\n    })\n  }\n\n\n  /* Selection (time range)\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  // Selects a date span on the view. `start` and `end` are both Moments.\n  // `ev` is the native mouse event that begin the interaction.\n  select(footprint, ev?) {\n    this.unselect(ev)\n    this.renderSelectionFootprint(footprint)\n    this.reportSelection(footprint, ev)\n  }\n\n\n  renderSelectionFootprint(footprint) {\n    if (this['renderSelection']) { // legacy method in custom view classes\n      this['renderSelection'](\n        footprint.toLegacy(this.calendar)\n      )\n    } else {\n      super.renderSelectionFootprint(footprint)\n    }\n  }\n\n\n  // Called when a new selection is made. Updates internal state and triggers handlers.\n  reportSelection(footprint, ev?) {\n    this.isSelected = true\n    this.triggerSelect(footprint, ev)\n  }\n\n\n  // Triggers handlers to 'select'\n  triggerSelect(footprint, ev?) {\n    let dateProfile = this.calendar.footprintToDateProfile(footprint) // abuse of \"Event\"DateProfile?\n\n    this.publiclyTrigger('select', {\n      context: this,\n      args: [\n        dateProfile.start,\n        dateProfile.end,\n        ev,\n        this\n      ]\n    })\n  }\n\n\n  // Undoes a selection. updates in the internal state and triggers handlers.\n  // `ev` is the native mouse event that began the interaction.\n  unselect(ev?) {\n    if (this.isSelected) {\n      this.isSelected = false\n      if (this['destroySelection']) {\n        this['destroySelection']() // TODO: deprecate\n      }\n      this.unrenderSelection()\n      this.publiclyTrigger('unselect', {\n        context: this,\n        args: [ev, this]\n      })\n    }\n  }\n\n\n  /* Event Selection\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  selectEventInstance(eventInstance) {\n    if (\n      !this.selectedEventInstance ||\n      this.selectedEventInstance !== eventInstance\n    ) {\n      this.unselectEventInstance()\n\n      this.getEventSegs().forEach(function (seg) {\n        if (\n          seg.footprint.eventInstance === eventInstance &&\n          seg.el // necessary?\n        ) {\n          seg.el.addClass('fc-selected')\n        }\n      })\n\n      this.selectedEventInstance = eventInstance\n    }\n  }\n\n\n  unselectEventInstance() {\n    if (this.selectedEventInstance) {\n\n      this.getEventSegs().forEach(function (seg) {\n        if (seg.el) { // necessary?\n          seg.el.removeClass('fc-selected')\n        }\n      })\n\n      this.selectedEventInstance = null\n    }\n  }\n\n\n  isEventDefSelected(eventDef) {\n    // event references might change on refetchEvents(), while selectedEventInstance doesn't,\n    // so compare IDs\n    return this.selectedEventInstance && this.selectedEventInstance.def.id === eventDef.id\n  }\n\n\n  /* Mouse / Touch Unselecting (time range & event unselection)\n  ------------------------------------------------------------------------------------------------------------------*/\n  // TODO: move consistently to down/start or up/end?\n  // TODO: don't kill previous selection if touch scrolling\n\n\n  handleDocumentMousedown(ev) {\n    if (isPrimaryMouseButton(ev)) {\n      this.processUnselect(ev)\n    }\n  }\n\n\n  processUnselect(ev) {\n    this.processRangeUnselect(ev)\n    this.processEventUnselect(ev)\n  }\n\n\n  processRangeUnselect(ev) {\n    let ignore\n\n    // is there a time-range selection?\n    if (this.isSelected && this.opt('unselectAuto')) {\n      // only unselect if the clicked element is not identical to or inside of an 'unselectCancel' element\n      ignore = this.opt('unselectCancel')\n      if (!ignore || !$(ev.target).closest(ignore).length) {\n        this.unselect(ev)\n      }\n    }\n  }\n\n\n  processEventUnselect(ev) {\n    if (this.selectedEventInstance) {\n      if (!$(ev.target).closest('.fc-selected').length) {\n        this.unselectEventInstance()\n      }\n    }\n  }\n\n\n  /* Triggers\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  triggerBaseRendered() {\n    this.publiclyTrigger('viewRender', {\n      context: this,\n      args: [this, this.el]\n    })\n  }\n\n\n  triggerBaseUnrendered() {\n    this.publiclyTrigger('viewDestroy', {\n      context: this,\n      args: [this, this.el]\n    })\n  }\n\n\n  // Triggers handlers to 'dayClick'\n  // Span has start/end of the clicked area. Only the start is useful.\n  triggerDayClick(footprint, dayEl, ev) {\n    let dateProfile = this.calendar.footprintToDateProfile(footprint) // abuse of \"Event\"DateProfile?\n    this.publiclyTrigger('dayClick', {\n      context: dayEl,\n      args: [dateProfile.start, ev, this]\n    })\n  }\n\n\n  /* Date Utils\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  // For DateComponent::getDayClasses\n  isDateInOtherMonth(date, dateProfile) {\n    return false\n  }\n\n\n  // Arguments after name will be forwarded to a hypothetical function value\n  // WARNING: passed-in arguments will be given to generator functions as-is and can cause side-effects.\n  // Always clone your objects if you fear mutation.\n  getUnzonedRangeOption(name) {\n    let val = this.opt(name)\n\n    if (typeof val === 'function') {\n      val = val.apply(\n        null,\n        Array.prototype.slice.call(arguments, 1)\n      )\n    }\n\n    if (val) {\n      return this.calendar.parseUnzonedRange(val)\n    }\n  }\n\n\n  /* Hidden Days\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  // Initializes internal variables related to calculating hidden days-of-week\n  initHiddenDays() {\n    let hiddenDays = this.opt('hiddenDays') || [] // array of day-of-week indices that are hidden\n    let isHiddenDayHash = [] // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n    let dayCnt = 0\n    let i\n\n    if (this.opt('weekends') === false) {\n      hiddenDays.push(0, 6) // 0=sunday, 6=saturday\n    }\n\n    for (i = 0; i < 7; i++) {\n      if (\n        !(isHiddenDayHash[i] = $.inArray(i, hiddenDays) !== -1)\n      ) {\n        dayCnt++\n      }\n    }\n\n    if (!dayCnt) {\n      throw new Error('invalid hiddenDays') // all days were hidden? bad.\n    }\n\n    this.isHiddenDayHash = isHiddenDayHash\n  }\n\n\n  // Remove days from the beginning and end of the range that are computed as hidden.\n  // If the whole range is trimmed off, returns null\n  trimHiddenDays(inputUnzonedRange) {\n    let start = inputUnzonedRange.getStart()\n    let end = inputUnzonedRange.getEnd()\n\n    if (start) {\n      start = this.skipHiddenDays(start)\n    }\n\n    if (end) {\n      end = this.skipHiddenDays(end, -1, true)\n    }\n\n    if (start === null || end === null || start < end) {\n      return new UnzonedRange(start, end)\n    }\n    return null\n  }\n\n\n  // Is the current day hidden?\n  // `day` is a day-of-week index (0-6), or a Moment\n  isHiddenDay(day) {\n    if (moment.isMoment(day)) {\n      day = day.day()\n    }\n    return this.isHiddenDayHash[day]\n  }\n\n\n  // Incrementing the current day until it is no longer a hidden day, returning a copy.\n  // DOES NOT CONSIDER validUnzonedRange!\n  // If the initial value of `date` is not a hidden day, don't do anything.\n  // Pass `isExclusive` as `true` if you are dealing with an end date.\n  // `inc` defaults to `1` (increment one day forward each time)\n  skipHiddenDays(date, inc = 1, isExclusive = false) {\n    let out = date.clone()\n    while (\n      this.isHiddenDayHash[(out.day() + (isExclusive ? inc : 0) + 7) % 7]\n    ) {\n      out.add(inc, 'days')\n    }\n    return out\n  }\n\n}\n\nView.prototype.usesMinMaxTime = false\nView.prototype.dateProfileGeneratorClass = DateProfileGenerator\n\n\nView.watch('displayingDates', ['isInDom', 'dateProfile'], function (deps) {\n  this.requestDateRender(deps.dateProfile)\n}, function () {\n  this.requestDateUnrender()\n})\n\n\nView.watch('displayingBusinessHours', ['displayingDates', 'businessHourGenerator'], function (deps) {\n  this.requestBusinessHoursRender(deps.businessHourGenerator)\n}, function () {\n  this.requestBusinessHoursUnrender()\n})\n\n\nView.watch('initialEvents', ['dateProfile'], function (deps) {\n  return this.fetchInitialEvents(deps.dateProfile)\n})\n\n\nView.watch('bindingEvents', ['initialEvents'], function (deps) {\n  this.setEvents(deps.initialEvents)\n  this.bindEventChanges()\n}, function () {\n  this.unbindEventChanges()\n  this.unsetEvents()\n})\n\n\nView.watch('displayingEvents', ['displayingDates', 'hasEvents'], function () {\n  this.requestEventsRender(this.get('currentEvents'))\n}, function () {\n  this.requestEventsUnrender()\n})\n\n\nView.watch('title', ['dateProfile'], function (deps) {\n  return (this.title = this.computeTitle(deps.dateProfile)) // assign to View for legacy reasons\n})\n\n\nView.watch('legacyDateProps', ['dateProfile'], function (deps) {\n  let calendar = this.calendar\n  let dateProfile = deps.dateProfile\n\n  // DEPRECATED, but we need to keep it updated...\n  this.start = calendar.msToMoment(dateProfile.activeUnzonedRange.startMs, dateProfile.isRangeAllDay)\n  this.end = calendar.msToMoment(dateProfile.activeUnzonedRange.endMs, dateProfile.isRangeAllDay)\n  this.intervalStart = calendar.msToMoment(dateProfile.currentUnzonedRange.startMs, dateProfile.isRangeAllDay)\n  this.intervalEnd = calendar.msToMoment(dateProfile.currentUnzonedRange.endMs, dateProfile.isRangeAllDay)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/View.ts","import * as $ from 'jquery'\nimport { compareByFieldSpecs, proxy } from '../../util'\nexport default class EventRenderer {\n\n  view: any\n  component: any\n  fillRenderer: any // might remain null\n\n  fgSegs: any\n  bgSegs: any\n\n  // derived from options\n  eventTimeFormat: any\n  displayEventTime: any\n  displayEventEnd: any\n\n\n  constructor(component, fillRenderer) { // fillRenderer is optional\n    this.view = component._getView()\n    this.component = component\n    this.fillRenderer = fillRenderer\n  }\n\n\n  opt(name) {\n    return this.view.opt(name)\n  }\n\n\n  // Updates values that rely on options and also relate to range\n  rangeUpdated() {\n    let displayEventTime\n    let displayEventEnd\n\n    this.eventTimeFormat =\n      this.opt('eventTimeFormat') ||\n      this.opt('timeFormat') || // deprecated\n      this.computeEventTimeFormat()\n\n    displayEventTime = this.opt('displayEventTime')\n    if (displayEventTime == null) {\n      displayEventTime = this.computeDisplayEventTime() // might be based off of range\n    }\n\n    displayEventEnd = this.opt('displayEventEnd')\n    if (displayEventEnd == null) {\n      displayEventEnd = this.computeDisplayEventEnd() // might be based off of range\n    }\n\n    this.displayEventTime = displayEventTime\n    this.displayEventEnd = displayEventEnd\n  }\n\n\n  render(eventsPayload) {\n    $('#basicViewEventList').remove()\n    let dateProfile = this.component._getDateProfile()\n    let eventDefId\n    let instanceGroup\n    let eventRanges\n    let bgRanges = []\n    let fgRanges = []\n\n    for (eventDefId in eventsPayload) {\n      instanceGroup = eventsPayload[eventDefId]\n      eventRanges = instanceGroup.sliceRenderRanges(\n        dateProfile.activeUnzonedRange\n      )\n      // for (let eventRange in eventRanges) {\n      //   if (eventRanges[eventRange].eventInstance.def.dateProfile.end) {\n      //     let eventStartDate = eventRanges[eventRange].eventInstance.def.dateProfile.start\n      //     let eventEndDate = eventRanges[eventRange].eventInstance.def.dateProfile.end\n      //     let eventDiffDate = eventEndDate.diff(eventStartDate, 'days')\n      //     if (eventDiffDate > 0) {\n      //       for (let i = 1; i <= eventDiffDate - 1; i++) {\n      //         if (instanceGroup.getEventDef().hasBgRendering()) {\n      //           bgRanges.push.apply(bgRanges, eventRanges)\n      //         } else {\n      //           fgRanges.push.apply(fgRanges, eventRanges)\n      //         }\n\n      //       }\n      //     } else {\n\n      //     }\n      //   }\n      // }\n\n      if (instanceGroup.getEventDef().hasBgRendering()) {\n        bgRanges.push.apply(bgRanges, eventRanges)\n      } else {\n        fgRanges.push.apply(fgRanges, eventRanges)\n      }\n      // if ( eventRanges.eventInstance.def.dateProfile.end ) {\n      //   console.log(moment().diff(eventRanges.eventInstance.def.dateProfile.start, eventRanges.eventInstance.def.dateProfile.end))\n      // }\n      // if (instanceGroup.getEventDef().hasBgRendering()) {\n      //   bgRanges.push.apply(bgRanges, eventRanges)\n      // } else {\n      //   fgRanges.push.apply(fgRanges, eventRanges)\n      // }\n    }\n    // console.log(fgRanges)\n    // if ( this.view.type === 'listWeek' && this.view.subType === 'day') {\n    // for (let fgRange in fgRanges) {\n    //   if (fgRanges[fgRange].eventInstance.def.dateProfile.end) {\n    //     let eventStartDate = fgRanges[fgRange].eventInstance.def.dateProfile.start\n    //     let eventEndDate = fgRanges[fgRange].eventInstance.def.dateProfile.end\n    //     let eventDiffDate = eventEndDate.diff(eventStartDate, 'days')\n    //     if (eventDiffDate > 0) {\n    //       for (let i = 1; i <= eventDiffDate - 1; i++) {\n    //         let eventDate = JSON.parse(JSON.stringify(eventStartDate))\n    //         eventDate = moment(eventDate)\n    //         let sameEventForNextDate = eventDate.set('date', eventDate.get('date') + i)\n    //         fgRanges.push()\n    //       }\n    //     }\n    //     fgRanges[fgRange].eventInstance.def.dateProfile.end = null\n    //   }\n    // if(fgRanges[fgRange].eventInstance.def.dateProfile.start.format('YYYY-MM-DD'))\n    // console.log(fgRanges[fgRange].eventInstance.def.dateProfile.start.format('YYYY-MM-DD'))\n    // }\n    // }\n    this.renderBgRanges(bgRanges)\n    this.renderFgRanges(fgRanges)\n    console.log('👉 View Detail:', this.view)\n    if (this.view.type === 'month' && window['isMobile']) {\n      setTimeout(() => {\n        this.setListCardEvent(fgRanges, $('td .fc-day.fc-today').data('date'))\n      }, 100)\n      let eventRenderer = this\n      $('td .fc-day').click(function (ev: any) {\n        $('.fc-day-active').remove()\n        // $('td .fc-day').removeClass('fc-day-active')\n        if (!$(this).hasClass('fc-today')) {\n          $(this).html('<div class=\"fc-day-active\"></div>')\n          // $(this).addClass('fc-day-active')\n        }\n        eventRenderer.setListCardEvent(fgRanges, ev.target.dataset.date && ev.target.dataset.date.toString())\n      })\n\n    }\n    // let eventFootprints = this.component.eventRangesToEventFootprints(fgRanges[0])\n    // let segs = this.component.eventFootprintsToSegs(eventFootprints)\n    // // console.log(segs[0].footprint.getEventLegacy())\n    // console.log(segs)\n  }\n  setListCardEvent(fgRanges, targetDate) {\n    if (this.view.options.hasOwnProperty('isShowList') && !this.view.options.isShowList)return\n    let eventFootprints = this.component.eventRangesToEventFootprints(fgRanges)\n    let segs = this.component.eventFootprintsToSegs(eventFootprints)\n    let htmlBasicViewEventList = ''\n    for (let fgRange in fgRanges) {\n      // tslint:disable-next-line:radix\n      let seg = segs[parseInt(fgRange)].footprint.getEventLegacy()\n      let eventStartDate = seg.start\n      let eventEndDate = null\n      if (seg.backupEnd) {\n        eventEndDate = seg.backupEnd.format('MMM/DD/YYYY HH:mm')\n      }\n      if (eventStartDate.format('YYYY-MM-DD') === targetDate) {\n        // console.log(eventStartDate)\n        // if(eventStartDate.format('HH:mm')) //eventEndDate\n        htmlBasicViewEventList += '<div class=\"eventCard\">' + '<div id=\"' + fgRange + '\" class=\"eventBox\"></div>' + '<div class=\"statBarEventList\"><span>' + eventStartDate.format('DD') + '</span></div>' + '<span class=\"eventCardTitle\">' + fgRanges[fgRange].eventDef.title + '</span>' + '<span class=\"eventCardTime\">' + '' + '</span>' + '<span class=\"eventCardDetail\">' + eventStartDate.format('MMM/DD/YYYY HH:mm') + ' - ' + eventEndDate + '</span>' + '</div>'\n      }\n    }\n\n    if (!htmlBasicViewEventList) {\n      htmlBasicViewEventList += '<div class=\"noEvent\">' + ' <div class=\"noEventImg\">  </div>' + ' No events to display ' + '</div>'\n    }\n    $('#basicViewEventList').remove()\n    $('.fc-basic-view')\n      .after('<div id=\"basicViewEventList\">' + htmlBasicViewEventList + '</div>')\n    $('.eventBox').on('click', function (e) {\n      // tslint:disable-next-line:radix\n      let seg = segs[parseInt(e.target.id)]\n      let modifySeg = seg.footprint.getEventLegacy()\n      modifySeg.end = modifySeg.backupEnd\n      delete modifySeg.backupEnd\n      this.component.publiclyTrigger('eventClick', { // can return `false` to cancel\n        context: e,\n        args: [modifySeg, e, this.view]\n      })\n    }.bind(this))\n  }\n\n\n  unrender() {\n    this.unrenderBgRanges()\n    this.unrenderFgRanges()\n  }\n\n\n  renderFgRanges(eventRanges) {\n    let eventFootprints = this.component.eventRangesToEventFootprints(eventRanges)\n    let segs = this.component.eventFootprintsToSegs(eventFootprints)\n    // console.log(segs)\n    // render an `.el` on each seg\n    // returns a subset of the segs. segs that were actually rendered\n    segs = this.renderFgSegEls(segs)\n\n    if (this.renderFgSegs(segs) !== false) { // no failure?\n      this.fgSegs = segs\n    }\n\n  }\n\n\n  unrenderFgRanges() {\n    this.unrenderFgSegs(this.fgSegs || [])\n    this.fgSegs = null\n  }\n\n\n  renderBgRanges(eventRanges) {\n    let eventFootprints = this.component.eventRangesToEventFootprints(eventRanges)\n    let segs = this.component.eventFootprintsToSegs(eventFootprints)\n\n    if (this.renderBgSegs(segs) !== false) { // no failure?\n      this.bgSegs = segs\n    }\n  }\n\n\n  unrenderBgRanges() {\n    this.unrenderBgSegs()\n    this.bgSegs = null\n  }\n\n\n  getSegs() {\n    return (this.bgSegs || []).concat(this.fgSegs || [])\n  }\n\n\n  // Renders foreground event segments onto the grid\n  renderFgSegs(segs): (boolean | void) {\n    // subclasses must implement\n    // segs already has rendered els, and has been filtered.\n\n    return false // signal failure if not implemented\n  }\n\n\n  // Unrenders all currently rendered foreground segments\n  unrenderFgSegs(segs) {\n    // subclasses must implement\n  }\n\n\n  renderBgSegs(segs) {\n    if (this.fillRenderer) {\n      this.fillRenderer.renderSegs('bgEvent', segs, {\n        getClasses: (seg) => {\n          return this.getBgClasses(seg.footprint.eventDef)\n        },\n        getCss: (seg) => {\n          return {\n            'background-color': this.getBgColor(seg.footprint.eventDef)\n          }\n        },\n        filterEl: (seg, el) => {\n          return this.filterEventRenderEl(seg.footprint, el)\n        }\n      })\n    } else {\n      return false // signal failure if no fillRenderer\n    }\n  }\n\n\n  unrenderBgSegs() {\n    if (this.fillRenderer) {\n      this.fillRenderer.unrender('bgEvent')\n    }\n  }\n\n\n  // Renders and assigns an `el` property for each foreground event segment.\n  // Only returns segments that successfully rendered.\n  renderFgSegEls(segs, disableResizing = false) {\n    let hasEventRenderHandlers = this.view.hasPublicHandlers('eventRender')\n    let html = ''\n    let renderedSegs = []\n    let i\n\n    if (segs.length) { // don't build an empty html string\n\n      // build a large concatenation of event segment HTML\n      for (i = 0; i < segs.length; i++) {\n        this.beforeFgSegHtml(segs[i])\n        html += this.fgSegHtml(segs[i], disableResizing)\n      }\n      // Grab individual elements from the combined HTML string. Use each as the default rendering.\n      // Then, compute the 'el' for each segment. An el might be null if the eventRender callback returned false.\n      $(html).each((i, node) => {\n        let seg = segs[i]\n        let el = $(node)\n        if (hasEventRenderHandlers) { // optimization\n          el = this.filterEventRenderEl(seg.footprint, el)\n        }\n\n        if (el) {\n          el.data('fc-seg', seg) // used by handlers\n          seg.el = el\n          renderedSegs.push(seg)\n        }\n      })\n    }\n\n    return renderedSegs\n  }\n\n\n  beforeFgSegHtml(seg) { // hack\n  }\n\n\n  // Generates the HTML for the default rendering of a foreground event segment. Used by renderFgSegEls()\n  fgSegHtml(seg, disableResizing) {\n    // subclasses should implement\n  }\n\n\n  // Generic utility for generating the HTML classNames for an event segment's element\n  getSegClasses(seg, isDraggable, isResizable) {\n    let classes = [\n      'fc-event',\n      seg.isStart ? 'fc-start' : 'fc-not-start',\n      seg.isEnd ? 'fc-end' : 'fc-not-end'\n    ].concat(this.getClasses(seg.footprint.eventDef))\n\n    if (isDraggable) {\n      classes.push('fc-draggable')\n    }\n    if (isResizable) {\n      classes.push('fc-resizable')\n    }\n\n    // event is currently selected? attach a className.\n    if (this.view.isEventDefSelected(seg.footprint.eventDef)) {\n      classes.push('fc-selected')\n    }\n\n    return classes\n  }\n\n\n  // Given an event and the default element used for rendering, returns the element that should actually be used.\n  // Basically runs events and elements through the eventRender hook.\n  filterEventRenderEl(eventFootprint, el) {\n    let legacy = eventFootprint.getEventLegacy()\n\n    let custom = this.view.publiclyTrigger('eventRender', {\n      context: legacy,\n      args: [legacy, el, this.view]\n    })\n\n    if (custom === false) { // means don't render at all\n      el = null\n    } else if (custom && custom !== true) {\n      el = $(custom)\n    }\n\n    return el\n  }\n\n\n  // Compute the text that should be displayed on an event's element.\n  // `range` can be the Event object itself, or something range-like, with at least a `start`.\n  // If event times are disabled, or the event has no time, will return a blank string.\n  // If not specified, formatStr will default to the eventTimeFormat setting,\n  // and displayEnd will default to the displayEventEnd setting.\n  getTimeText(eventFootprint, formatStr?, displayEnd?) {\n    return this._getTimeText(\n      eventFootprint.eventInstance.dateProfile.start,\n      eventFootprint.eventInstance.dateProfile.end,\n      eventFootprint.componentFootprint.isAllDay,\n      formatStr,\n      displayEnd\n    )\n  }\n\n\n  _getTimeText(start, end, isAllDay, formatStr?, displayEnd?) {\n    if (formatStr == null) {\n      formatStr = this.eventTimeFormat\n    }\n\n    if (displayEnd == null) {\n      displayEnd = this.displayEventEnd\n    }\n\n    if (this.displayEventTime && !isAllDay) {\n      if (displayEnd && end) {\n        return this.view.formatRange(\n          { start: start, end: end },\n          false, // allDay\n          formatStr\n        )\n      } else {\n        return start.format(formatStr)\n      }\n    }\n\n    return ''\n  }\n\n\n  computeEventTimeFormat() {\n    return this.opt('smallTimeFormat')\n  }\n\n\n  computeDisplayEventTime() {\n    return true\n  }\n\n\n  computeDisplayEventEnd() {\n    return true\n  }\n\n\n  getBgClasses(eventDef) {\n    let classNames = this.getClasses(eventDef)\n    classNames.push('fc-bgevent')\n    return classNames\n  }\n\n\n  getClasses(eventDef) {\n    let objs = this.getStylingObjs(eventDef)\n    let i\n    let classNames = []\n\n    for (i = 0; i < objs.length; i++) {\n      classNames.push.apply( // append\n        classNames,\n        objs[i].eventClassName || objs[i].className || []\n      )\n    }\n\n    return classNames\n  }\n\n\n  // Utility for generating event skin-related CSS properties\n  getSkinCss(eventDef) {\n    return {\n      'background-color': this.getBgColor(eventDef),\n      'border-color': this.getBorderColor(eventDef),\n      color: this.getTextColor(eventDef)\n    }\n  }\n\n\n  // Queries for caller-specified color, then falls back to default\n  getBgColor(eventDef) {\n    let objs = this.getStylingObjs(eventDef)\n    let i\n    let val\n\n    for (i = 0; i < objs.length && !val; i++) {\n      val = objs[i].eventBackgroundColor || objs[i].eventColor ||\n        objs[i].backgroundColor || objs[i].color\n    }\n\n    if (!val) {\n      val = this.opt('eventBackgroundColor') || this.opt('eventColor')\n    }\n\n    return val\n  }\n\n\n  // Queries for caller-specified color, then falls back to default\n  getBorderColor(eventDef) {\n    let objs = this.getStylingObjs(eventDef)\n    let i\n    let val\n\n    for (i = 0; i < objs.length && !val; i++) {\n      val = objs[i].eventBorderColor || objs[i].eventColor ||\n        objs[i].borderColor || objs[i].color\n    }\n\n    if (!val) {\n      val = this.opt('eventBorderColor') || this.opt('eventColor')\n    }\n\n    return val\n  }\n\n\n  // Queries for caller-specified color, then falls back to default\n  getTextColor(eventDef) {\n    let objs = this.getStylingObjs(eventDef)\n    let i\n    let val\n\n    for (i = 0; i < objs.length && !val; i++) {\n      val = objs[i].eventTextColor ||\n        objs[i].textColor\n    }\n\n    if (!val) {\n      val = this.opt('eventTextColor')\n    }\n\n    return val\n  }\n\n\n  getStylingObjs(eventDef) {\n    let objs = this.getFallbackStylingObjs(eventDef)\n    objs.unshift(eventDef)\n    return objs\n  }\n\n\n  getFallbackStylingObjs(eventDef) {\n    return [eventDef.source]\n  }\n\n\n  sortEventSegs(segs) {\n    segs.sort(proxy(this, 'compareEventSegs'))\n  }\n\n\n  // A cmp function for determining which segments should take visual priority\n  compareEventSegs(seg1, seg2) {\n    let f1 = seg1.footprint\n    let f2 = seg2.footprint\n    let cf1 = f1.componentFootprint\n    let cf2 = f2.componentFootprint\n    let r1 = cf1.unzonedRange\n    let r2 = cf2.unzonedRange\n\n    return r1.startMs - r2.startMs || // earlier events go first\n      (r2.endMs - r2.startMs) - (r1.endMs - r1.startMs) || // tie? longer events go first\n      cf2.isAllDay - cf1.isAllDay || // tie? put all-day events first (booleans cast to 0/1)\n      compareByFieldSpecs(\n        f1.eventDef,\n        f2.eventDef,\n        this.view.eventOrderSpecs,\n        f1.eventDef.miscProps,\n        f2.eventDef.miscProps\n      )\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/renderers/EventRenderer.ts","import {\n  default as momentExt,\n  newMomentProto,\n  oldMomentProto,\n  oldMomentFormat\n} from './moment-ext'\n\n\n// Plugin\n// -------------------------------------------------------------------------------------------------\n\nnewMomentProto.format = function() {\n\n  if (this._fullCalendar && arguments[0]) { // an enhanced moment? and a format string provided?\n    return formatDate(this, arguments[0]) // our extended formatting\n  }\n  if (this._ambigTime) {\n    return oldMomentFormat(englishMoment(this), 'YYYY-MM-DD')\n  }\n  if (this._ambigZone) {\n    return oldMomentFormat(englishMoment(this), 'YYYY-MM-DD[T]HH:mm:ss')\n  }\n  if (this._fullCalendar) { // enhanced non-ambig moment?\n    // moment.format() doesn't ensure english, but we want to.\n    return oldMomentFormat(englishMoment(this))\n  }\n\n  return oldMomentProto.format.apply(this, arguments)\n}\n\nnewMomentProto.toISOString = function() {\n\n  if (this._ambigTime) {\n    return oldMomentFormat(englishMoment(this), 'YYYY-MM-DD')\n  }\n  if (this._ambigZone) {\n    return oldMomentFormat(englishMoment(this), 'YYYY-MM-DD[T]HH:mm:ss')\n  }\n  if (this._fullCalendar) { // enhanced non-ambig moment?\n    // depending on browser, moment might not output english. ensure english.\n    // https://github.com/moment/moment/blob/2.18.1/src/lib/moment/format.js#L22\n    return oldMomentProto.toISOString.apply(englishMoment(this), arguments)\n  }\n\n  return oldMomentProto.toISOString.apply(this, arguments)\n}\n\nfunction englishMoment(mom) {\n  if (mom.locale() !== 'en') {\n    return mom.clone().locale('en')\n  }\n  return mom\n}\n\n\n// Config\n// ---------------------------------------------------------------------------------------------------------------------\n\n/*\nInserted between chunks in the fake (\"intermediate\") formatting string.\nImportant that it passes as whitespace (\\s) because moment often identifies non-standalone months\nvia a regexp with an \\s.\n*/\nlet PART_SEPARATOR = '\\u000b' // vertical tab\n\n/*\nInserted as the first character of a literal-text chunk to indicate that the literal text is not actually literal text,\nbut rather, a \"special\" token that has custom rendering (see specialTokens map).\n*/\nlet SPECIAL_TOKEN_MARKER = '\\u001f' // information separator 1\n\n/*\nInserted at the beginning and end of a span of text that must have non-zero numeric characters.\nHandling of these markers is done in a post-processing step at the very end of text rendering.\n*/\nlet MAYBE_MARKER = '\\u001e' // information separator 2\nlet MAYBE_REGEXP = new RegExp(MAYBE_MARKER + '([^' + MAYBE_MARKER + ']*)' + MAYBE_MARKER, 'g') // must be global\n\n/*\nAddition formatting tokens we want recognized\n*/\nlet specialTokens = {\n  t: function(date) { // \"a\" or \"p\"\n    return oldMomentFormat(date, 'a').charAt(0)\n  },\n  T: function(date) { // \"A\" or \"P\"\n    return oldMomentFormat(date, 'A').charAt(0)\n  }\n}\n\n/*\nThe first characters of formatting tokens for units that are 1 day or larger.\n`value` is for ranking relative size (lower means bigger).\n`unit` is a normalized unit, used for comparing moments.\n*/\nlet largeTokenMap = {\n  Y: { value: 1, unit: 'year' },\n  M: { value: 2, unit: 'month' },\n  W: { value: 3, unit: 'week' }, // ISO week\n  w: { value: 3, unit: 'week' }, // local week\n  D: { value: 4, unit: 'day' }, // day of month\n  d: { value: 4, unit: 'day' } // day of week\n}\n\n\n// Single Date Formatting\n// ---------------------------------------------------------------------------------------------------------------------\n\n/*\nFormats `date` with a Moment formatting string, but allow our non-zero areas and special token\n*/\nexport function formatDate(date, formatStr) {\n  return renderFakeFormatString(\n    getParsedFormatString(formatStr).fakeFormatString,\n    date\n  )\n}\n\n\n// Date Range Formatting\n// -------------------------------------------------------------------------------------------------\n// TODO: make it work with timezone offset\n\n/*\nUsing a formatting string meant for a single date, generate a range string, like\n\"Sep 2 - 9 2013\", that intelligently inserts a separator where the dates differ.\nIf the dates are the same as far as the format string is concerned, just return a single\nrendering of one date, without any separator.\n*/\nexport function formatRange(date1, date2, formatStr, separator, isRTL) {\n  let localeData\n\n  date1 = momentExt.parseZone(date1)\n  date2 = momentExt.parseZone(date2)\n\n  localeData = date1.localeData()\n\n  // Expand localized format strings, like \"LL\" -> \"MMMM D YYYY\".\n  // BTW, this is not important for `formatDate` because it is impossible to put custom tokens\n  // or non-zero areas in Moment's localized format strings.\n  formatStr = localeData.longDateFormat(formatStr) || formatStr\n\n  return renderParsedFormat(\n    getParsedFormatString(formatStr),\n    date1,\n    date2,\n    separator || ' - ',\n    isRTL\n  )\n}\n\n/*\nRenders a range with an already-parsed format string.\n*/\nfunction renderParsedFormat(parsedFormat, date1, date2, separator, isRTL) {\n  let sameUnits = parsedFormat.sameUnits\n  let unzonedDate1 = date1.clone().stripZone() // for same-unit comparisons\n  let unzonedDate2 = date2.clone().stripZone() // \"\n\n  let renderedParts1 = renderFakeFormatStringParts(parsedFormat.fakeFormatString, date1)\n  let renderedParts2 = renderFakeFormatStringParts(parsedFormat.fakeFormatString, date2)\n\n  let leftI\n  let leftStr = ''\n  let rightI\n  let rightStr = ''\n  let middleI\n  let middleStr1 = ''\n  let middleStr2 = ''\n  let middleStr = ''\n\n  // Start at the leftmost side of the formatting string and continue until you hit a token\n  // that is not the same between dates.\n  for (\n    leftI = 0;\n    leftI < sameUnits.length && (!sameUnits[leftI] || unzonedDate1.isSame(unzonedDate2, sameUnits[leftI]));\n    leftI++\n  ) {\n    leftStr += renderedParts1[leftI]\n  }\n\n  // Similarly, start at the rightmost side of the formatting string and move left\n  for (\n    rightI = sameUnits.length - 1;\n    rightI > leftI && (!sameUnits[rightI] || unzonedDate1.isSame(unzonedDate2, sameUnits[rightI]));\n    rightI--\n  ) {\n    // If current chunk is on the boundary of unique date-content, and is a special-case\n    // date-formatting postfix character, then don't consume it. Consider it unique date-content.\n    // TODO: make configurable\n    if (rightI - 1 === leftI && renderedParts1[rightI] === '.') {\n      break\n    }\n\n    rightStr = renderedParts1[rightI] + rightStr\n  }\n\n  // The area in the middle is different for both of the dates.\n  // Collect them distinctly so we can jam them together later.\n  for (middleI = leftI; middleI <= rightI; middleI++) {\n    middleStr1 += renderedParts1[middleI]\n    middleStr2 += renderedParts2[middleI]\n  }\n\n  if (middleStr1 || middleStr2) {\n    if (isRTL) {\n      middleStr = middleStr2 + separator + middleStr1\n    } else {\n      middleStr = middleStr1 + separator + middleStr2\n    }\n  }\n\n  return processMaybeMarkers(\n    leftStr + middleStr + rightStr\n  )\n}\n\n\n// Format String Parsing\n// ---------------------------------------------------------------------------------------------------------------------\n\nlet parsedFormatStrCache = {}\n\n/*\nReturns a parsed format string, leveraging a cache.\n*/\nfunction getParsedFormatString(formatStr) {\n  return parsedFormatStrCache[formatStr] ||\n    (parsedFormatStrCache[formatStr] = parseFormatString(formatStr))\n}\n\n/*\nParses a format string into the following:\n- fakeFormatString: a momentJS formatting string, littered with special control characters that get post-processed.\n- sameUnits: for every part in fakeFormatString, if the part is a token, the value will be a unit string (like \"day\"),\n  that indicates how similar a range's start & end must be in order to share the same formatted text.\n  If not a token, then the value is null.\n  Always a flat array (not nested liked \"chunks\").\n*/\nfunction parseFormatString(formatStr) {\n  let chunks = chunkFormatString(formatStr)\n\n  return {\n    fakeFormatString: buildFakeFormatString(chunks),\n    sameUnits: buildSameUnits(chunks)\n  }\n}\n\n/*\nBreak the formatting string into an array of chunks.\nA 'maybe' chunk will have nested chunks.\n*/\nfunction chunkFormatString(formatStr) {\n  let chunks = []\n  let match\n\n  // TODO: more descrimination\n  // \\4 is a backreference to the first character of a multi-character set.\n  let chunker = /\\[([^\\]]*)\\]|\\(([^\\)]*)\\)|(LTS|LT|(\\w)\\4*o?)|([^\\w\\[\\(]+)/g\n\n  while ((match = chunker.exec(formatStr))) {\n    if (match[1]) { // a literal string inside [ ... ]\n      chunks.push.apply(chunks, // append\n        splitStringLiteral(match[1])\n      )\n    } else if (match[2]) { // non-zero formatting inside ( ... )\n      chunks.push({ maybe: chunkFormatString(match[2]) })\n    } else if (match[3]) { // a formatting token\n      chunks.push({ token: match[3] })\n    } else if (match[5]) { // an unenclosed literal string\n      chunks.push.apply(chunks, // append\n        splitStringLiteral(match[5])\n      )\n    }\n  }\n\n  return chunks\n}\n\n/*\nPotentially splits a literal-text string into multiple parts. For special cases.\n*/\nfunction splitStringLiteral(s) {\n  if (s === '. ') {\n    return [ '.', ' ' ] // for locales with periods bound to the end of each year/month/date\n  } else {\n    return [ s ]\n  }\n}\n\n/*\nGiven chunks parsed from a real format string, generate a fake (aka \"intermediate\") format string with special control\ncharacters that will eventually be given to moment for formatting, and then post-processed.\n*/\nfunction buildFakeFormatString(chunks) {\n  let parts = []\n  let i\n  let chunk\n\n  for (i = 0; i < chunks.length; i++) {\n    chunk = chunks[i]\n\n    if (typeof chunk === 'string') {\n      parts.push('[' + chunk + ']')\n    } else if (chunk.token) {\n      if (chunk.token in specialTokens) {\n        parts.push(\n          SPECIAL_TOKEN_MARKER + // useful during post-processing\n          '[' + chunk.token + ']' // preserve as literal text\n        )\n      } else {\n        parts.push(chunk.token) // unprotected text implies a format string\n      }\n    } else if (chunk.maybe) {\n      parts.push(\n        MAYBE_MARKER + // useful during post-processing\n        buildFakeFormatString(chunk.maybe) +\n        MAYBE_MARKER\n      )\n    }\n  }\n\n  return parts.join(PART_SEPARATOR)\n}\n\n/*\nGiven parsed chunks from a real formatting string, generates an array of unit strings (like \"day\") that indicate\nin which regard two dates must be similar in order to share range formatting text.\nThe `chunks` can be nested (because of \"maybe\" chunks), however, the returned array will be flat.\n*/\nfunction buildSameUnits(chunks) {\n  let units = []\n  let i\n  let chunk\n  let tokenInfo\n\n  for (i = 0; i < chunks.length; i++) {\n    chunk = chunks[i]\n\n    if (chunk.token) {\n      tokenInfo = largeTokenMap[chunk.token.charAt(0)]\n      units.push(tokenInfo ? tokenInfo.unit : 'second') // default to a very strict same-second\n    } else if (chunk.maybe) {\n      units.push.apply(units, // append\n        buildSameUnits(chunk.maybe)\n      )\n    } else {\n      units.push(null)\n    }\n  }\n\n  return units\n}\n\n\n// Rendering to text\n// ---------------------------------------------------------------------------------------------------------------------\n\n/*\nFormats a date with a fake format string, post-processes the control characters, then returns.\n*/\nfunction renderFakeFormatString(fakeFormatString, date) {\n  return processMaybeMarkers(\n    renderFakeFormatStringParts(fakeFormatString, date).join('')\n  )\n}\n\n/*\nFormats a date into parts that will have been post-processed, EXCEPT for the \"maybe\" markers.\n*/\nfunction renderFakeFormatStringParts(fakeFormatString, date) {\n  let parts = []\n  let fakeRender = oldMomentFormat(date, fakeFormatString)\n  let fakeParts = fakeRender.split(PART_SEPARATOR)\n  let i\n  let fakePart\n\n  for (i = 0; i < fakeParts.length; i++) {\n    fakePart = fakeParts[i]\n\n    if (fakePart.charAt(0) === SPECIAL_TOKEN_MARKER) {\n      parts.push(\n        // the literal string IS the token's name.\n        // call special token's registered function.\n        specialTokens[fakePart.substring(1)](date)\n      )\n    } else {\n      parts.push(fakePart)\n    }\n  }\n\n  return parts\n}\n\n/*\nAccepts an almost-finally-formatted string and processes the \"maybe\" control characters, returning a new string.\n*/\nfunction processMaybeMarkers(s) {\n  return s.replace(MAYBE_REGEXP, function(m0, m1) { // regex assumed to have 'g' flag\n    if (m1.match(/[1-9]/)) { // any non-zero numeric characters?\n      return m1\n    } else {\n      return ''\n    }\n  })\n}\n\n\n// Misc Utils\n// -------------------------------------------------------------------------------------------------\n\n/*\nReturns a unit string, either 'year', 'month', 'day', or null for the most granular formatting token in the string.\n*/\nexport function queryMostGranularFormatUnit(formatStr) {\n  let chunks = chunkFormatString(formatStr)\n  let i\n  let chunk\n  let candidate\n  let best\n\n  for (i = 0; i < chunks.length; i++) {\n    chunk = chunks[i]\n\n    if (chunk.token) {\n      candidate = largeTokenMap[chunk.token.charAt(0)]\n      if (candidate) {\n        if (!best || candidate.value > best.value) {\n          best = candidate\n        }\n      }\n    }\n  }\n\n  if (best) {\n    return best.unit\n  }\n\n  return null\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/date-formatting.ts","import Class from './Class'\nimport { default as EmitterMixin, EmitterInterface } from './EmitterMixin'\nimport { default as ListenerMixin, ListenerInterface } from './ListenerMixin'\n\n\nexport default class Model extends Class {\n\n  on: EmitterInterface['on']\n  one: EmitterInterface['one']\n  off: EmitterInterface['off']\n  trigger: EmitterInterface['trigger']\n  triggerWith: EmitterInterface['triggerWith']\n  hasHandlers: EmitterInterface['hasHandlers']\n  listenTo: ListenerInterface['listenTo']\n  stopListeningTo: ListenerInterface['stopListeningTo']\n\n  _props: any\n  _watchers: any\n  _globalWatchArgs: any // initialized after class\n\n  constructor() {\n    super()\n    this._watchers = {}\n    this._props = {}\n    this.applyGlobalWatchers()\n    this.constructed()\n  }\n\n  static watch(name, ...args) {\n    // subclasses should make a masked-copy of the superclass's map\n    // TODO: write test\n    if (!this.prototype.hasOwnProperty('_globalWatchArgs')) {\n      this.prototype._globalWatchArgs = Object.create(this.prototype._globalWatchArgs)\n    }\n\n    this.prototype._globalWatchArgs[name] = args\n  }\n\n  constructed() {\n    // useful for monkeypatching. TODO: BaseClass?\n  }\n\n  applyGlobalWatchers() {\n    let map = this._globalWatchArgs\n    let name\n\n    for (name in map) {\n      this.watch.apply(this, [ name ].concat(map[name]))\n    }\n  }\n\n  has(name) {\n    return name in this._props\n  }\n\n  get(name) {\n    if (name === undefined) {\n      return this._props\n    }\n\n    return this._props[name]\n  }\n\n  set(name, val) {\n    let newProps\n\n    if (typeof name === 'string') {\n      newProps = {}\n      newProps[name] = val === undefined ? null : val\n    } else {\n      newProps = name\n    }\n\n    this.setProps(newProps)\n  }\n\n  reset(newProps) {\n    let oldProps = this._props\n    let changeset = {} // will have undefined's to signal unsets\n    let name\n\n    for (name in oldProps) {\n      changeset[name] = undefined\n    }\n\n    for (name in newProps) {\n      changeset[name] = newProps[name]\n    }\n\n    this.setProps(changeset)\n  }\n\n  unset(name) { // accepts a string or array of strings\n    let newProps = {}\n    let names\n    let i\n\n    if (typeof name === 'string') {\n      names = [ name ]\n    } else {\n      names = name\n    }\n\n    for (i = 0; i < names.length; i++) {\n      newProps[names[i]] = undefined\n    }\n\n    this.setProps(newProps)\n  }\n\n  setProps(newProps) {\n    let changedProps = {}\n    let changedCnt = 0\n    let name\n    let val\n\n    for (name in newProps) {\n      val = newProps[name]\n\n      // a change in value?\n      // if an object, don't check equality, because might have been mutated internally.\n      // TODO: eventually enforce immutability.\n      if (\n        typeof val === 'object' ||\n        val !== this._props[name]\n      ) {\n        changedProps[name] = val\n        changedCnt++\n      }\n    }\n\n    if (changedCnt) {\n\n      this.trigger('before:batchChange', changedProps)\n\n      for (name in changedProps) {\n        val = changedProps[name]\n\n        this.trigger('before:change', name, val)\n        this.trigger('before:change:' + name, val)\n      }\n\n      for (name in changedProps) {\n        val = changedProps[name]\n\n        if (val === undefined) {\n          delete this._props[name]\n        } else {\n          this._props[name] = val\n        }\n\n        this.trigger('change:' + name, val)\n        this.trigger('change', name, val)\n      }\n\n      this.trigger('batchChange', changedProps)\n    }\n  }\n\n  watch(name, depList, startFunc, stopFunc?) {\n    this.unwatch(name)\n\n    this._watchers[name] = this._watchDeps(depList, (deps) => {\n      let res = startFunc.call(this, deps)\n\n      if (res && res.then) {\n        this.unset(name) // put in an unset state while resolving\n        res.then((val) => {\n          this.set(name, val)\n        })\n      } else {\n        this.set(name, res)\n      }\n    }, (deps) => {\n      this.unset(name)\n\n      if (stopFunc) {\n        stopFunc.call(this, deps)\n      }\n    })\n  }\n\n  unwatch(name) {\n    let watcher = this._watchers[name]\n\n    if (watcher) {\n      delete this._watchers[name]\n      watcher.teardown()\n    }\n  }\n\n  _watchDeps(depList, startFunc, stopFunc) {\n    let queuedChangeCnt = 0\n    let depCnt = depList.length\n    let satisfyCnt = 0\n    let values = {} // what's passed as the `deps` arguments\n    let bindTuples = [] // array of [ eventName, handlerFunc ] arrays\n    let isCallingStop = false\n\n    const onBeforeDepChange = (depName, val, isOptional) => {\n      queuedChangeCnt++\n      if (queuedChangeCnt === 1) { // first change to cause a \"stop\" ?\n        if (satisfyCnt === depCnt) { // all deps previously satisfied?\n          isCallingStop = true\n          stopFunc(values)\n          isCallingStop = false\n        }\n      }\n    }\n\n    const onDepChange = (depName, val, isOptional) => {\n\n      if (val === undefined) { // unsetting a value?\n\n        // required dependency that was previously set?\n        if (!isOptional && values[depName] !== undefined) {\n          satisfyCnt--\n        }\n\n        delete values[depName]\n      } else { // setting a value?\n\n        // required dependency that was previously unset?\n        if (!isOptional && values[depName] === undefined) {\n          satisfyCnt++\n        }\n\n        values[depName] = val\n      }\n\n      queuedChangeCnt--\n      if (!queuedChangeCnt) { // last change to cause a \"start\"?\n\n        // now finally satisfied or satisfied all along?\n        if (satisfyCnt === depCnt) {\n\n          // if the stopFunc initiated another value change, ignore it.\n          // it will be processed by another change event anyway.\n          if (!isCallingStop) {\n            startFunc(values)\n          }\n        }\n      }\n    }\n\n    // intercept for .on() that remembers handlers\n    const bind = (eventName, handler) => {\n      this.on(eventName, handler)\n      bindTuples.push([ eventName, handler ])\n    }\n\n    // listen to dependency changes\n    depList.forEach((depName) => {\n      let isOptional = false\n\n      if (depName.charAt(0) === '?') { // TODO: more DRY\n        depName = depName.substring(1)\n        isOptional = true\n      }\n\n      bind('before:change:' + depName, function(val) {\n        onBeforeDepChange(depName, val, isOptional)\n      })\n\n      bind('change:' + depName, function(val) {\n        onDepChange(depName, val, isOptional)\n      })\n    })\n\n    // process current dependency values\n    depList.forEach((depName) => {\n      let isOptional = false\n\n      if (depName.charAt(0) === '?') { // TODO: more DRY\n        depName = depName.substring(1)\n        isOptional = true\n      }\n\n      if (this.has(depName)) {\n        values[depName] = this.get(depName)\n        satisfyCnt++\n      } else if (isOptional) {\n        satisfyCnt++\n      }\n    })\n\n    // initially satisfied\n    if (satisfyCnt === depCnt) {\n      startFunc(values)\n    }\n\n    return {\n      teardown: () => {\n        // remove all handlers\n        for (let i = 0; i < bindTuples.length; i++) {\n          this.off(bindTuples[i][0], bindTuples[i][1])\n        }\n        bindTuples = null\n\n        // was satisfied, so call stopFunc\n        if (satisfyCnt === depCnt) {\n          stopFunc()\n        }\n      },\n      flash: () => {\n        if (satisfyCnt === depCnt) {\n          stopFunc()\n          startFunc(values)\n        }\n      }\n    }\n  }\n\n  flash(name) {\n    let watcher = this._watchers[name]\n\n    if (watcher) {\n      watcher.flash()\n    }\n  }\n\n}\n\nModel.prototype._globalWatchArgs = {} // mutation protection in Model.watch\n\nEmitterMixin.mixInto(Model)\nListenerMixin.mixInto(Model)\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/Model.ts","import * as moment from 'moment'\nimport { isTimeString } from '../../util'\nimport SingleEventDef from './SingleEventDef'\nimport RecurringEventDef from './RecurringEventDef'\n\n\nexport default {\n\n  parse: function(eventInput, source) {\n    if (\n      isTimeString(eventInput.start) || moment.isDuration(eventInput.start) ||\n      isTimeString(eventInput.end) || moment.isDuration(eventInput.end)\n    ) {\n      return RecurringEventDef.parse(eventInput, source)\n    } else {\n      return SingleEventDef.parse(eventInput, source)\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/event/EventDefParser.ts","import { diffByUnit, diffDay, diffDayTime } from '../../util'\nimport EventDateProfile from './EventDateProfile'\n\n\nexport default class EventDefDateMutation {\n\n  clearEnd: boolean = false\n  forceTimed: boolean = false\n  forceAllDay: boolean = false\n\n  // Durations. if 0-ms duration, will be null instead.\n  // Callers should not set this directly.\n  dateDelta: any\n  startDelta: any\n  endDelta: any\n\n\n  static createFromDiff(dateProfile0, dateProfile1, largeUnit) {\n    let clearEnd = dateProfile0.end && !dateProfile1.end\n    let forceTimed = dateProfile0.isAllDay() && !dateProfile1.isAllDay()\n    let forceAllDay = !dateProfile0.isAllDay() && dateProfile1.isAllDay()\n    let dateDelta\n    let endDiff\n    let endDelta\n    let mutation\n\n    // subtracts the dates in the appropriate way, returning a duration\n    function subtractDates(date1, date0) { // date1 - date0\n      if (largeUnit) {\n        return diffByUnit(date1, date0, largeUnit) // poorly named\n      } else if (dateProfile1.isAllDay()) {\n        return diffDay(date1, date0) // poorly named\n      } else {\n        return diffDayTime(date1, date0) // poorly named\n      }\n    }\n\n    dateDelta = subtractDates(dateProfile1.start, dateProfile0.start)\n\n    if (dateProfile1.end) {\n      // use unzonedRanges because dateProfile0.end might be null\n      endDiff = subtractDates(\n        dateProfile1.unzonedRange.getEnd(),\n        dateProfile0.unzonedRange.getEnd()\n      )\n      endDelta = endDiff.subtract(dateDelta)\n    }\n\n    mutation = new EventDefDateMutation()\n    mutation.clearEnd = clearEnd\n    mutation.forceTimed = forceTimed\n    mutation.forceAllDay = forceAllDay\n    mutation.setDateDelta(dateDelta)\n    mutation.setEndDelta(endDelta)\n\n    return mutation\n  }\n\n\n  /*\n  returns an undo function.\n  */\n  buildNewDateProfile(eventDateProfile, calendar) {\n    let start = eventDateProfile.start.clone()\n    let end = null\n    let shouldRezone = false\n\n    if (eventDateProfile.end && !this.clearEnd) {\n      end = eventDateProfile.end.clone()\n    } else if (this.endDelta && !end) {\n      end = calendar.getDefaultEventEnd(eventDateProfile.isAllDay(), start)\n    }\n\n    if (this.forceTimed) {\n      shouldRezone = true\n\n      if (!start.hasTime()) {\n        start.time(0)\n      }\n\n      if (end && !end.hasTime()) {\n        end.time(0)\n      }\n    } else if (this.forceAllDay) {\n\n      if (start.hasTime()) {\n        start.stripTime()\n      }\n\n      if (end && end.hasTime()) {\n        end.stripTime()\n      }\n    }\n\n    if (this.dateDelta) {\n      shouldRezone = true\n\n      start.add(this.dateDelta)\n\n      if (end) {\n        end.add(this.dateDelta)\n      }\n    }\n\n    // do this before adding startDelta to start, so we can work off of start\n    if (this.endDelta) {\n      shouldRezone = true\n\n      end.add(this.endDelta)\n    }\n\n    if (this.startDelta) {\n      shouldRezone = true\n\n      start.add(this.startDelta)\n    }\n\n    if (shouldRezone) {\n      start = calendar.applyTimezone(start)\n\n      if (end) {\n        end = calendar.applyTimezone(end)\n      }\n    }\n\n    // TODO: okay to access calendar option?\n    if (!end && calendar.opt('forceEventDuration')) {\n      end = calendar.getDefaultEventEnd(eventDateProfile.isAllDay(), start)\n    }\n\n    return new EventDateProfile(start, end, calendar)\n  }\n\n\n  setDateDelta(dateDelta) {\n    if (dateDelta && dateDelta.valueOf()) {\n      this.dateDelta = dateDelta\n    } else {\n      this.dateDelta = null\n    }\n  }\n\n\n  setStartDelta(startDelta) {\n    if (startDelta && startDelta.valueOf()) {\n      this.startDelta = startDelta\n    } else {\n      this.startDelta = null\n    }\n  }\n\n\n  setEndDelta(endDelta) {\n    if (endDelta && endDelta.valueOf()) {\n      this.endDelta = endDelta\n    } else {\n      this.endDelta = null\n    }\n  }\n\n\n  isEmpty() {\n    return !this.clearEnd && !this.forceTimed && !this.forceAllDay &&\n      !this.dateDelta && !this.startDelta && !this.endDelta\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/event/EventDefDateMutation.ts","import StandardTheme from './StandardTheme'\nimport JqueryUiTheme from './JqueryUiTheme'\n\n\nconst themeClassHash = {} as any\n\n\nexport function defineThemeSystem(themeName, themeClass) {\n  themeClassHash[themeName] = themeClass\n}\n\n\nexport function getThemeSystemClass(themeSetting) {\n  if (!themeSetting) {\n    return StandardTheme\n  } else if (themeSetting === true) {\n    return JqueryUiTheme\n  } else {\n    return themeClassHash[themeSetting]\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/theme/ThemeRegistry.ts","import * as $ from 'jquery'\nimport { removeMatching } from '../../util'\nimport Promise from '../../common/Promise'\nimport EventSource from './EventSource'\nimport SingleEventDef from '../event/SingleEventDef'\n\n\nexport default class ArrayEventSource extends EventSource {\n\n  rawEventDefs: any // unparsed\n  eventDefs: any\n  currentTimezone: any\n\n\n  constructor(calendar) {\n    super(calendar)\n    this.eventDefs = [] // for if setRawEventDefs is never called\n  }\n\n\n  static parse(rawInput, calendar) {\n    let rawProps\n\n    // normalize raw input\n    if ($.isArray(rawInput.events)) { // extended form\n      rawProps = rawInput\n    } else if ($.isArray(rawInput)) { // short form\n      rawProps = { events: rawInput }\n    }\n\n    if (rawProps) {\n      return EventSource.parse.call(this, rawProps, calendar)\n    }\n\n    return false\n  }\n\n\n  setRawEventDefs(rawEventDefs) {\n    this.rawEventDefs = rawEventDefs\n    this.eventDefs = this.parseEventDefs(rawEventDefs)\n  }\n\n\n  fetch(start, end, timezone) {\n    let eventDefs = this.eventDefs\n    let i\n\n    if (\n      this.currentTimezone != null &&\n      this.currentTimezone !== timezone\n    ) {\n      for (i = 0; i < eventDefs.length; i++) {\n        if (eventDefs[i] instanceof SingleEventDef) {\n          eventDefs[i].rezone()\n        }\n      }\n    }\n\n    this.currentTimezone = timezone\n\n    return Promise.resolve(eventDefs)\n  }\n\n\n  addEventDef(eventDef) {\n    this.eventDefs.push(eventDef)\n  }\n\n\n  /*\n  eventDefId already normalized to a string\n  */\n  removeEventDefsById(eventDefId) {\n    return removeMatching(this.eventDefs, function(eventDef) {\n      return eventDef.id === eventDefId\n    })\n  }\n\n\n  removeAllEventDefs() {\n    this.eventDefs = []\n  }\n\n\n  getPrimitive() {\n    return this.rawEventDefs\n  }\n\n\n  applyManualStandardProps(rawProps) {\n    let superSuccess = super.applyManualStandardProps(rawProps)\n\n    this.setRawEventDefs(rawProps.events)\n\n    return superSuccess\n  }\n\n}\n\n\nArrayEventSource.defineStandardProps({\n  events: false // don't automatically transfer\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/event-source/ArrayEventSource.ts","import * as $ from 'jquery'\nimport { getClientRect, getScrollParent } from '../util'\n\n/*\nA cache for the left/right/top/bottom/width/height values for one or more elements.\nWorks with both offset (from topleft document) and position (from offsetParent).\n\noptions:\n- els\n- isHorizontal\n- isVertical\n*/\nexport default class CoordCache {\n\n  els: any // jQuery set (assumed to be siblings)\n  forcedOffsetParentEl: any // options can override the natural offsetParent\n  origin: any // {left,top} position of offsetParent of els\n  boundingRect: any // constrain cordinates to this rectangle. {left,right,top,bottom} or null\n  isHorizontal: boolean = false // whether to query for left/right/width\n  isVertical: boolean = false // whether to query for top/bottom/height\n\n  // arrays of coordinates (offsets from topleft of document)\n  lefts: any\n  rights: any\n  tops: any\n  bottoms: any\n\n\n  constructor(options) {\n    this.els = $(options.els)\n    this.isHorizontal = options.isHorizontal\n    this.isVertical = options.isVertical\n    this.forcedOffsetParentEl = options.offsetParent ? $(options.offsetParent) : null\n  }\n\n\n  // Queries the els for coordinates and stores them.\n  // Call this method before using and of the get* methods below.\n  build() {\n    let offsetParentEl = this.forcedOffsetParentEl\n    if (!offsetParentEl && this.els.length > 0) {\n      offsetParentEl = this.els.eq(0).offsetParent()\n    }\n\n    this.origin = offsetParentEl ?\n      offsetParentEl.offset() :\n      null\n\n    this.boundingRect = this.queryBoundingRect()\n\n    if (this.isHorizontal) {\n      this.buildElHorizontals()\n    }\n    if (this.isVertical) {\n      this.buildElVerticals()\n    }\n  }\n\n\n  // Destroys all internal data about coordinates, freeing memory\n  clear() {\n    this.origin = null\n    this.boundingRect = null\n    this.lefts = null\n    this.rights = null\n    this.tops = null\n    this.bottoms = null\n  }\n\n\n  // When called, if coord caches aren't built, builds them\n  ensureBuilt() {\n    if (!this.origin) {\n      this.build()\n    }\n  }\n\n\n  // Populates the left/right internal coordinate arrays\n  buildElHorizontals() {\n    let lefts = []\n    let rights = []\n\n    this.els.each(function(i, node) {\n      let el = $(node)\n      let left = el.offset().left\n      let width = el.outerWidth()\n\n      lefts.push(left)\n      rights.push(left + width)\n    })\n\n    this.lefts = lefts\n    this.rights = rights\n  }\n\n\n  // Populates the top/bottom internal coordinate arrays\n  buildElVerticals() {\n    let tops = []\n    let bottoms = []\n\n    this.els.each(function(i, node) {\n      let el = $(node)\n      let top = el.offset().top\n      let height = el.outerHeight()\n\n      tops.push(top)\n      bottoms.push(top + height)\n    })\n\n    this.tops = tops\n    this.bottoms = bottoms\n  }\n\n\n  // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n  // If no intersection is made, returns undefined.\n  getHorizontalIndex(leftOffset) {\n    this.ensureBuilt()\n\n    let lefts = this.lefts\n    let rights = this.rights\n    let len = lefts.length\n    let i\n\n    for (i = 0; i < len; i++) {\n      if (leftOffset >= lefts[i] && leftOffset < rights[i]) {\n        return i\n      }\n    }\n  }\n\n\n  // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n  // If no intersection is made, returns undefined.\n  getVerticalIndex(topOffset) {\n    this.ensureBuilt()\n\n    let tops = this.tops\n    let bottoms = this.bottoms\n    let len = tops.length\n    let i\n\n    for (i = 0; i < len; i++) {\n      if (topOffset >= tops[i] && topOffset < bottoms[i]) {\n        return i\n      }\n    }\n  }\n\n\n  // Gets the left offset (from document left) of the element at the given index\n  getLeftOffset(leftIndex) {\n    this.ensureBuilt()\n    return this.lefts[leftIndex]\n  }\n\n\n  // Gets the left position (from offsetParent left) of the element at the given index\n  getLeftPosition(leftIndex) {\n    this.ensureBuilt()\n    return this.lefts[leftIndex] - this.origin.left\n  }\n\n\n  // Gets the right offset (from document left) of the element at the given index.\n  // This value is NOT relative to the document's right edge, like the CSS concept of \"right\" would be.\n  getRightOffset(leftIndex) {\n    this.ensureBuilt()\n    return this.rights[leftIndex]\n  }\n\n\n  // Gets the right position (from offsetParent left) of the element at the given index.\n  // This value is NOT relative to the offsetParent's right edge, like the CSS concept of \"right\" would be.\n  getRightPosition(leftIndex) {\n    this.ensureBuilt()\n    return this.rights[leftIndex] - this.origin.left\n  }\n\n\n  // Gets the width of the element at the given index\n  getWidth(leftIndex) {\n    this.ensureBuilt()\n    return this.rights[leftIndex] - this.lefts[leftIndex]\n  }\n\n\n  // Gets the top offset (from document top) of the element at the given index\n  getTopOffset(topIndex) {\n    this.ensureBuilt()\n    return this.tops[topIndex]\n  }\n\n\n  // Gets the top position (from offsetParent top) of the element at the given position\n  getTopPosition(topIndex) {\n    this.ensureBuilt()\n    return this.tops[topIndex] - this.origin.top\n  }\n\n  // Gets the bottom offset (from the document top) of the element at the given index.\n  // This value is NOT relative to the offsetParent's bottom edge, like the CSS concept of \"bottom\" would be.\n  getBottomOffset(topIndex) {\n    this.ensureBuilt()\n    return this.bottoms[topIndex]\n  }\n\n\n  // Gets the bottom position (from the offsetParent top) of the element at the given index.\n  // This value is NOT relative to the offsetParent's bottom edge, like the CSS concept of \"bottom\" would be.\n  getBottomPosition(topIndex) {\n    this.ensureBuilt()\n    return this.bottoms[topIndex] - this.origin.top\n  }\n\n\n  // Gets the height of the element at the given index\n  getHeight(topIndex) {\n    this.ensureBuilt()\n    return this.bottoms[topIndex] - this.tops[topIndex]\n  }\n\n\n  // Bounding Rect\n  // TODO: decouple this from CoordCache\n\n  // Compute and return what the elements' bounding rectangle is, from the user's perspective.\n  // Right now, only returns a rectangle if constrained by an overflow:scroll element.\n  // Returns null if there are no elements\n  queryBoundingRect() {\n    let scrollParentEl\n\n    if (this.els.length > 0) {\n      scrollParentEl = getScrollParent(this.els.eq(0))\n\n      if (!scrollParentEl.is(document)) {\n        return getClientRect(scrollParentEl)\n      }\n    }\n\n    return null\n  }\n\n  isPointInBounds(leftOffset, topOffset) {\n    return this.isLeftInBounds(leftOffset) && this.isTopInBounds(topOffset)\n  }\n\n  isLeftInBounds(leftOffset) {\n    return !this.boundingRect || (leftOffset >= this.boundingRect.left && leftOffset < this.boundingRect.right)\n  }\n\n  isTopInBounds(topOffset) {\n    return !this.boundingRect || (topOffset >= this.boundingRect.top && topOffset < this.boundingRect.bottom)\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/CoordCache.ts","import * as $ from 'jquery'\nimport {\n  firstDefined,\n  preventSelection,\n  getEvIsTouch,\n  getEvX,\n  getEvY,\n  getScrollParent,\n  isPrimaryMouseButton,\n  allowSelection,\n  preventDefault,\n  debounce,\n  getOuterRect,\n  proxy\n} from '../util'\nimport { default as ListenerMixin, ListenerInterface } from './ListenerMixin'\nimport GlobalEmitter from './GlobalEmitter'\n\n\n/* Tracks a drag's mouse movement, firing various handlers\n----------------------------------------------------------------------------------------------------------------------*/\n// TODO: use Emitter\n\nexport default class DragListener {\n\n  listenTo: ListenerInterface['listenTo']\n  stopListeningTo: ListenerInterface['stopListeningTo']\n\n  options: any\n  subjectEl: any\n\n  // coordinates of the initial mousedown\n  originX: any\n  originY: any\n\n  // the wrapping element that scrolls, or MIGHT scroll if there's overflow.\n  // TODO: do this for wrappers that have overflow:hidden as well.\n  scrollEl: any\n\n  isInteracting: boolean = false\n  isDistanceSurpassed: boolean = false\n  isDelayEnded: boolean = false\n  isDragging: boolean = false\n  isTouch: boolean = false\n  isGeneric: boolean = false // initiated by 'dragstart' (jqui)\n\n  delay: any\n  delayTimeoutId: any\n  minDistance: any\n\n  shouldCancelTouchScroll: boolean = true\n  scrollAlwaysKills: boolean = false\n\n  isAutoScroll: boolean = false\n\n  scrollBounds: any // { top, bottom, left, right }\n  scrollTopVel: any // pixels per second\n  scrollLeftVel: any // pixels per second\n  scrollIntervalId: any // ID of setTimeout for scrolling animation loop\n\n  // defaults\n  scrollSensitivity: number = 30 // pixels from edge for scrolling to start\n  scrollSpeed: number = 200 // pixels per second, at maximum speed\n  scrollIntervalMs: number = 50 // millisecond wait between scroll increment\n\n\n  constructor(options) {\n    this.options = options || {}\n  }\n\n\n  // Interaction (high-level)\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  startInteraction(ev, extraOptions: any= {}) {\n\n    if (ev.type === 'mousedown') {\n      if (GlobalEmitter.get().shouldIgnoreMouse()) {\n        return\n      } else if (!isPrimaryMouseButton(ev)) {\n        return\n      } else {\n        ev.preventDefault() // prevents native selection in most browsers\n      }\n    }\n\n    if (!this.isInteracting) {\n\n      // process options\n      this.delay = firstDefined(extraOptions.delay, this.options.delay, 0)\n      this.minDistance = firstDefined(extraOptions.distance, this.options.distance, 0)\n      this.subjectEl = this.options.subjectEl\n\n      preventSelection($('body'))\n\n      this.isInteracting = true\n      this.isTouch = getEvIsTouch(ev)\n      this.isGeneric = ev.type === 'dragstart'\n      this.isDelayEnded = false\n      this.isDistanceSurpassed = false\n\n      this.originX = getEvX(ev)\n      this.originY = getEvY(ev)\n      this.scrollEl = getScrollParent($(ev.target))\n\n      this.bindHandlers()\n      this.initAutoScroll()\n      this.handleInteractionStart(ev)\n      this.startDelay(ev)\n\n      if (!this.minDistance) {\n        this.handleDistanceSurpassed(ev)\n      }\n    }\n  }\n\n\n  handleInteractionStart(ev) {\n    this.trigger('interactionStart', ev)\n  }\n\n\n  endInteraction(ev, isCancelled) {\n    if (this.isInteracting) {\n      this.endDrag(ev)\n\n      if (this.delayTimeoutId) {\n        clearTimeout(this.delayTimeoutId)\n        this.delayTimeoutId = null\n      }\n\n      this.destroyAutoScroll()\n      this.unbindHandlers()\n\n      this.isInteracting = false\n      this.handleInteractionEnd(ev, isCancelled)\n\n      allowSelection($('body'))\n    }\n  }\n\n\n  handleInteractionEnd(ev, isCancelled) {\n    this.trigger('interactionEnd', ev, isCancelled || false)\n  }\n\n\n  // Binding To DOM\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  bindHandlers() {\n    // some browsers (Safari in iOS 10) don't allow preventDefault on touch events that are bound after touchstart,\n    // so listen to the GlobalEmitter singleton, which is always bound, instead of the document directly.\n    let globalEmitter = GlobalEmitter.get()\n\n    if (this.isGeneric) {\n      this.listenTo($(document), { // might only work on iOS because of GlobalEmitter's bind :(\n        drag: this.handleMove,\n        dragstop: this.endInteraction\n      })\n    } else if (this.isTouch) {\n      this.listenTo(globalEmitter, {\n        touchmove: this.handleTouchMove,\n        touchend: this.endInteraction,\n        scroll: this.handleTouchScroll\n      })\n    } else {\n      this.listenTo(globalEmitter, {\n        mousemove: this.handleMouseMove,\n        mouseup: this.endInteraction\n      })\n    }\n\n    this.listenTo(globalEmitter, {\n      selectstart: preventDefault, // don't allow selection while dragging\n      contextmenu: preventDefault // long taps would open menu on Chrome dev tools\n    })\n  }\n\n\n  unbindHandlers() {\n    this.stopListeningTo(GlobalEmitter.get())\n    this.stopListeningTo($(document)) // for isGeneric\n  }\n\n\n  // Drag (high-level)\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  // extraOptions ignored if drag already started\n  startDrag(ev, extraOptions?) {\n    this.startInteraction(ev, extraOptions) // ensure interaction began\n\n    if (!this.isDragging) {\n      this.isDragging = true\n      this.handleDragStart(ev)\n    }\n  }\n\n\n  handleDragStart(ev) {\n    this.trigger('dragStart', ev)\n  }\n\n\n  handleMove(ev) {\n    let dx = getEvX(ev) - this.originX\n    let dy = getEvY(ev) - this.originY\n    let minDistance = this.minDistance\n    let distanceSq // current distance from the origin, squared\n\n    if (!this.isDistanceSurpassed) {\n      distanceSq = dx * dx + dy * dy\n      if (distanceSq >= minDistance * minDistance) { // use pythagorean theorem\n        this.handleDistanceSurpassed(ev)\n      }\n    }\n\n    if (this.isDragging) {\n      this.handleDrag(dx, dy, ev)\n    }\n  }\n\n\n  // Called while the mouse is being moved and when we know a legitimate drag is taking place\n  handleDrag(dx, dy, ev) {\n    this.trigger('drag', dx, dy, ev)\n    this.updateAutoScroll(ev) // will possibly cause scrolling\n  }\n\n\n  endDrag(ev) {\n    if (this.isDragging) {\n      this.isDragging = false\n      this.handleDragEnd(ev)\n    }\n  }\n\n\n  handleDragEnd(ev) {\n    this.trigger('dragEnd', ev)\n  }\n\n\n  // Delay\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  startDelay(initialEv) {\n    if (this.delay) {\n      this.delayTimeoutId = setTimeout(() => {\n        this.handleDelayEnd(initialEv)\n      }, this.delay)\n    } else {\n      this.handleDelayEnd(initialEv)\n    }\n  }\n\n\n  handleDelayEnd(initialEv) {\n    this.isDelayEnded = true\n\n    if (this.isDistanceSurpassed) {\n      this.startDrag(initialEv)\n    }\n  }\n\n\n  // Distance\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  handleDistanceSurpassed(ev) {\n    this.isDistanceSurpassed = true\n\n    if (this.isDelayEnded) {\n      this.startDrag(ev)\n    }\n  }\n\n\n  // Mouse / Touch\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  handleTouchMove(ev) {\n\n    // prevent inertia and touchmove-scrolling while dragging\n    if (this.isDragging && this.shouldCancelTouchScroll) {\n      ev.preventDefault()\n    }\n\n    this.handleMove(ev)\n  }\n\n\n  handleMouseMove(ev) {\n    this.handleMove(ev)\n  }\n\n\n  // Scrolling (unrelated to auto-scroll)\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  handleTouchScroll(ev) {\n    // if the drag is being initiated by touch, but a scroll happens before\n    // the drag-initiating delay is over, cancel the drag\n    if (!this.isDragging || this.scrollAlwaysKills) {\n      this.endInteraction(ev, true) // isCancelled=true\n    }\n  }\n\n\n  // Utils\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  // Triggers a callback. Calls a function in the option hash of the same name.\n  // Arguments beyond the first `name` are forwarded on.\n  trigger(name, ...args) {\n    if (this.options[name]) {\n      this.options[name].apply(this, args)\n    }\n    // makes _methods callable by event name. TODO: kill this\n    if (this['_' + name]) {\n      this['_' + name].apply(this, args)\n    }\n  }\n\n\n  // Auto-scroll\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  initAutoScroll() {\n    let scrollEl = this.scrollEl\n\n    this.isAutoScroll =\n      this.options.scroll &&\n      scrollEl &&\n      !scrollEl.is(window) &&\n      !scrollEl.is(document)\n\n    if (this.isAutoScroll) {\n      // debounce makes sure rapid calls don't happen\n      this.listenTo(scrollEl, 'scroll', debounce(this.handleDebouncedScroll, 100))\n    }\n  }\n\n\n  destroyAutoScroll() {\n    this.endAutoScroll() // kill any animation loop\n\n    // remove the scroll handler if there is a scrollEl\n    if (this.isAutoScroll) {\n      this.stopListeningTo(this.scrollEl, 'scroll') // will probably get removed by unbindHandlers too :(\n    }\n  }\n\n\n  // Computes and stores the bounding rectangle of scrollEl\n  computeScrollBounds() {\n    if (this.isAutoScroll) {\n      this.scrollBounds = getOuterRect(this.scrollEl)\n      // TODO: use getClientRect in future. but prevents auto scrolling when on top of scrollbars\n    }\n  }\n\n\n  // Called when the dragging is in progress and scrolling should be updated\n  updateAutoScroll(ev) {\n    let sensitivity = this.scrollSensitivity\n    let bounds = this.scrollBounds\n    let topCloseness\n    let bottomCloseness\n    let leftCloseness\n    let rightCloseness\n    let topVel = 0\n    let leftVel = 0\n\n    if (bounds) { // only scroll if scrollEl exists\n\n      // compute closeness to edges. valid range is from 0.0 - 1.0\n      topCloseness = (sensitivity - (getEvY(ev) - bounds.top)) / sensitivity\n      bottomCloseness = (sensitivity - (bounds.bottom - getEvY(ev))) / sensitivity\n      leftCloseness = (sensitivity - (getEvX(ev) - bounds.left)) / sensitivity\n      rightCloseness = (sensitivity - (bounds.right - getEvX(ev))) / sensitivity\n\n      // translate vertical closeness into velocity.\n      // mouse must be completely in bounds for velocity to happen.\n      if (topCloseness >= 0 && topCloseness <= 1) {\n        topVel = topCloseness * this.scrollSpeed * -1 // negative. for scrolling up\n      } else if (bottomCloseness >= 0 && bottomCloseness <= 1) {\n        topVel = bottomCloseness * this.scrollSpeed\n      }\n\n      // translate horizontal closeness into velocity\n      if (leftCloseness >= 0 && leftCloseness <= 1) {\n        leftVel = leftCloseness * this.scrollSpeed * -1 // negative. for scrolling left\n      } else if (rightCloseness >= 0 && rightCloseness <= 1) {\n        leftVel = rightCloseness * this.scrollSpeed\n      }\n    }\n\n    this.setScrollVel(topVel, leftVel)\n  }\n\n\n  // Sets the speed-of-scrolling for the scrollEl\n  setScrollVel(topVel, leftVel) {\n\n    this.scrollTopVel = topVel\n    this.scrollLeftVel = leftVel\n\n    this.constrainScrollVel() // massages into realistic values\n\n    // if there is non-zero velocity, and an animation loop hasn't already started, then START\n    if ((this.scrollTopVel || this.scrollLeftVel) && !this.scrollIntervalId) {\n      this.scrollIntervalId = setInterval(\n        proxy(this, 'scrollIntervalFunc'), // scope to `this`\n        this.scrollIntervalMs\n      )\n    }\n  }\n\n\n  // Forces scrollTopVel and scrollLeftVel to be zero if scrolling has already gone all the way\n  constrainScrollVel() {\n    let el = this.scrollEl\n\n    if (this.scrollTopVel < 0) { // scrolling up?\n      if (el.scrollTop() <= 0) { // already scrolled all the way up?\n        this.scrollTopVel = 0\n      }\n    } else if (this.scrollTopVel > 0) { // scrolling down?\n      if (el.scrollTop() + el[0].clientHeight >= el[0].scrollHeight) { // already scrolled all the way down?\n        this.scrollTopVel = 0\n      }\n    }\n\n    if (this.scrollLeftVel < 0) { // scrolling left?\n      if (el.scrollLeft() <= 0) { // already scrolled all the left?\n        this.scrollLeftVel = 0\n      }\n    } else if (this.scrollLeftVel > 0) { // scrolling right?\n      if (el.scrollLeft() + el[0].clientWidth >= el[0].scrollWidth) { // already scrolled all the way right?\n        this.scrollLeftVel = 0\n      }\n    }\n  }\n\n\n  // This function gets called during every iteration of the scrolling animation loop\n  scrollIntervalFunc() {\n    let el = this.scrollEl\n    let frac = this.scrollIntervalMs / 1000 // considering animation frequency, what the vel should be mult'd by\n\n    // change the value of scrollEl's scroll\n    if (this.scrollTopVel) {\n      el.scrollTop(el.scrollTop() + this.scrollTopVel * frac)\n    }\n    if (this.scrollLeftVel) {\n      el.scrollLeft(el.scrollLeft() + this.scrollLeftVel * frac)\n    }\n\n    this.constrainScrollVel() // since the scroll values changed, recompute the velocities\n\n    // if scrolled all the way, which causes the vels to be zero, stop the animation loop\n    if (!this.scrollTopVel && !this.scrollLeftVel) {\n      this.endAutoScroll()\n    }\n  }\n\n\n  // Kills any existing scrolling animation loop\n  endAutoScroll() {\n    if (this.scrollIntervalId) {\n      clearInterval(this.scrollIntervalId)\n      this.scrollIntervalId = null\n\n      this.handleScrollEnd()\n    }\n  }\n\n\n  // Get called when the scrollEl is scrolled (NOTE: this is delayed via debounce)\n  handleDebouncedScroll() {\n    // recompute all coordinates, but *only* if this is *not* part of our scrolling animation\n    if (!this.scrollIntervalId) {\n      this.handleScrollEnd()\n    }\n  }\n\n\n  handleScrollEnd() {\n    // Called when scrolling has stopped, whether through auto scroll, or the user scrolling\n  }\n\n}\n\nListenerMixin.mixInto(DragListener)\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/DragListener.ts","import { htmlEscape, dayIDs } from '../util'\nimport Mixin from '../common/Mixin'\n\nexport interface DayTableInterface {\n  dayDates: any\n  daysPerRow: any\n  rowCnt: any\n  colCnt: any\n  updateDayTable()\n  renderHeadHtml()\n  renderBgTrHtml(row)\n  bookendCells(trEl)\n  getCellDate(row, col)\n  getCellRange(row, col)\n  sliceRangeByDay(unzonedRange)\n  sliceRangeByRow(unzonedRange)\n  renderIntroHtml()\n}\n\n/*\nA set of rendering and date-related methods for a visual component comprised of one or more rows of day columns.\nPrerequisite: the object being mixed into needs to be a *Grid*\n*/\nexport default class DayTableMixin extends Mixin implements DayTableInterface {\n\n  breakOnWeeks: boolean // should create a new row for each week? not specified, so default is FALSY\n  dayDates: any // whole-day dates for each column. left to right\n  dayIndices: any // for each day from start, the offset\n  daysPerRow: any\n  rowCnt: any\n  colCnt: any\n  colHeadFormat: any\n\n\n  // Populates internal variables used for date calculation and rendering\n  updateDayTable() {\n    let t = (this as any)\n    let view = t.view\n    let calendar = view.calendar\n    let date = calendar.msToUtcMoment(t.dateProfile.renderUnzonedRange.startMs, true)\n    let end = calendar.msToUtcMoment(t.dateProfile.renderUnzonedRange.endMs, true)\n    let dayIndex = -1\n    let dayIndices = []\n    let dayDates = []\n    let daysPerRow\n    let firstDay\n    let rowCnt\n\n    while (date.isBefore(end)) { // loop each day from start to end\n      if (view.isHiddenDay(date)) {\n        dayIndices.push(dayIndex + 0.5) // mark that it's between indices\n      } else {\n        dayIndex++\n        dayIndices.push(dayIndex)\n        dayDates.push(date.clone())\n      }\n      date.add(1, 'days')\n    }\n\n    if (this.breakOnWeeks) {\n      // count columns until the day-of-week repeats\n      firstDay = dayDates[0].day()\n      for (daysPerRow = 1; daysPerRow < dayDates.length; daysPerRow++) {\n        if (dayDates[daysPerRow].day() === firstDay) {\n          break\n        }\n      }\n      rowCnt = Math.ceil(dayDates.length / daysPerRow)\n    } else {\n      rowCnt = 1\n      daysPerRow = dayDates.length\n    }\n\n    this.dayDates = dayDates\n    this.dayIndices = dayIndices\n    this.daysPerRow = daysPerRow\n    this.rowCnt = rowCnt\n\n    this.updateDayTableCols()\n  }\n\n\n  // Computes and assigned the colCnt property and updates any options that may be computed from it\n  updateDayTableCols() {\n    this.colCnt = this.computeColCnt()\n    this.colHeadFormat =\n      (this as any).opt('columnHeaderFormat') ||\n      (this as any).opt('columnFormat') || // deprecated\n      this.computeColHeadFormat()\n  }\n\n\n  // Determines how many columns there should be in the table\n  computeColCnt() {\n    return this.daysPerRow\n  }\n\n\n  // Computes the ambiguously-timed moment for the given cell\n  getCellDate(row, col) {\n    return this.dayDates[\n        this.getCellDayIndex(row, col)\n      ].clone()\n  }\n\n\n  // Computes the ambiguously-timed date range for the given cell\n  getCellRange(row, col) {\n    let start = this.getCellDate(row, col)\n    let end = start.clone().add(1, 'days')\n\n    return { start: start, end: end }\n  }\n\n\n  // Returns the number of day cells, chronologically, from the first of the grid (0-based)\n  getCellDayIndex(row, col) {\n    return row * this.daysPerRow + this.getColDayIndex(col)\n  }\n\n\n  // Returns the numner of day cells, chronologically, from the first cell in *any given row*\n  getColDayIndex(col) {\n    if ((this as any).isRTL) {\n      return this.colCnt - 1 - col\n    } else {\n      return col\n    }\n  }\n\n\n  // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n  // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n  // If before the first offset, returns a negative number.\n  // If after the last offset, returns an offset past the last cell offset.\n  // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n  getDateDayIndex(date) {\n    let dayIndices = this.dayIndices\n    let dayOffset = date.diff(this.dayDates[0], 'days')\n\n    if (dayOffset < 0) {\n      return dayIndices[0] - 1\n    } else if (dayOffset >= dayIndices.length) {\n      return dayIndices[dayIndices.length - 1] + 1\n    } else {\n      return dayIndices[dayOffset]\n    }\n  }\n\n\n  /* Options\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  // Computes a default column header formatting string if `colFormat` is not explicitly defined\n  computeColHeadFormat() {\n    // if more than one week row, or if there are a lot of columns with not much space,\n    // put just the day numbers will be in each cell\n    if (this.rowCnt > 1 || this.colCnt > 10) {\n      return 'ddd' // \"Sat\"\n    } else if (this.colCnt > 1) {\n      return (this as any).opt('dayOfMonthFormat') // \"Sat 12/10\"\n    } else {\n      return 'dddd' // \"Saturday\"\n    }\n  }\n\n\n  /* Slicing\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  // Slices up a date range into a segment for every week-row it intersects with\n  sliceRangeByRow(unzonedRange) {\n    let daysPerRow = this.daysPerRow\n    let normalRange = (this as any).view.computeDayRange(unzonedRange) // make whole-day range, considering nextDayThreshold\n    let rangeFirst = this.getDateDayIndex(normalRange.start) // inclusive first index\n    let rangeLast = this.getDateDayIndex(normalRange.end.clone().subtract(1, 'days')) // inclusive last index\n    let segs = []\n    let row\n    let rowFirst\n    let rowLast // inclusive day-index range for current row\n    let segFirst\n    let segLast // inclusive day-index range for segment\n\n    for (row = 0; row < this.rowCnt; row++) {\n      rowFirst = row * daysPerRow\n      rowLast = rowFirst + daysPerRow - 1\n\n      // intersect segment's offset range with the row's\n      segFirst = Math.max(rangeFirst, rowFirst)\n      segLast = Math.min(rangeLast, rowLast)\n\n      // deal with in-between indices\n      segFirst = Math.ceil(segFirst) // in-between starts round to next cell\n      segLast = Math.floor(segLast) // in-between ends round to prev cell\n\n      if (segFirst <= segLast) { // was there any intersection with the current row?\n        segs.push({\n          row: row,\n\n          // normalize to start of row\n          firstRowDayIndex: segFirst - rowFirst,\n          lastRowDayIndex: segLast - rowFirst,\n\n          // must be matching integers to be the segment's start/end\n          isStart: segFirst === rangeFirst,\n          isEnd: segLast === rangeLast\n        })\n      }\n    }\n\n    return segs\n  }\n\n\n  // Slices up a date range into a segment for every day-cell it intersects with.\n  // TODO: make more DRY with sliceRangeByRow somehow.\n  sliceRangeByDay(unzonedRange) {\n    let daysPerRow = this.daysPerRow\n    let normalRange = (this as any).view.computeDayRange(unzonedRange) // make whole-day range, considering nextDayThreshold\n    let rangeFirst = this.getDateDayIndex(normalRange.start) // inclusive first index\n    let rangeLast = this.getDateDayIndex(normalRange.end.clone().subtract(1, 'days')) // inclusive last index\n    let segs = []\n    let row\n    let rowFirst\n    let rowLast // inclusive day-index range for current row\n    let i\n    let segFirst\n    let segLast // inclusive day-index range for segment\n\n    for (row = 0; row < this.rowCnt; row++) {\n      rowFirst = row * daysPerRow\n      rowLast = rowFirst + daysPerRow - 1\n\n      for (i = rowFirst; i <= rowLast; i++) {\n\n        // intersect segment's offset range with the row's\n        segFirst = Math.max(rangeFirst, i)\n        segLast = Math.min(rangeLast, i)\n\n        // deal with in-between indices\n        segFirst = Math.ceil(segFirst) // in-between starts round to next cell\n        segLast = Math.floor(segLast) // in-between ends round to prev cell\n\n        if (segFirst <= segLast) { // was there any intersection with the current row?\n          segs.push({\n            row: row,\n\n            // normalize to start of row\n            firstRowDayIndex: segFirst - rowFirst,\n            lastRowDayIndex: segLast - rowFirst,\n\n            // must be matching integers to be the segment's start/end\n            isStart: segFirst === rangeFirst,\n            isEnd: segLast === rangeLast\n          })\n        }\n      }\n    }\n\n    return segs\n  }\n\n\n  /* Header Rendering\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  renderHeadHtml() {\n    let theme = (this as any).view.calendar.theme\n\n    return '' +\n      '<div class=\"fc-row ' + theme.getClass('headerRow') + '\">' +\n        '<table class=\"' + theme.getClass('tableGrid') + '\">' +\n          '<thead>' +\n            this.renderHeadTrHtml() +\n          '</thead>' +\n        '</table>' +\n      '</div>'\n  }\n\n\n  renderHeadIntroHtml() {\n    return this.renderIntroHtml() // fall back to generic\n  }\n\n\n  renderHeadTrHtml() {\n    return '' +\n      '<tr>' +\n        ((this as any).isRTL ? '' : this.renderHeadIntroHtml()) +\n        this.renderHeadDateCellsHtml() +\n        ((this as any).isRTL ? this.renderHeadIntroHtml() : '') +\n      '</tr>'\n  }\n\n\n  renderHeadDateCellsHtml() {\n    let htmls = []\n    let col\n    let date\n\n    for (col = 0; col < this.colCnt; col++) {\n      date = this.getCellDate(0, col)\n      htmls.push((this as any).renderHeadDateCellHtml(date))\n    }\n\n    return htmls.join('')\n  }\n\n\n  // TODO: when internalApiVersion, accept an object for HTML attributes\n  // (colspan should be no different)\n  renderHeadDateCellHtml(date, colspan, otherAttrs) {\n    let t = (this as any)\n    let view = t.view\n    let isDateValid = t.dateProfile.activeUnzonedRange.containsDate(date) // TODO: called too frequently. cache somehow.\n    let classNames = [\n      'fc-day-header',\n      view.calendar.theme.getClass('widgetHeader')\n    ]\n    let innerHtml\n\n    if (typeof t.opt('columnHeaderHtml') === 'function') {\n      innerHtml = t.opt('columnHeaderHtml')(date)\n    } else if (typeof t.opt('columnHeaderText') === 'function') {\n      innerHtml = htmlEscape(t.opt('columnHeaderText')(date))\n    } else {\n      innerHtml = htmlEscape(date.format(t.colHeadFormat))\n    }\n\n    // if only one row of days, the classNames on the header can represent the specific days beneath\n    if (t.rowCnt === 1) {\n      classNames = classNames.concat(\n        // includes the day-of-week class\n        // noThemeHighlight=true (don't highlight the header)\n        t.getDayClasses(date, true)\n      )\n    } else {\n      classNames.push('fc-' + dayIDs[date.day()]) // only add the day-of-week class\n    }\n\n    return '' +\n      '<th class=\"' + classNames.join(' ') + '\"' +\n        ((isDateValid && t.rowCnt) === 1 ?\n          ' data-date=\"' + date.format('YYYY-MM-DD') + '\"' :\n          '') +\n        (colspan > 1 ?\n          ' colspan=\"' + colspan + '\"' :\n          '') +\n        (otherAttrs ?\n          ' ' + otherAttrs :\n          '') +\n        '>' +\n        (isDateValid ?\n          // don't make a link if the heading could represent multiple days, or if there's only one day (forceOff)\n          view.buildGotoAnchorHtml(\n            { date: date, forceOff: t.rowCnt > 1 || t.colCnt === 1 },\n            innerHtml\n          ) :\n          // if not valid, display text, but no link\n          innerHtml\n        ) +\n      '</th>'\n  }\n\n\n  /* Background Rendering\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  renderBgTrHtml(row) {\n    return '' +\n      '<tr>' +\n        ((this as any).isRTL ? '' : this.renderBgIntroHtml(row)) +\n        this.renderBgCellsHtml(row) +\n        ((this as any).isRTL ? this.renderBgIntroHtml(row) : '') +\n      '</tr>'\n  }\n\n\n  renderBgIntroHtml(row) {\n    return this.renderIntroHtml() // fall back to generic\n  }\n\n\n  renderBgCellsHtml(row) {\n    let htmls = []\n    let col\n    let date\n\n    for (col = 0; col < this.colCnt; col++) {\n      date = this.getCellDate(row, col)\n      htmls.push((this as any).renderBgCellHtml(date))\n    }\n\n    return htmls.join('')\n  }\n\n\n  renderBgCellHtml(date, otherAttrs) {\n    let t = (this as any)\n    let view = t.view\n    let isDateValid = t.dateProfile.activeUnzonedRange.containsDate(date) // TODO: called too frequently. cache somehow.\n    let classes = t.getDayClasses(date)\n\n    classes.unshift('fc-day', view.calendar.theme.getClass('widgetContent'))\n\n    return '<td class=\"' + classes.join(' ') + '\"' +\n      (isDateValid ?\n        ' data-date=\"' + date.format('YYYY-MM-DD') + '\"' : // if date has a time, won't format it\n        '') +\n      (otherAttrs ?\n        ' ' + otherAttrs :\n        '') +\n      '></td>'\n  }\n\n\n  /* Generic\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  renderIntroHtml() {\n    // Generates the default HTML intro for any row. User classes should override\n  }\n\n\n  // TODO: a generic method for dealing with <tr>, RTL, intro\n  // when increment internalApiVersion\n  // wrapTr (scheduler)\n\n\n  /* Utils\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  // Applies the generic \"intro\" and \"outro\" HTML to the given cells.\n  // Intro means the leftmost cell when the calendar is LTR and the rightmost cell when RTL. Vice-versa for outro.\n  bookendCells(trEl) {\n    let introHtml = this.renderIntroHtml()\n\n    if (introHtml) {\n      if ((this as any).isRTL) {\n        trEl.append(introHtml)\n      } else {\n        trEl.prepend(introHtml)\n      }\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/DayTableMixin.ts","\nexport default class BusinessHourRenderer {\n\n  component: any\n  fillRenderer: any\n  segs: any\n\n\n  /*\n  component implements:\n    - eventRangesToEventFootprints\n    - eventFootprintsToSegs\n  */\n  constructor(component, fillRenderer) {\n    this.component = component\n    this.fillRenderer = fillRenderer\n  }\n\n\n  render(businessHourGenerator) {\n    let component = this.component\n    let unzonedRange = component._getDateProfile().activeUnzonedRange\n\n    let eventInstanceGroup = businessHourGenerator.buildEventInstanceGroup(\n      component.hasAllDayBusinessHours,\n      unzonedRange\n    )\n\n    let eventFootprints = eventInstanceGroup ?\n      component.eventRangesToEventFootprints(\n        eventInstanceGroup.sliceRenderRanges(unzonedRange)\n      ) :\n      []\n\n    this.renderEventFootprints(eventFootprints)\n  }\n\n\n  renderEventFootprints(eventFootprints) {\n    let segs = this.component.eventFootprintsToSegs(eventFootprints)\n\n    this.renderSegs(segs)\n    this.segs = segs\n  }\n\n\n  renderSegs(segs) {\n    if (this.fillRenderer) {\n      this.fillRenderer.renderSegs('businessHours', segs, {\n        getClasses(seg) {\n          return [ 'fc-nonbusiness', 'fc-bgevent' ]\n        }\n      })\n    }\n  }\n\n\n  unrender() {\n    if (this.fillRenderer) {\n      this.fillRenderer.unrender('businessHours')\n    }\n\n    this.segs = null\n  }\n\n\n  getSegs() {\n    return this.segs || []\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/renderers/BusinessHourRenderer.ts","import * as $ from 'jquery'\nimport { cssToStr } from '../../util'\n\n\nexport default class FillRenderer { // use for highlight, background events, business hours\n\n  fillSegTag: string = 'div'\n  component: any\n  elsByFill: any // a hash of jQuery element sets used for rendering each fill. Keyed by fill name.\n\n\n  constructor(component) {\n    this.component = component\n    this.elsByFill = {}\n  }\n\n\n  renderFootprint(type, componentFootprint, props) {\n    this.renderSegs(\n      type,\n      this.component.componentFootprintToSegs(componentFootprint),\n      props\n    )\n  }\n\n\n  renderSegs(type, segs, props) {\n    let els\n\n    segs = this.buildSegEls(type, segs, props) // assignes `.el` to each seg. returns successfully rendered segs\n    els = this.attachSegEls(type, segs)\n\n    if (els) {\n      this.reportEls(type, els)\n    }\n\n    return segs\n  }\n\n\n  // Unrenders a specific type of fill that is currently rendered on the grid\n  unrender(type) {\n    let el = this.elsByFill[type]\n\n    if (el) {\n      el.remove()\n      delete this.elsByFill[type]\n    }\n  }\n\n\n  // Renders and assigns an `el` property for each fill segment. Generic enough to work with different types.\n  // Only returns segments that successfully rendered.\n  buildSegEls(type, segs, props) {\n    let html = ''\n    let renderedSegs = []\n    let i\n\n    if (segs.length) {\n\n      // build a large concatenation of segment HTML\n      for (i = 0; i < segs.length; i++) {\n        html += this.buildSegHtml(type, segs[i], props)\n      }\n\n      // Grab individual elements from the combined HTML string. Use each as the default rendering.\n      // Then, compute the 'el' for each segment.\n      $(html).each((i, node) => {\n        let seg = segs[i]\n        let el = $(node)\n\n        // allow custom filter methods per-type\n        if (props.filterEl) {\n          el = props.filterEl(seg, el)\n        }\n\n        if (el) { // custom filters did not cancel the render\n          el = $(el) // allow custom filter to return raw DOM node\n\n          // correct element type? (would be bad if a non-TD were inserted into a table for example)\n          if (el.is(this.fillSegTag)) {\n            seg.el = el\n            renderedSegs.push(seg)\n          }\n        }\n      })\n    }\n\n    return renderedSegs\n  }\n\n\n  // Builds the HTML needed for one fill segment. Generic enough to work with different types.\n  buildSegHtml(type, seg, props) {\n    // custom hooks per-type\n    let classes = props.getClasses ? props.getClasses(seg) : []\n    let css = cssToStr(props.getCss ? props.getCss(seg) : {})\n\n    return '<' + this.fillSegTag +\n      (classes.length ? ' class=\"' + classes.join(' ') + '\"' : '') +\n      (css ? ' style=\"' + css + '\"' : '') +\n      ' />'\n  }\n\n\n  // Should return wrapping DOM structure\n  attachSegEls(type, segs) {\n    // subclasses must implement\n  }\n\n\n  reportEls(type, nodes) {\n    if (this.elsByFill[type]) {\n      this.elsByFill[type] = this.elsByFill[type].add(nodes)\n    } else {\n      this.elsByFill[type] = $(nodes)\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/renderers/FillRenderer.ts","import SingleEventDef from '../../models/event/SingleEventDef'\nimport EventFootprint from '../../models/event/EventFootprint'\nimport EventSource from '../../models/event-source/EventSource'\n\n\nexport default class HelperRenderer {\n\n  view: any\n  component: any\n  eventRenderer: any\n  helperEls: any\n\n\n  constructor(component, eventRenderer) {\n    this.view = component._getView()\n    this.component = component\n    this.eventRenderer = eventRenderer\n  }\n\n\n  renderComponentFootprint(componentFootprint) {\n    this.renderEventFootprints([\n      this.fabricateEventFootprint(componentFootprint)\n    ])\n  }\n\n\n  renderEventDraggingFootprints(eventFootprints, sourceSeg, isTouch) {\n    this.renderEventFootprints(\n      eventFootprints,\n      sourceSeg,\n      'fc-dragging',\n      isTouch ? null : this.view.opt('dragOpacity')\n    )\n  }\n\n\n  renderEventResizingFootprints(eventFootprints, sourceSeg, isTouch) {\n    this.renderEventFootprints(\n      eventFootprints,\n      sourceSeg,\n      'fc-resizing'\n    )\n  }\n\n\n  renderEventFootprints(eventFootprints, sourceSeg?, extraClassNames?, opacity?) {\n    let segs = this.component.eventFootprintsToSegs(eventFootprints)\n    let classNames = 'fc-helper ' + (extraClassNames || '')\n    let i\n\n    // assigns each seg's el and returns a subset of segs that were rendered\n    segs = this.eventRenderer.renderFgSegEls(segs)\n\n    for (i = 0; i < segs.length; i++) {\n      segs[i].el.addClass(classNames)\n    }\n\n    if (opacity != null) {\n      for (i = 0; i < segs.length; i++) {\n        segs[i].el.css('opacity', opacity)\n      }\n    }\n\n    this.helperEls = this.renderSegs(segs, sourceSeg)\n  }\n\n\n  /*\n  Must return all mock event elements\n  */\n  renderSegs(segs, sourceSeg?) {\n    // Subclasses must implement\n  }\n\n\n  unrender() {\n    if (this.helperEls) {\n      this.helperEls.remove()\n      this.helperEls = null\n    }\n  }\n\n\n  fabricateEventFootprint(componentFootprint) {\n    let calendar = this.view.calendar\n    let eventDateProfile = calendar.footprintToDateProfile(componentFootprint)\n    let dummyEvent = new SingleEventDef(new EventSource(calendar))\n    let dummyInstance\n\n    dummyEvent.dateProfile = eventDateProfile\n    dummyInstance = dummyEvent.buildInstance()\n\n    return new EventFootprint(componentFootprint, dummyEvent, dummyInstance)\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/renderers/HelperRenderer.ts","import GlobalEmitter from '../../common/GlobalEmitter'\nimport Interaction from './Interaction'\n\n\nexport default class EventPointing extends Interaction {\n\n  mousedOverSeg: any // the segment object the user's mouse is over. null if over nothing\n\n\n  /*\n  component must implement:\n    - publiclyTrigger\n  */\n\n\n  bindToEl(el) {\n    let component = this.component\n\n    component.bindSegHandlerToEl(el, 'click', this.handleClick.bind(this))\n    component.bindSegHandlerToEl(el, 'mouseenter', this.handleMouseover.bind(this))\n    component.bindSegHandlerToEl(el, 'mouseleave', this.handleMouseout.bind(this))\n  }\n\n\n  handleClick(seg, ev) {\n    let res = this.component.publiclyTrigger('eventClick', { // can return `false` to cancel\n      context: seg.el[0],\n      args: [ seg.footprint.getEventLegacy(), ev, this.view ]\n    })\n    if (res === false) {\n      ev.preventDefault()\n    }\n  }\n\n\n  // Updates internal state and triggers handlers for when an event element is moused over\n  handleMouseover(seg, ev) {\n    if (\n      !GlobalEmitter.get().shouldIgnoreMouse() &&\n      !this.mousedOverSeg\n    ) {\n      this.mousedOverSeg = seg\n\n      // TODO: move to EventSelecting's responsibility\n      if (this.view.isEventDefResizable(seg.footprint.eventDef)) {\n        seg.el.addClass('fc-allow-mouse-resize')\n      }\n\n      this.component.publiclyTrigger('eventMouseover', {\n        context: seg.el[0],\n        args: [ seg.footprint.getEventLegacy(), ev, this.view ]\n      })\n    }\n  }\n\n\n  // Updates internal state and triggers handlers for when an event element is moused out.\n  // Can be given no arguments, in which case it will mouseout the segment that was previously moused over.\n  handleMouseout(seg, ev?) {\n    if (this.mousedOverSeg) {\n      this.mousedOverSeg = null\n\n      // TODO: move to EventSelecting's responsibility\n      if (this.view.isEventDefResizable(seg.footprint.eventDef)) {\n        seg.el.removeClass('fc-allow-mouse-resize')\n      }\n\n      this.component.publiclyTrigger('eventMouseout', {\n        context: seg.el[0],\n        args: [\n          seg.footprint.getEventLegacy(),\n          ev || {}, // if given no arg, make a mock mouse event\n          this.view\n        ]\n      })\n    }\n  }\n\n\n  end() {\n    if (this.mousedOverSeg) {\n      this.handleMouseout(this.mousedOverSeg)\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/interactions/EventPointing.ts","import Mixin from '../../common/Mixin'\nimport DateClicking from './DateClicking'\nimport DateSelecting from './DateSelecting'\nimport EventPointing from './EventPointing'\nimport EventDragging from './EventDragging'\nimport EventResizing from './EventResizing'\nimport ExternalDropping from './ExternalDropping'\n\nexport default class StandardInteractionsMixin extends Mixin {\n}\n\n(StandardInteractionsMixin as any).prototype.dateClickingClass = DateClicking;\n(StandardInteractionsMixin as any).prototype.dateSelectingClass = DateSelecting;\n(StandardInteractionsMixin as any).prototype.eventPointingClass = EventPointing;\n(StandardInteractionsMixin as any).prototype.eventDraggingClass = EventDragging;\n(StandardInteractionsMixin as any).prototype.eventResizingClass = EventResizing;\n(StandardInteractionsMixin as any).prototype.externalDroppingClass = ExternalDropping\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/interactions/StandardInteractionsMixin.ts","import * as $ from 'jquery'\nimport { htmlEscape } from '../util'\nimport CoordCache from '../common/CoordCache'\nimport Popover from '../common/Popover'\nimport UnzonedRange from '../models/UnzonedRange'\nimport ComponentFootprint from '../models/ComponentFootprint'\nimport EventFootprint from '../models/event/EventFootprint'\nimport BusinessHourRenderer from '../component/renderers/BusinessHourRenderer'\nimport StandardInteractionsMixin from '../component/interactions/StandardInteractionsMixin'\nimport InteractiveDateComponent from '../component/InteractiveDateComponent'\nimport { default as DayTableMixin, DayTableInterface } from '../component/DayTableMixin'\nimport DayGridEventRenderer from './DayGridEventRenderer'\nimport DayGridHelperRenderer from './DayGridHelperRenderer'\nimport DayGridFillRenderer from './DayGridFillRenderer'\n\n\n/* A component that renders a grid of whole-days that runs horizontally. There can be multiple rows, one per week.\n----------------------------------------------------------------------------------------------------------------------*/\n\nexport default class DayGrid extends InteractiveDateComponent {\n\n  rowCnt: DayTableInterface['rowCnt']\n  colCnt: DayTableInterface['colCnt']\n  daysPerRow: DayTableInterface['daysPerRow']\n  sliceRangeByRow: DayTableInterface['sliceRangeByRow']\n  updateDayTable: DayTableInterface['updateDayTable']\n  renderHeadHtml: DayTableInterface['renderHeadHtml']\n  getCellDate: DayTableInterface['getCellDate']\n  renderBgTrHtml: DayTableInterface['renderBgTrHtml']\n  renderIntroHtml: DayTableInterface['renderIntroHtml']\n  getCellRange: DayTableInterface['getCellRange']\n  sliceRangeByDay: DayTableInterface['sliceRangeByDay']\n\n  view: any // TODO: make more general and/or remove\n  helperRenderer: any\n\n  cellWeekNumbersVisible: boolean = false // display week numbers in day cell?\n\n  bottomCoordPadding: number = 0 // hack for extending the hit area for the last row of the coordinate grid\n\n  headContainerEl: any // div that hold's the date header\n  rowEls: any // set of fake row elements\n  cellEls: any // set of whole-day elements comprising the row's background\n\n  rowCoordCache: any\n  colCoordCache: any\n\n  // isRigid determines whether the individual rows should ignore the contents and be a constant height.\n  // Relies on the view's colCnt and rowCnt. In the future, this component should probably be self-sufficient.\n  isRigid: boolean = false\n\n  hasAllDayBusinessHours: boolean = true\n\n  segPopover: any // the Popover that holds events that can't fit in a cell. null when not visible\n  popoverSegs: any // an array of segment objects that the segPopover holds. null when not visible\n\n\n  constructor(view) { // view is required, unlike superclass\n    super(view)\n  }\n\n\n  // Slices up the given span (unzoned start/end with other misc data) into an array of segments\n  componentFootprintToSegs(componentFootprint) {\n    let segs = this.sliceRangeByRow(componentFootprint.unzonedRange)\n    let i\n    let seg\n\n    for (i = 0; i < segs.length; i++) {\n      seg = segs[i]\n\n      if (this.isRTL) {\n        seg.leftCol = this.daysPerRow - 1 - seg.lastRowDayIndex\n        seg.rightCol = this.daysPerRow - 1 - seg.firstRowDayIndex\n      } else {\n        seg.leftCol = seg.firstRowDayIndex\n        seg.rightCol = seg.lastRowDayIndex\n      }\n    }\n\n    return segs\n  }\n\n\n  /* Date Rendering\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  renderDates(dateProfile) {\n    this.dateProfile = dateProfile\n    this.updateDayTable()\n    this.renderGrid()\n  }\n\n\n  unrenderDates() {\n    this.removeSegPopover()\n  }\n\n\n  // Renders the rows and columns into the component's `this.el`, which should already be assigned.\n  renderGrid() {\n    let view = this.view\n    let rowCnt = this.rowCnt\n    let colCnt = this.colCnt\n    let html = ''\n    let row\n    let col\n\n    if (this.headContainerEl) {\n      this.headContainerEl.html(this.renderHeadHtml())\n    }\n\n    for (row = 0; row < rowCnt; row++) {\n      html += this.renderDayRowHtml(row, this.isRigid)\n    }\n    this.el.html(html)\n\n    this.rowEls = this.el.find('.fc-row')\n    this.cellEls = this.el.find('.fc-day, .fc-disabled-day')\n\n    this.rowCoordCache = new CoordCache({\n      els: this.rowEls,\n      isVertical: true\n    })\n    this.colCoordCache = new CoordCache({\n      els: this.cellEls.slice(0, this.colCnt), // only the first row\n      isHorizontal: true\n    })\n\n    // trigger dayRender with each cell's element\n    for (row = 0; row < rowCnt; row++) {\n      for (col = 0; col < colCnt; col++) {\n        this.publiclyTrigger('dayRender', {\n          context: view,\n          args: [\n            this.getCellDate(row, col),\n            this.getCellEl(row, col),\n            view\n          ]\n        })\n      }\n    }\n  }\n\n\n  // Generates the HTML for a single row, which is a div that wraps a table.\n  // `row` is the row number.\n  renderDayRowHtml(row, isRigid) {\n    let theme = this.view.calendar.theme\n    let classes = [ 'fc-row', 'fc-week', theme.getClass('dayRow') ]\n\n    if (isRigid) {\n      classes.push('fc-rigid')\n    }\n\n    return '' +\n      '<div class=\"' + classes.join(' ') + '\">' +\n        '<div class=\"fc-bg\">' +\n          '<table align=\"center\" class=\"' + theme.getClass('tableGrid') + '\">' +\n            this.renderBgTrHtml(row) +\n          '</table>' +\n        '</div>' +\n        '<div class=\"fc-content-skeleton\">' +\n          '<table>' +\n            (this.getIsNumbersVisible() ?\n              '<thead>' +\n                this.renderNumberTrHtml(row) +\n              '</thead>' :\n              ''\n              ) +\n          '</table>' +\n        '</div>' +\n      '</div>'\n  }\n\n\n  getIsNumbersVisible() {\n    return this.getIsDayNumbersVisible() || this.cellWeekNumbersVisible\n  }\n\n\n  getIsDayNumbersVisible() {\n    return this.rowCnt > 1\n  }\n\n\n  /* Grid Number Rendering\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  renderNumberTrHtml(row) {\n    return '' +\n      '<tr>' +\n        (this.isRTL ? '' : this.renderNumberIntroHtml(row)) +\n        this.renderNumberCellsHtml(row) +\n        (this.isRTL ? this.renderNumberIntroHtml(row) : '') +\n      '</tr>'\n  }\n\n\n  renderNumberIntroHtml(row) {\n    return this.renderIntroHtml()\n  }\n\n\n  renderNumberCellsHtml(row) {\n    let htmls = []\n    let col\n    let date\n\n    for (col = 0; col < this.colCnt; col++) {\n      date = this.getCellDate(row, col)\n      htmls.push(this.renderNumberCellHtml(date))\n    }\n\n    return htmls.join('')\n  }\n\n\n  // Generates the HTML for the <td>s of the \"number\" row in the DayGrid's content skeleton.\n  // The number row will only exist if either day numbers or week numbers are turned on.\n  renderNumberCellHtml(date) {\n    let view = this.view\n    let html = ''\n    let isDateValid = this.dateProfile.activeUnzonedRange.containsDate(date) // TODO: called too frequently. cache somehow.\n    let isDayNumberVisible = this.getIsDayNumbersVisible() && isDateValid\n    let classes\n    let weekCalcFirstDoW\n\n    if (!isDayNumberVisible && !this.cellWeekNumbersVisible) {\n      // no numbers in day cell (week number must be along the side)\n      return '<td/>' //  will create an empty space above events :(\n    }\n\n    classes = this.getDayClasses(date)\n    classes.unshift('fc-day-top')\n\n    if (this.cellWeekNumbersVisible) {\n      // To determine the day of week number change under ISO, we cannot\n      // rely on moment.js methods such as firstDayOfWeek() or weekday(),\n      // because they rely on the locale's dow (possibly overridden by\n      // our firstDay option), which may not be Monday. We cannot change\n      // dow, because that would affect the calendar start day as well.\n      if (date._locale._fullCalendar_weekCalc === 'ISO') {\n        weekCalcFirstDoW = 1  // Monday by ISO 8601 definition\n      } else {\n        weekCalcFirstDoW = date._locale.firstDayOfWeek()\n      }\n    }\n\n    html += '<td class=\"' + classes.join(' ') + '\"' +\n      (isDateValid ?\n        ' data-date=\"' + date.format() + '\"' :\n        ''\n        ) +\n      '>'\n\n    if (this.cellWeekNumbersVisible && (date.day() === weekCalcFirstDoW)) {\n      html += view.buildGotoAnchorHtml(\n        { date: date, type: 'week' },\n        { 'class': 'fc-week-number' },\n        date.format('w') // inner HTML\n      )\n    }\n\n    if (isDayNumberVisible) {\n      html += view.buildGotoAnchorHtml(\n        date,\n        { 'class': 'fc-day-number' },\n        date.format('D') // inner HTML\n      )\n    }\n\n    html += '</td>'\n\n\n    return html\n  }\n\n\n  /* Hit System\n  ------------------------------------------------------------------------------------------------------------------*/\n\n  prepareHits() {\n    this.colCoordCache.build()\n    this.rowCoordCache.build()\n    this.rowCoordCache.bottoms[this.rowCnt - 1] += this.bottomCoordPadding // hack\n  }\n\n\n  releaseHits() {\n    this.colCoordCache.clear()\n    this.rowCoordCache.clear()\n  }\n\n\n  queryHit(leftOffset, topOffset) {\n    if (this.colCoordCache.isLeftInBounds(leftOffset) && this.rowCoordCache.isTopInBounds(topOffset)) {\n      let col = this.colCoordCache.getHorizontalIndex(leftOffset)\n      let row = this.rowCoordCache.getVerticalIndex(topOffset)\n\n      if (row != null && col != null) {\n        return this.getCellHit(row, col)\n      }\n    }\n  }\n\n\n  getHitFootprint(hit) {\n    let range = this.getCellRange(hit.row, hit.col)\n\n    return new ComponentFootprint(\n      new UnzonedRange(range.start, range.end),\n      true // all-day?\n    )\n  }\n\n\n  getHitEl(hit) {\n    return this.getCellEl(hit.row, hit.col)\n  }\n\n\n  /* Cell System\n  ------------------------------------------------------------------------------------------------------------------*/\n  // FYI: the first column is the leftmost column, regardless of date\n\n\n  getCellHit(row, col): any {\n    return {\n      row: row,\n      col: col,\n      component: this, // needed unfortunately :(\n      left: this.colCoordCache.getLeftOffset(col),\n      right: this.colCoordCache.getRightOffset(col),\n      top: this.rowCoordCache.getTopOffset(row),\n      bottom: this.rowCoordCache.getBottomOffset(row)\n    }\n  }\n\n\n  getCellEl(row, col) {\n    return this.cellEls.eq(row * this.colCnt + col)\n  }\n\n\n  /* Event Rendering\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  // Unrenders all events currently rendered on the grid\n  executeEventUnrender() {\n    this.removeSegPopover() // removes the \"more..\" events popover\n    super.executeEventUnrender()\n  }\n\n\n  // Retrieves all rendered segment objects currently rendered on the grid\n  getOwnEventSegs() {\n    // append the segments from the \"more...\" popover\n    return super.getOwnEventSegs().concat(this.popoverSegs || [])\n  }\n\n\n  /* Event Drag Visualization\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  // Renders a visual indication of an event or external element being dragged.\n  // `eventLocation` has zoned start and end (optional)\n  renderDrag(eventFootprints, seg, isTouch) {\n    let i\n\n    for (i = 0; i < eventFootprints.length; i++) {\n      this.renderHighlight(eventFootprints[i].componentFootprint)\n    }\n\n    // render drags from OTHER components as helpers\n    if (eventFootprints.length && seg && seg.component !== this) {\n      this.helperRenderer.renderEventDraggingFootprints(eventFootprints, seg, isTouch)\n\n      return true // signal helpers rendered\n    }\n  }\n\n\n  // Unrenders any visual indication of a hovering event\n  unrenderDrag() {\n    this.unrenderHighlight()\n    this.helperRenderer.unrender()\n  }\n\n\n  /* Event Resize Visualization\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  // Renders a visual indication of an event being resized\n  renderEventResize(eventFootprints, seg, isTouch) {\n    let i\n\n    for (i = 0; i < eventFootprints.length; i++) {\n      this.renderHighlight(eventFootprints[i].componentFootprint)\n    }\n\n    this.helperRenderer.renderEventResizingFootprints(eventFootprints, seg, isTouch)\n  }\n\n\n  // Unrenders a visual indication of an event being resized\n  unrenderEventResize() {\n    this.unrenderHighlight()\n    this.helperRenderer.unrender()\n  }\n\n\n  /* More+ Link Popover\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  removeSegPopover() {\n    if (this.segPopover) {\n      this.segPopover.hide() // in handler, will call segPopover's removeElement\n    }\n  }\n\n\n  // Limits the number of \"levels\" (vertically stacking layers of events) for each row of the grid.\n  // `levelLimit` can be false (don't limit), a number, or true (should be computed).\n  limitRows(levelLimit) {\n    let rowStructs = this.eventRenderer.rowStructs || []\n    let row // row #\n    let rowLevelLimit\n\n    for (row = 0; row < rowStructs.length; row++) {\n      this.unlimitRow(row)\n\n      if (!levelLimit) {\n        rowLevelLimit = false\n      } else if (typeof levelLimit === 'number') {\n        rowLevelLimit = levelLimit\n      } else {\n        rowLevelLimit = this.computeRowLevelLimit(row)\n      }\n\n      if (rowLevelLimit !== false) {\n        this.limitRow(row, rowLevelLimit)\n      }\n    }\n  }\n\n\n  // Computes the number of levels a row will accomodate without going outside its bounds.\n  // Assumes the row is \"rigid\" (maintains a constant height regardless of what is inside).\n  // `row` is the row number.\n  computeRowLevelLimit(row): (number | false) {\n    let rowEl = this.rowEls.eq(row) // the containing \"fake\" row div\n    let rowHeight = rowEl.height() // TODO: cache somehow?\n    let trEls = this.eventRenderer.rowStructs[row].tbodyEl.children()\n    let i\n    let trEl\n    let trHeight\n\n    function iterInnerHeights(i, childNode) {\n      trHeight = Math.max(trHeight, $(childNode).outerHeight())\n    }\n\n    // Reveal one level <tr> at a time and stop when we find one out of bounds\n    for (i = 0; i < trEls.length; i++) {\n      trEl = trEls.eq(i).removeClass('fc-limited') // reset to original state (reveal)\n\n      // with rowspans>1 and IE8, trEl.outerHeight() would return the height of the largest cell,\n      // so instead, find the tallest inner content element.\n      trHeight = 0\n      trEl.find('> td > :first-child').each(iterInnerHeights)\n\n      if (trEl.position().top + trHeight > rowHeight) {\n        return i\n      }\n    }\n\n    return false // should not limit at all\n  }\n\n\n  // Limits the given grid row to the maximum number of levels and injects \"more\" links if necessary.\n  // `row` is the row number.\n  // `levelLimit` is a number for the maximum (inclusive) number of levels allowed.\n  limitRow(row, levelLimit) {\n    let rowStruct = this.eventRenderer.rowStructs[row]\n    let moreNodes = [] // array of \"more\" <a> links and <td> DOM nodes\n    let col = 0 // col #, left-to-right (not chronologically)\n    let levelSegs // array of segment objects in the last allowable level, ordered left-to-right\n    let cellMatrix // a matrix (by level, then column) of all <td> jQuery elements in the row\n    let limitedNodes // array of temporarily hidden level <tr> and segment <td> DOM nodes\n    let i\n    let seg\n    let segsBelow // array of segment objects below `seg` in the current `col`\n    let totalSegsBelow // total number of segments below `seg` in any of the columns `seg` occupies\n    let colSegsBelow // array of segment arrays, below seg, one for each column (offset from segs's first column)\n    let td\n    let rowspan\n    let segMoreNodes // array of \"more\" <td> cells that will stand-in for the current seg's cell\n    let j\n    let moreTd\n    let moreWrap\n    let moreLink\n\n    // Iterates through empty level cells and places \"more\" links inside if need be\n    let emptyCellsUntil = (endCol) => { // goes from current `col` to `endCol`\n      while (col < endCol) {\n        segsBelow = this.getCellSegs(row, col, levelLimit)\n        if (segsBelow.length) {\n          td = cellMatrix[levelLimit - 1][col]\n          moreLink = this.renderMoreLink(row, col, segsBelow)\n          moreWrap = $('<div/>').append(moreLink)\n          td.append(moreWrap)\n          moreNodes.push(moreWrap[0])\n        }\n        col++\n      }\n    }\n\n    if (levelLimit && levelLimit < rowStruct.segLevels.length) { // is it actually over the limit?\n      levelSegs = rowStruct.segLevels[levelLimit - 1]\n      cellMatrix = rowStruct.cellMatrix\n\n      limitedNodes = rowStruct.tbodyEl.children().slice(levelLimit) // get level <tr> elements past the limit\n        .addClass('fc-limited').get() // hide elements and get a simple DOM-nodes array\n\n      // iterate though segments in the last allowable level\n      for (i = 0; i < levelSegs.length; i++) {\n        seg = levelSegs[i]\n        emptyCellsUntil(seg.leftCol) // process empty cells before the segment\n\n        // determine *all* segments below `seg` that occupy the same columns\n        colSegsBelow = []\n        totalSegsBelow = 0\n        while (col <= seg.rightCol) {\n          segsBelow = this.getCellSegs(row, col, levelLimit)\n          colSegsBelow.push(segsBelow)\n          totalSegsBelow += segsBelow.length\n          col++\n        }\n\n        if (totalSegsBelow) { // do we need to replace this segment with one or many \"more\" links?\n          td = cellMatrix[levelLimit - 1][seg.leftCol] // the segment's parent cell\n          rowspan = td.attr('rowspan') || 1\n          segMoreNodes = []\n\n          // make a replacement <td> for each column the segment occupies. will be one for each colspan\n          for (j = 0; j < colSegsBelow.length; j++) {\n            moreTd = $('<td class=\"fc-more-cell\"/>').attr('rowspan', rowspan)\n            segsBelow = colSegsBelow[j]\n            moreLink = this.renderMoreLink(\n              row,\n              seg.leftCol + j,\n              [ seg ].concat(segsBelow) // count seg as hidden too\n            )\n            moreWrap = $('<div/>').append(moreLink)\n            moreTd.append(moreWrap)\n            segMoreNodes.push(moreTd[0])\n            moreNodes.push(moreTd[0])\n          }\n\n          td.addClass('fc-limited').after($(segMoreNodes)) // hide original <td> and inject replacements\n          limitedNodes.push(td[0])\n        }\n      }\n\n      emptyCellsUntil(this.colCnt) // finish off the level\n      rowStruct.moreEls = $(moreNodes) // for easy undoing later\n      rowStruct.limitedEls = $(limitedNodes) // for easy undoing later\n    }\n  }\n\n\n  // Reveals all levels and removes all \"more\"-related elements for a grid's row.\n  // `row` is a row number.\n  unlimitRow(row) {\n    let rowStruct = this.eventRenderer.rowStructs[row]\n\n    if (rowStruct.moreEls) {\n      rowStruct.moreEls.remove()\n      rowStruct.moreEls = null\n    }\n\n    if (rowStruct.limitedEls) {\n      rowStruct.limitedEls.removeClass('fc-limited')\n      rowStruct.limitedEls = null\n    }\n  }\n\n\n  // Renders an <a> element that represents hidden event element for a cell.\n  // Responsible for attaching click handler as well.\n  renderMoreLink(row, col, hiddenSegs) {\n    let view = this.view\n\n    return $('<a class=\"fc-more\"/>')\n      .text(\n        this.getMoreLinkText(hiddenSegs.length)\n      )\n      .on('click', (ev) => {\n        let clickOption = this.opt('eventLimitClick')\n        let date = this.getCellDate(row, col)\n        let moreEl = $(ev.currentTarget)\n        let dayEl = this.getCellEl(row, col)\n        let allSegs = this.getCellSegs(row, col)\n\n        // rescope the segments to be within the cell's date\n        let reslicedAllSegs = this.resliceDaySegs(allSegs, date)\n        let reslicedHiddenSegs = this.resliceDaySegs(hiddenSegs, date)\n\n        if (typeof clickOption === 'function') {\n          // the returned value can be an atomic option\n          clickOption = this.publiclyTrigger('eventLimitClick', {\n            context: view,\n            args: [\n              {\n                date: date.clone(),\n                dayEl: dayEl,\n                moreEl: moreEl,\n                segs: reslicedAllSegs,\n                hiddenSegs: reslicedHiddenSegs\n              },\n              ev,\n              view\n            ]\n          })\n        }\n\n        if (clickOption === 'popover') {\n          this.showSegPopover(row, col, moreEl, reslicedAllSegs)\n        } else if (typeof clickOption === 'string') { // a view name\n          view.calendar.zoomTo(date, clickOption)\n        }\n      })\n  }\n\n\n  // Reveals the popover that displays all events within a cell\n  showSegPopover(row, col, moreLink, segs) {\n    let view = this.view\n    let moreWrap = moreLink.parent() // the <div> wrapper around the <a>\n    let topEl // the element we want to match the top coordinate of\n    let options\n\n    if (this.rowCnt === 1) {\n      topEl = view.el // will cause the popover to cover any sort of header\n    } else {\n      topEl = this.rowEls.eq(row) // will align with top of row\n    }\n\n    options = {\n      className: 'fc-more-popover ' + view.calendar.theme.getClass('popover'),\n      content: this.renderSegPopoverContent(row, col, segs),\n      parentEl: view.el, // attach to root of view. guarantees outside of scrollbars.\n      top: topEl.offset().top,\n      autoHide: true, // when the user clicks elsewhere, hide the popover\n      viewportConstrain: this.opt('popoverViewportConstrain'),\n      hide: () => {\n        // kill everything when the popover is hidden\n        // notify events to be removed\n        if (this.popoverSegs) {\n          this.triggerBeforeEventSegsDestroyed(this.popoverSegs)\n        }\n        this.segPopover.removeElement()\n        this.segPopover = null\n        this.popoverSegs = null\n      }\n    }\n\n    // Determine horizontal coordinate.\n    // We use the moreWrap instead of the <td> to avoid border confusion.\n    if (this.isRTL) {\n      options.right = moreWrap.offset().left + moreWrap.outerWidth() + 1 // +1 to be over cell border\n    } else {\n      options.left = moreWrap.offset().left - 1 // -1 to be over cell border\n    }\n\n    this.segPopover = new Popover(options)\n    this.segPopover.show()\n\n    // the popover doesn't live within the grid's container element, and thus won't get the event\n    // delegated-handlers for free. attach event-related handlers to the popover.\n    this.bindAllSegHandlersToEl(this.segPopover.el)\n\n    this.triggerAfterEventSegsRendered(segs)\n  }\n\n\n  // Builds the inner DOM contents of the segment popover\n  renderSegPopoverContent(row, col, segs) {\n    let view = this.view\n    let theme = view.calendar.theme\n    let title = this.getCellDate(row, col).format(this.opt('dayPopoverFormat'))\n    let content = $(\n      '<div class=\"fc-header ' + theme.getClass('popoverHeader') + '\">' +\n        '<span class=\"fc-close ' + theme.getIconClass('close') + '\"></span>' +\n        '<span class=\"fc-title\">' +\n          htmlEscape(title) +\n        '</span>' +\n        '<div class=\"fc-clear\"/>' +\n      '</div>' +\n      '<div class=\"fc-body ' + theme.getClass('popoverContent') + '\">' +\n        '<div class=\"fc-event-container\"></div>' +\n      '</div>'\n    )\n    let segContainer = content.find('.fc-event-container')\n    let i\n\n    // render each seg's `el` and only return the visible segs\n    segs = this.eventRenderer.renderFgSegEls(segs, true) // disableResizing=true\n    this.popoverSegs = segs\n\n    for (i = 0; i < segs.length; i++) {\n\n      // because segments in the popover are not part of a grid coordinate system, provide a hint to any\n      // grids that want to do drag-n-drop about which cell it came from\n      this.hitsNeeded()\n      segs[i].hit = this.getCellHit(row, col)\n      this.hitsNotNeeded()\n\n      segContainer.append(segs[i].el)\n    }\n\n    return content\n  }\n\n\n  // Given the events within an array of segment objects, reslice them to be in a single day\n  resliceDaySegs(segs, dayDate) {\n    let dayStart = dayDate.clone()\n    let dayEnd = dayStart.clone().add(1, 'days')\n    let dayRange = new UnzonedRange(dayStart, dayEnd)\n    let newSegs = []\n    let i\n    let seg\n    let slicedRange\n\n    for (i = 0; i < segs.length; i++) {\n      seg = segs[i]\n      slicedRange = seg.footprint.componentFootprint.unzonedRange.intersect(dayRange)\n\n      if (slicedRange) {\n        newSegs.push(\n          $.extend({}, seg, {\n            footprint: new EventFootprint(\n              new ComponentFootprint(\n                slicedRange,\n                seg.footprint.componentFootprint.isAllDay\n              ),\n              seg.footprint.eventDef,\n              seg.footprint.eventInstance\n            ),\n            isStart: seg.isStart && slicedRange.isStart,\n            isEnd: seg.isEnd && slicedRange.isEnd\n          })\n        )\n      }\n    }\n\n    // force an order because eventsToSegs doesn't guarantee one\n    // TODO: research if still needed\n    this.eventRenderer.sortEventSegs(newSegs)\n\n    return newSegs\n  }\n\n\n  // Generates the text that should be inside a \"more\" link, given the number of events it represents\n  getMoreLinkText(num) {\n    let opt = this.opt('eventLimitText')\n\n    if (typeof opt === 'function') {\n      return opt(num)\n    } else {\n      return '+' + num + ' ' + opt\n    }\n  }\n\n\n  // Returns segments within a given cell.\n  // If `startLevel` is specified, returns only events including and below that level. Otherwise returns all segs.\n  getCellSegs(row, col, startLevel?) {\n    let segMatrix = this.eventRenderer.rowStructs[row].segMatrix\n    let level = startLevel || 0\n    let segs = []\n    let seg\n\n    while (level < segMatrix.length) {\n      seg = segMatrix[level][col]\n      if (seg) {\n        segs.push(seg)\n      }\n      level++\n    }\n\n    return segs\n  }\n\n}\n\nDayGrid.prototype.eventRendererClass = DayGridEventRenderer\nDayGrid.prototype.businessHourRendererClass = BusinessHourRenderer\nDayGrid.prototype.helperRendererClass = DayGridHelperRenderer\nDayGrid.prototype.fillRendererClass = DayGridFillRenderer\n\nStandardInteractionsMixin.mixInto(DayGrid)\nDayTableMixin.mixInto(DayGrid)\n\n\n\n// WEBPACK FOOTER //\n// ./src/basic/DayGrid.ts","import * as $ from 'jquery'\nimport {\n  matchCellWidths,\n  uncompensateScroll,\n  compensateScroll,\n  subtractInnerElHeight,\n  distributeHeight,\n  undistributeHeight,\n  htmlEscape\n} from '../util'\nimport Scroller from '../common/Scroller'\nimport View from '../View'\nimport BasicViewDateProfileGenerator from './BasicViewDateProfileGenerator'\nimport DayGrid from './DayGrid'\n\n\n/* An abstract class for the \"basic\" views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a DayGrid subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\n\nexport default class BasicView extends View {\n\n  // initialized after class\n  dateProfileGeneratorClass: any\n  dayGridClass: any // class the dayGrid will be instantiated from (overridable by subclasses)\n\n  scroller: any\n  dayGrid: any // the main subcomponent that does most of the heavy lifting\n\n  weekNumberWidth: any // width of all the week-number cells running down the side\n\n\n  constructor(calendar, viewSpec) {\n    super(calendar, viewSpec)\n\n    this.dayGrid = this.instantiateDayGrid()\n    this.dayGrid.isRigid = this.hasRigidRows()\n\n    if (this.opt('weekNumbers')) {\n      if (this.opt('weekNumbersWithinDays')) {\n        this.dayGrid.cellWeekNumbersVisible = true\n        this.dayGrid.colWeekNumbersVisible = false\n      } else {\n        this.dayGrid.cellWeekNumbersVisible = false\n        this.dayGrid.colWeekNumbersVisible = true\n      }\n    }\n\n    this.addChild(this.dayGrid)\n\n    this.scroller = new Scroller({\n      overflowX: 'hidden',\n      overflowY: 'auto'\n    })\n  }\n\n\n  // Generates the DayGrid object this view needs. Draws from this.dayGridClass\n  instantiateDayGrid() {\n    // generate a subclass on the fly with BasicView-specific behavior\n    // TODO: cache this subclass\n    let subclass: any = makeDayGridSubclass(this.dayGridClass)\n\n    return new subclass(this)\n  }\n\n\n  executeDateRender(dateProfile) {\n    this.dayGrid.breakOnWeeks = /year|month|week/.test(dateProfile.currentRangeUnit)\n\n    super.executeDateRender(dateProfile)\n  }\n\n\n  renderSkeleton() {\n    // let isMobile = /Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(navigator.userAgent);\n    // if (isMobile) {\n    //   console.log('test')\n    // } else {\n    // }\n    let dayGridContainerEl\n    let dayGridEl\n    this.el.addClass('fc-basic-view').html(this.renderSkeletonHtml())\n    this.scroller.render()\n\n    dayGridContainerEl = this.scroller.el.addClass('fc-day-grid-container')\n    dayGridEl = $('<div class=\"fc-day-grid\" />').appendTo(dayGridContainerEl)\n    this.el.find('.fc-body > tr > td').append(dayGridContainerEl)\n    this.dayGrid.headContainerEl = this.el.find('.fc-head-container')\n    this.dayGrid.setElement(dayGridEl)\n  }\n\n\n  unrenderSkeleton() {\n    this.dayGrid.removeElement()\n    this.scroller.destroy()\n  }\n\n\n  // Builds the HTML skeleton for the view.\n  // The day-grid component will render inside of a container defined by this HTML.\n  renderSkeletonHtml() {\n    let theme = this.calendar.theme\n\n    return '' +\n      '<table class=\"' + theme.getClass('tableGrid') + '\">' +\n        (this.opt('columnHeader') ?\n          '<thead class=\"fc-head\">' +\n            '<tr>' +\n              '<td class=\"fc-head-container ' + theme.getClass('widgetHeader') + '\">&nbsp;</td>' +\n            '</tr>' +\n          '</thead>' :\n          ''\n          ) +\n        '<tbody class=\"fc-body\">' +\n          '<tr>' +\n            '<td class=\"' + theme.getClass('widgetContent') + '\"></td>' +\n          '</tr>' +\n        '</tbody>' +\n      '</table>'\n  }\n\n\n  // Generates an HTML attribute string for setting the width of the week number column, if it is known\n  weekNumberStyleAttr() {\n    if (this.weekNumberWidth != null) {\n      return 'style=\"width:' + this.weekNumberWidth + 'px\"'\n    }\n    return ''\n  }\n\n\n  // Determines whether each row should have a constant height\n  hasRigidRows() {\n    let eventLimit = this.opt('eventLimit')\n\n    return eventLimit && typeof eventLimit !== 'number'\n  }\n\n\n  /* Dimensions\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  // Refreshes the horizontal dimensions of the view\n  updateSize(totalHeight, isAuto, isResize) {\n    let eventLimit = this.opt('eventLimit')\n    let headRowEl = this.dayGrid.headContainerEl.find('.fc-row')\n    let scrollerHeight\n    let scrollbarWidths\n\n    // hack to give the view some height prior to dayGrid's columns being rendered\n    // TODO: separate setting height from scroller VS dayGrid.\n    if (!this.dayGrid.rowEls) {\n      if (!isAuto) {\n        scrollerHeight = this.computeScrollerHeight(totalHeight)\n        this.scroller.setHeight(scrollerHeight)\n      }\n      return\n    }\n\n    super.updateSize(totalHeight, isAuto, isResize)\n\n    if (this.dayGrid.colWeekNumbersVisible) {\n      // Make sure all week number cells running down the side have the same width.\n      // Record the width for cells created later.\n      this.weekNumberWidth = matchCellWidths(\n        this.el.find('.fc-week-number')\n      )\n    }\n\n    // reset all heights to be natural\n    this.scroller.clear()\n    uncompensateScroll(headRowEl)\n\n    this.dayGrid.removeSegPopover() // kill the \"more\" popover if displayed\n\n    // is the event limit a constant level number?\n    if (eventLimit && typeof eventLimit === 'number') {\n      this.dayGrid.limitRows(eventLimit) // limit the levels first so the height can redistribute after\n    }\n\n    // distribute the height to the rows\n    // (totalHeight is a \"recommended\" value if isAuto)\n    scrollerHeight = this.computeScrollerHeight(totalHeight)\n    this.setGridHeight(scrollerHeight, isAuto)\n\n    // is the event limit dynamically calculated?\n    if (eventLimit && typeof eventLimit !== 'number') {\n      this.dayGrid.limitRows(eventLimit) // limit the levels after the grid's row heights have been set\n    }\n\n    if (!isAuto) { // should we force dimensions of the scroll container?\n\n      this.scroller.setHeight(scrollerHeight)\n      scrollbarWidths = this.scroller.getScrollbarWidths()\n\n      if (scrollbarWidths.left || scrollbarWidths.right) { // using scrollbars?\n\n        compensateScroll(headRowEl, scrollbarWidths)\n\n        // doing the scrollbar compensation might have created text overflow which created more height. redo\n        scrollerHeight = this.computeScrollerHeight(totalHeight)\n        this.scroller.setHeight(scrollerHeight)\n      }\n\n      // guarantees the same scrollbar widths\n      this.scroller.lockOverflow(scrollbarWidths)\n    }\n  }\n\n\n  // given a desired total height of the view, returns what the height of the scroller should be\n  computeScrollerHeight(totalHeight) {\n    return totalHeight -\n      subtractInnerElHeight(this.el, this.scroller.el) // everything that's NOT the scroller\n  }\n\n\n  // Sets the height of just the DayGrid component in this view\n  setGridHeight(height, isAuto) {\n    if (isAuto) {\n      undistributeHeight(this.dayGrid.rowEls) // let the rows be their natural height with no expanding\n    } else {\n      distributeHeight(this.dayGrid.rowEls, height, true) // true = compensate for height-hogging rows\n    }\n  }\n\n\n  /* Scroll\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  computeInitialDateScroll() {\n    return { top: 0 }\n  }\n\n\n  queryDateScroll() {\n    return { top: this.scroller.getScrollTop() }\n  }\n\n\n  applyDateScroll(scroll) {\n    if (scroll.top !== undefined) {\n      this.scroller.setScrollTop(scroll.top)\n    }\n  }\n\n}\n\n\nBasicView.prototype.dateProfileGeneratorClass = BasicViewDateProfileGenerator\nBasicView.prototype.dayGridClass = DayGrid\n\n\n// customize the rendering behavior of BasicView's dayGrid\nfunction makeDayGridSubclass(SuperClass) {\n\n  return class SubClass extends SuperClass {\n\n    colWeekNumbersVisible: boolean = false // display week numbers along the side?\n\n\n    // Generates the HTML that will go before the day-of week header cells\n    renderHeadIntroHtml() {\n      let view = this.view\n\n      if (this.colWeekNumbersVisible) {\n        return '' +\n          '<th class=\"fc-week-number ' + view.calendar.theme.getClass('widgetHeader') + '\" ' + view.weekNumberStyleAttr() + '>' +\n            '<span>' + // needed for matchCellWidths\n              htmlEscape(this.opt('weekNumberTitle')) +\n            '</span>' +\n          '</th>'\n      }\n\n      return ''\n    }\n\n\n    // Generates the HTML that will go before content-skeleton cells that display the day/week numbers\n    renderNumberIntroHtml(row) {\n      let view = this.view\n      let weekStart = this.getCellDate(row, 0)\n\n      if (this.colWeekNumbersVisible) {\n        return '' +\n          '<td class=\"fc-week-number\" ' + view.weekNumberStyleAttr() + '>' +\n            view.buildGotoAnchorHtml( // aside from link, important for matchCellWidths\n              { date: weekStart, type: 'week', forceOff: this.colCnt === 1 },\n              weekStart.format('w') // inner HTML\n            ) +\n          '</td>'\n      }\n\n      return ''\n    }\n\n\n    // Generates the HTML that goes before the day bg cells for each day-row\n    renderBgIntroHtml() {\n      let view = this.view\n\n      if (this.colWeekNumbersVisible) {\n        return '<td class=\"fc-week-number ' + view.calendar.theme.getClass('widgetContent') + '\" ' +\n          view.weekNumberStyleAttr() + '></td>'\n      }\n\n      return ''\n    }\n\n\n    // Generates the HTML that goes before every other type of row generated by DayGrid.\n    // Affects helper-skeleton and highlight-skeleton rows.\n    renderIntroHtml() {\n      let view = this.view\n\n      if (this.colWeekNumbersVisible) {\n        return '<td class=\"fc-week-number\" ' + view.weekNumberStyleAttr() + '></td>'\n      }\n\n      return ''\n    }\n\n\n    getIsNumbersVisible() {\n      return DayGrid.prototype.getIsNumbersVisible.apply(this, arguments) || this.colWeekNumbersVisible\n    }\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/basic/BasicView.ts","import UnzonedRange from './models/UnzonedRange'\nimport ComponentFootprint from './models/ComponentFootprint'\nimport EventFootprint from './models/event/EventFootprint'\nimport EventDefParser from './models/event/EventDefParser'\nimport EventSource from './models/event-source/EventSource'\nimport {\n  eventInstanceToEventRange,\n  eventFootprintToComponentFootprint,\n  eventRangeToEventFootprint\n} from './models/event/util'\n\n\nexport default class Constraints {\n\n  eventManager: any\n  _calendar: any // discourage\n\n\n  constructor(eventManager, _calendar) {\n    this.eventManager = eventManager\n    this._calendar = _calendar\n  }\n\n\n  opt(name) {\n    return this._calendar.opt(name)\n  }\n\n\n  /*\n  determines if eventInstanceGroup is allowed,\n  in relation to other EVENTS and business hours.\n  */\n  isEventInstanceGroupAllowed(eventInstanceGroup) {\n    let eventDef = eventInstanceGroup.getEventDef()\n    let eventFootprints = this.eventRangesToEventFootprints(eventInstanceGroup.getAllEventRanges())\n    let i\n\n    let peerEventInstances = this.getPeerEventInstances(eventDef)\n    let peerEventRanges = peerEventInstances.map(eventInstanceToEventRange)\n    let peerEventFootprints = this.eventRangesToEventFootprints(peerEventRanges)\n\n    let constraintVal = eventDef.getConstraint()\n    let overlapVal = eventDef.getOverlap()\n\n    let eventAllowFunc = this.opt('eventAllow')\n\n    for (i = 0; i < eventFootprints.length; i++) {\n      if (\n        !this.isFootprintAllowed(\n          eventFootprints[i].componentFootprint,\n          peerEventFootprints,\n          constraintVal,\n          overlapVal,\n          eventFootprints[i].eventInstance\n        )\n      ) {\n        return false\n      }\n    }\n\n    if (eventAllowFunc) {\n      for (i = 0; i < eventFootprints.length; i++) {\n        if (\n          eventAllowFunc(\n            eventFootprints[i].componentFootprint.toLegacy(this._calendar),\n            eventFootprints[i].getEventLegacy()\n          ) === false\n        ) {\n          return false\n        }\n      }\n    }\n\n    return true\n  }\n\n\n  getPeerEventInstances(eventDef) {\n    return this.eventManager.getEventInstancesWithoutId(eventDef.id)\n  }\n\n\n  isSelectionFootprintAllowed(componentFootprint) {\n    let peerEventInstances = this.eventManager.getEventInstances()\n    let peerEventRanges = peerEventInstances.map(eventInstanceToEventRange)\n    let peerEventFootprints = this.eventRangesToEventFootprints(peerEventRanges)\n\n    let selectAllowFunc\n\n    if (\n      this.isFootprintAllowed(\n        componentFootprint,\n        peerEventFootprints,\n        this.opt('selectConstraint'),\n        this.opt('selectOverlap')\n      )\n    ) {\n      selectAllowFunc = this.opt('selectAllow')\n\n      if (selectAllowFunc) {\n        return selectAllowFunc(componentFootprint.toLegacy(this._calendar)) !== false\n      } else {\n        return true\n      }\n    }\n\n    return false\n  }\n\n\n  isFootprintAllowed(\n    componentFootprint,\n    peerEventFootprints,\n    constraintVal,\n    overlapVal,\n    subjectEventInstance? // optional\n  ) {\n    let constraintFootprints // ComponentFootprint[]\n    let overlapEventFootprints // EventFootprint[]\n\n    if (constraintVal != null) {\n      constraintFootprints = this.constraintValToFootprints(constraintVal, componentFootprint.isAllDay)\n\n      if (!this.isFootprintWithinConstraints(componentFootprint, constraintFootprints)) {\n        return false\n      }\n    }\n\n    overlapEventFootprints = this.collectOverlapEventFootprints(peerEventFootprints, componentFootprint)\n\n    if (overlapVal === false) {\n      if (overlapEventFootprints.length) {\n        return false\n      }\n    } else if (typeof overlapVal === 'function') {\n      if (!isOverlapsAllowedByFunc(overlapEventFootprints, overlapVal, subjectEventInstance)) {\n        return false\n      }\n    }\n\n    if (subjectEventInstance) {\n      if (!isOverlapEventInstancesAllowed(overlapEventFootprints, subjectEventInstance)) {\n        return false\n      }\n    }\n\n    return true\n  }\n\n\n  // Constraint\n  // ------------------------------------------------------------------------------------------------\n\n\n  isFootprintWithinConstraints(componentFootprint, constraintFootprints) {\n    let i\n\n    for (i = 0; i < constraintFootprints.length; i++) {\n      if (this.footprintContainsFootprint(constraintFootprints[i], componentFootprint)) {\n        return true\n      }\n    }\n\n    return false\n  }\n\n\n  constraintValToFootprints(constraintVal, isAllDay) {\n    let eventInstances\n\n    if (constraintVal === 'businessHours') {\n      return this.buildCurrentBusinessFootprints(isAllDay)\n    } else if (typeof constraintVal === 'object') {\n      eventInstances = this.parseEventDefToInstances(constraintVal) // handles recurring events\n\n      if (!eventInstances) { // invalid input. fallback to parsing footprint directly\n        return this.parseFootprints(constraintVal)\n      } else {\n        return this.eventInstancesToFootprints(eventInstances)\n      }\n    } else if (constraintVal != null) { // an ID\n      eventInstances = this.eventManager.getEventInstancesWithId(constraintVal)\n\n      return this.eventInstancesToFootprints(eventInstances)\n    }\n  }\n\n\n  // returns ComponentFootprint[]\n  // uses current view's range\n  buildCurrentBusinessFootprints(isAllDay) {\n    let view = this._calendar.view\n    let businessHourGenerator = view.get('businessHourGenerator')\n    let unzonedRange = view.dateProfile.activeUnzonedRange\n    let eventInstanceGroup = businessHourGenerator.buildEventInstanceGroup(isAllDay, unzonedRange)\n\n    if (eventInstanceGroup) {\n      return this.eventInstancesToFootprints(eventInstanceGroup.eventInstances)\n    } else {\n      return []\n    }\n  }\n\n\n  // conversion util\n  eventInstancesToFootprints(eventInstances) {\n    let eventRanges = eventInstances.map(eventInstanceToEventRange)\n    let eventFootprints = this.eventRangesToEventFootprints(eventRanges)\n\n    return eventFootprints.map(eventFootprintToComponentFootprint)\n  }\n\n\n  // Overlap\n  // ------------------------------------------------------------------------------------------------\n\n\n  collectOverlapEventFootprints(peerEventFootprints, targetFootprint) {\n    let overlapEventFootprints = []\n    let i\n\n    for (i = 0; i < peerEventFootprints.length; i++) {\n      if (\n        this.footprintsIntersect(\n          targetFootprint,\n          peerEventFootprints[i].componentFootprint\n        )\n      ) {\n        overlapEventFootprints.push(peerEventFootprints[i])\n      }\n    }\n\n    return overlapEventFootprints\n  }\n\n\n  // Conversion: eventDefs -> eventInstances -> eventRanges -> eventFootprints -> componentFootprints\n  // ------------------------------------------------------------------------------------------------\n  // NOTE: this might seem like repetitive code with the Grid class, however, this code is related to\n  // constraints whereas the Grid code is related to rendering. Each approach might want to convert\n  // eventRanges -> eventFootprints in a different way. Regardless, there are opportunities to make\n  // this more DRY.\n\n\n  /*\n  Returns false on invalid input.\n  */\n  parseEventDefToInstances(eventInput) {\n    let eventManager = this.eventManager\n    let eventDef = EventDefParser.parse(eventInput, new EventSource(this._calendar))\n\n    if (!eventDef) { // invalid\n      return false\n    }\n\n    return eventDef.buildInstances(eventManager.currentPeriod.unzonedRange)\n  }\n\n\n  eventRangesToEventFootprints(eventRanges) {\n    let i\n    let eventFootprints = []\n\n    for (i = 0; i < eventRanges.length; i++) {\n      eventFootprints.push.apply( // footprints\n        eventFootprints,\n        this.eventRangeToEventFootprints(eventRanges[i])\n      )\n    }\n\n    return eventFootprints\n  }\n\n\n  eventRangeToEventFootprints(eventRange): EventFootprint[] {\n    return [ eventRangeToEventFootprint(eventRange) ]\n  }\n\n\n  /*\n  Parses footprints directly.\n  Very similar to EventDateProfile::parse :(\n  */\n  parseFootprints(rawInput) {\n    let start\n    let end\n\n    if (rawInput.start) {\n      start = this._calendar.moment(rawInput.start)\n\n      if (!start.isValid()) {\n        start = null\n      }\n    }\n\n    if (rawInput.end) {\n      end = this._calendar.moment(rawInput.end)\n\n      if (!end.isValid()) {\n        end = null\n      }\n    }\n\n    return [\n      new ComponentFootprint(\n        new UnzonedRange(start, end),\n        (start && !start.hasTime()) || (end && !end.hasTime()) // isAllDay\n      )\n    ]\n  }\n\n\n  // Footprint Utils\n  // ----------------------------------------------------------------------------------------\n\n\n  footprintContainsFootprint(outerFootprint, innerFootprint) {\n    return outerFootprint.unzonedRange.containsRange(innerFootprint.unzonedRange)\n  }\n\n\n  footprintsIntersect(footprint0, footprint1) {\n    return footprint0.unzonedRange.intersectsWith(footprint1.unzonedRange)\n  }\n\n}\n\n\n// optional subjectEventInstance\nfunction isOverlapsAllowedByFunc(overlapEventFootprints, overlapFunc, subjectEventInstance) {\n  let i\n\n  for (i = 0; i < overlapEventFootprints.length; i++) {\n    if (\n      !overlapFunc(\n        overlapEventFootprints[i].eventInstance.toLegacy(),\n        subjectEventInstance ? subjectEventInstance.toLegacy() : null\n      )\n    ) {\n      return false\n    }\n  }\n\n  return true\n}\n\n\nfunction isOverlapEventInstancesAllowed(overlapEventFootprints, subjectEventInstance) {\n  let subjectLegacyInstance = subjectEventInstance.toLegacy()\n  let i\n  let overlapEventInstance\n  let overlapEventDef\n  let overlapVal\n\n  for (i = 0; i < overlapEventFootprints.length; i++) {\n    overlapEventInstance = overlapEventFootprints[i].eventInstance\n    overlapEventDef = overlapEventInstance.def\n\n    // don't need to pass in calendar, because don't want to consider global eventOverlap property,\n    // because we already considered that earlier in the process.\n    overlapVal = overlapEventDef.getOverlap()\n\n    if (overlapVal === false) {\n      return false\n    } else if (typeof overlapVal === 'function') {\n      if (\n        !overlapVal(\n          overlapEventInstance.toLegacy(),\n          subjectLegacyInstance\n        )\n      ) {\n        return false\n      }\n    }\n  }\n\n  return true\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/Constraints.ts","/*\nUSAGE:\n  import { default as ParsableModelMixin, ParsableModelInterface } from './ParsableModelMixin'\nin class:\n  applyProps: ParsableModelInterface['applyProps']\n  applyManualStandardProps: ParsableModelInterface['applyManualStandardProps']\n  applyMiscProps: ParsableModelInterface['applyMiscProps']\n  isStandardProp: ParsableModelInterface['isStandardProp']\n  static defineStandardProps = ParsableModelMixin.defineStandardProps\n  static copyVerbatimStandardProps = ParsableModelMixin.copyVerbatimStandardProps\nafter class:\n  ParsableModelMixin.mixInto(TheClass)\n*/\n\nimport { copyOwnProps } from '../util'\nimport Mixin from './Mixin'\n\nexport interface ParsableModelInterface {\n  applyProps(rawProps)\n  applyManualStandardProps(rawProps)\n  applyMiscProps(rawProps)\n  isStandardProp(propName)\n}\n\nexport default class ParsableModelMixin extends Mixin implements ParsableModelInterface {\n\n  standardPropMap: any\n\n\n  static defineStandardProps(propDefs) {\n    let proto = this.prototype\n\n    if (!proto.hasOwnProperty('standardPropMap')) {\n      proto.standardPropMap = Object.create(proto.standardPropMap)\n    }\n\n    copyOwnProps(propDefs, proto.standardPropMap)\n  }\n\n\n  static copyVerbatimStandardProps(src, dest) {\n    let map = this.prototype.standardPropMap\n    let propName\n\n    for (propName in map) {\n      if (\n        src[propName] != null && // in the src object?\n        map[propName] === true // false means \"copy verbatim\"\n      ) {\n        dest[propName] = src[propName]\n      }\n    }\n  }\n\n\n  /*\n  Returns true/false for success.\n  Meant to be only called ONCE, at object creation.\n  */\n  applyProps(rawProps) {\n    let standardPropMap = this.standardPropMap\n    let manualProps = {}\n    let miscProps = {}\n    let propName\n\n    for (propName in rawProps) {\n      if (standardPropMap[propName] === true) { // copy verbatim\n        this[propName] = rawProps[propName]\n      } else if (standardPropMap[propName] === false) {\n        manualProps[propName] = rawProps[propName]\n      } else {\n        miscProps[propName] = rawProps[propName]\n      }\n    }\n\n    this.applyMiscProps(miscProps)\n\n    return this.applyManualStandardProps(manualProps)\n  }\n\n\n  /*\n  If subclasses override, they must call this supermethod and return the boolean response.\n  Meant to be only called ONCE, at object creation.\n  */\n  applyManualStandardProps(rawProps) {\n    return true\n  }\n\n\n  /*\n  Can be called even after initial object creation.\n  */\n  applyMiscProps(rawProps) {\n    // subclasses can implement\n  }\n\n\n  /*\n  TODO: why is this a method when defineStandardProps is static\n  */\n  isStandardProp(propName) {\n    return propName in this.standardPropMap\n  }\n\n}\n\nParsableModelMixin.prototype.standardPropMap = {} // will be cloned by defineStandardProps\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/ParsableModelMixin.ts","\nexport default class EventInstance {\n\n  def: any // EventDef\n  dateProfile: any // EventDateProfile\n\n\n  constructor(def, dateProfile) {\n    this.def = def\n    this.dateProfile = dateProfile\n  }\n\n\n  toLegacy() {\n    let dateProfile = this.dateProfile\n    let obj = this.def.toLegacy()\n\n    obj.start = dateProfile.start.clone()\n    obj.end = dateProfile.end ? dateProfile.end.clone() : null\n\n    return obj\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/event/EventInstance.ts","import * as $ from 'jquery'\nimport * as moment from 'moment'\nimport EventDef from './EventDef'\nimport EventInstance from './EventInstance'\nimport EventDateProfile from './EventDateProfile'\n\n\nexport default class RecurringEventDef extends EventDef {\n\n  startTime: any // duration\n  endTime: any // duration, or null\n  dowHash: any // object hash, or null\n\n\n  isAllDay() {\n    return !this.startTime && !this.endTime\n  }\n\n\n  buildInstances(unzonedRange) {\n    let calendar = this.source.calendar\n    let unzonedDate = unzonedRange.getStart()\n    let unzonedEnd = unzonedRange.getEnd()\n    let zonedDayStart\n    let instanceStart\n    let instanceEnd\n    let instances = []\n\n    while (unzonedDate.isBefore(unzonedEnd)) {\n\n      // if everyday, or this particular day-of-week\n      if (!this.dowHash || this.dowHash[unzonedDate.day()]) {\n\n        zonedDayStart = calendar.applyTimezone(unzonedDate)\n        instanceStart = zonedDayStart.clone()\n        instanceEnd = null\n\n        if (this.startTime) {\n          instanceStart.time(this.startTime)\n        } else {\n          instanceStart.stripTime()\n        }\n\n        if (this.endTime) {\n          instanceEnd = zonedDayStart.clone().time(this.endTime)\n        }\n\n        instances.push(\n          new EventInstance(\n            this, // definition\n            new EventDateProfile(instanceStart, instanceEnd, calendar)\n          )\n        )\n      }\n\n      unzonedDate.add(1, 'days')\n    }\n\n    return instances\n  }\n\n\n  setDow(dowNumbers) {\n\n    if (!this.dowHash) {\n      this.dowHash = {}\n    }\n\n    for (let i = 0; i < dowNumbers.length; i++) {\n      this.dowHash[dowNumbers[i]] = true\n    }\n  }\n\n\n  clone() {\n    let def = super.clone()\n\n    if (def.startTime) {\n      def.startTime = moment.duration(this.startTime)\n    }\n\n    if (def.endTime) {\n      def.endTime = moment.duration(this.endTime)\n    }\n\n    if (this.dowHash) {\n      def.dowHash = $.extend({}, this.dowHash)\n    }\n\n    return def\n  }\n\n}\n\n\n/*\nHACK to work with TypeScript mixins\nNOTE: if super-method fails, should still attempt to apply\n*/\nRecurringEventDef.prototype.applyProps = function(rawProps) {\n  let superSuccess = EventDef.prototype.applyProps.call(this, rawProps)\n\n  if (rawProps.start) {\n    this.startTime = moment.duration(rawProps.start)\n  }\n\n  if (rawProps.end) {\n    this.endTime = moment.duration(rawProps.end)\n  }\n\n  if (rawProps.dow) {\n    this.setDow(rawProps.dow)\n  }\n\n  return superSuccess\n}\n\n\n// Parsing\n// ---------------------------------------------------------------------------------------------------------------------\n\n\nRecurringEventDef.defineStandardProps({ // false = manually process\n  start: false,\n  end: false,\n  dow: false\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/event/RecurringEventDef.ts","\nexport default class EventRange {\n\n  unzonedRange: any\n  eventDef: any\n  eventInstance: any // optional\n\n\n  constructor(unzonedRange, eventDef, eventInstance?) {\n    this.unzonedRange = unzonedRange\n    this.eventDef = eventDef\n\n    if (eventInstance) {\n      this.eventInstance = eventInstance\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/event/EventRange.ts","import * as $ from 'jquery'\nimport { eventDefsToEventInstances } from '../models/event/util'\nimport EventInstanceGroup from './event/EventInstanceGroup'\nimport RecurringEventDef from './event/RecurringEventDef'\nimport EventSource from './event-source/EventSource'\n\n\nlet BUSINESS_HOUR_EVENT_DEFAULTS = {\n  start: '09:00',\n  end: '17:00',\n  dow: [ 1, 2, 3, 4, 5 ], // monday - friday\n  rendering: 'inverse-background'\n  // classNames are defined in businessHoursSegClasses\n}\n\n\nexport default class BusinessHourGenerator {\n\n  rawComplexDef: any\n  calendar: any // for anonymous EventSource\n\n\n  constructor(rawComplexDef, calendar) {\n    this.rawComplexDef = rawComplexDef\n    this.calendar = calendar\n  }\n\n\n  buildEventInstanceGroup(isAllDay, unzonedRange) {\n    let eventDefs = this.buildEventDefs(isAllDay)\n    let eventInstanceGroup\n\n    if (eventDefs.length) {\n      eventInstanceGroup = new EventInstanceGroup(\n        eventDefsToEventInstances(eventDefs, unzonedRange)\n      )\n\n      // so that inverse-background rendering can happen even when no eventRanges in view\n      eventInstanceGroup.explicitEventDef = eventDefs[0]\n\n      return eventInstanceGroup\n    }\n  }\n\n\n  buildEventDefs(isAllDay) {\n    let rawComplexDef = this.rawComplexDef\n    let rawDefs = []\n    let requireDow = false\n    let i\n    let defs = []\n\n    if (rawComplexDef === true) {\n      rawDefs = [ {} ] // will get BUSINESS_HOUR_EVENT_DEFAULTS verbatim\n    } else if ($.isPlainObject(rawComplexDef)) {\n      rawDefs = [ rawComplexDef ]\n    } else if ($.isArray(rawComplexDef)) {\n      rawDefs = rawComplexDef\n      requireDow = true // every sub-definition NEEDS a day-of-week\n    }\n\n    for (i = 0; i < rawDefs.length; i++) {\n      if (!requireDow || rawDefs[i].dow) {\n        defs.push(\n          this.buildEventDef(isAllDay, rawDefs[i])\n        )\n      }\n    }\n\n    return defs\n  }\n\n\n  buildEventDef(isAllDay, rawDef) {\n    let fullRawDef = $.extend({}, BUSINESS_HOUR_EVENT_DEFAULTS, rawDef)\n\n    if (isAllDay) {\n      fullRawDef.start = null\n      fullRawDef.end = null\n    }\n\n    return RecurringEventDef.parse(\n      fullRawDef,\n      new EventSource(this.calendar) // dummy source\n    )\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/BusinessHourGenerator.ts","import Theme from './Theme'\n\nexport default class StandardTheme extends Theme {\n}\n\nStandardTheme.prototype.classes = {\n  widget: 'fc-unthemed',\n  widgetHeader: 'fc-widget-header',\n  widgetContent: 'fc-widget-content',\n\n  buttonGroup: 'fc-button-group',\n  button: 'fc-button',\n  cornerLeft: 'fc-corner-left',\n  cornerRight: 'fc-corner-right',\n  stateDefault: 'fc-state-default',\n  stateActive: 'fc-state-active',\n  stateDisabled: 'fc-state-disabled',\n  stateHover: 'fc-state-hover',\n  stateDown: 'fc-state-down',\n\n  popoverHeader: 'fc-widget-header',\n  popoverContent: 'fc-widget-content',\n\n  // day grid\n  headerRow: 'fc-widget-header',\n  dayRow: 'fc-widget-content',\n\n  // list view\n  listView: 'fc-widget-content'\n}\n\nStandardTheme.prototype.baseIconClass = 'fc-icon'\nStandardTheme.prototype.iconClasses = {\n  close: 'fc-icon-x',\n  prev: 'fc-icon-left-single-arrow',\n  next: 'fc-icon-right-single-arrow',\n  prevYear: 'fc-icon-left-double-arrow',\n  nextYear: 'fc-icon-right-double-arrow'\n}\n\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons'\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon'\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-'\n\n\n\n// WEBPACK FOOTER //\n// ./src/theme/StandardTheme.ts","import Theme from './Theme'\n\nexport default class JqueryUiTheme extends Theme {\n}\n\nJqueryUiTheme.prototype.classes = {\n  widget: 'ui-widget',\n  widgetHeader: 'ui-widget-header',\n  widgetContent: 'ui-widget-content',\n\n  buttonGroup: 'fc-button-group',\n  button: 'ui-button',\n  cornerLeft: 'ui-corner-left',\n  cornerRight: 'ui-corner-right',\n  stateDefault: 'ui-state-default',\n  stateActive: 'ui-state-active',\n  stateDisabled: 'ui-state-disabled',\n  stateHover: 'ui-state-hover',\n  stateDown: 'ui-state-down',\n\n  today: 'ui-state-highlight',\n\n  popoverHeader: 'ui-widget-header',\n  popoverContent: 'ui-widget-content',\n\n  // day grid\n  headerRow: 'ui-widget-header',\n  dayRow: 'ui-widget-content',\n\n  // list view\n  listView: 'ui-widget-content'\n}\n\nJqueryUiTheme.prototype.baseIconClass = 'ui-icon'\nJqueryUiTheme.prototype.iconClasses = {\n  close: 'ui-icon-closethick',\n  prev: 'ui-icon-circle-triangle-w',\n  next: 'ui-icon-circle-triangle-e',\n  prevYear: 'ui-icon-seek-prev',\n  nextYear: 'ui-icon-seek-next'\n}\n\nJqueryUiTheme.prototype.iconOverrideOption = 'themeButtonIcons'\nJqueryUiTheme.prototype.iconOverrideCustomButtonOption = 'themeIcon'\nJqueryUiTheme.prototype.iconOverridePrefix = 'ui-icon-'\n\n\n\n// WEBPACK FOOTER //\n// ./src/theme/JqueryUiTheme.ts","import * as $ from 'jquery'\nimport Promise from '../../common/Promise'\nimport EventSource from './EventSource'\n\n\nexport default class FuncEventSource extends EventSource {\n\n  func: any\n\n\n  static parse(rawInput, calendar) {\n    let rawProps\n\n    // normalize raw input\n    if ($.isFunction(rawInput.events)) { // extended form\n      rawProps = rawInput\n    } else if ($.isFunction(rawInput)) { // short form\n      rawProps = { events: rawInput }\n    }\n\n    if (rawProps) {\n      return EventSource.parse.call(this, rawProps, calendar)\n    }\n\n    return false\n  }\n\n\n  fetch(start, end, timezone) {\n    this.calendar.pushLoading()\n\n    return Promise.construct((onResolve) => {\n      this.func.call(\n        this.calendar,\n        start.clone(),\n        end.clone(),\n        timezone,\n        (rawEventDefs) => {\n          this.calendar.popLoading()\n\n          onResolve(this.parseEventDefs(rawEventDefs))\n        }\n      )\n    })\n  }\n\n\n  getPrimitive() {\n    return this.func\n  }\n\n\n  applyManualStandardProps(rawProps) {\n    let superSuccess = super.applyManualStandardProps(rawProps)\n\n    this.func = rawProps.events\n\n    return superSuccess\n  }\n\n}\n\nFuncEventSource.defineStandardProps({\n  events: false // don't automatically transfer\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/event-source/FuncEventSource.ts","import * as $ from 'jquery'\nimport { applyAll } from '../../util'\nimport Promise from '../../common/Promise'\nimport EventSource from './EventSource'\n\n\nexport default class JsonFeedEventSource extends EventSource {\n\n  static AJAX_DEFAULTS = {\n    dataType: 'json',\n    cache: false\n  }\n\n  // these props must all be manually set before calling fetch\n  url: any\n  startParam: any\n  endParam: any\n  timezoneParam: any\n  ajaxSettings: any // does not include url\n\n\n  static parse(rawInput, calendar) {\n    let rawProps\n\n    // normalize raw input\n    if (typeof rawInput.url === 'string') { // extended form\n      rawProps = rawInput\n    } else if (typeof rawInput === 'string') { // short form\n      rawProps = { url: rawInput }\n    }\n\n    if (rawProps) {\n      return EventSource.parse.call(this, rawProps, calendar)\n    }\n\n    return false\n  }\n\n\n  fetch(start, end, timezone) {\n    let ajaxSettings = this.ajaxSettings\n    let onSuccess = ajaxSettings.success\n    let onError = ajaxSettings.error\n    let requestParams = this.buildRequestParams(start, end, timezone)\n\n    // todo: eventually handle the promise's then,\n    // don't intercept success/error\n    // tho will be a breaking API change\n\n    this.calendar.pushLoading()\n\n    return Promise.construct((onResolve, onReject) => {\n      $.ajax($.extend(\n        {}, // destination\n        JsonFeedEventSource.AJAX_DEFAULTS,\n        ajaxSettings,\n        {\n          url: this.url,\n          data: requestParams,\n          success: (rawEventDefs, status, xhr) => {\n            let callbackRes\n\n            this.calendar.popLoading()\n\n            if (rawEventDefs) {\n              callbackRes = applyAll(onSuccess, this, [ rawEventDefs, status, xhr ]) // redirect `this`\n\n              if ($.isArray(callbackRes)) {\n                rawEventDefs = callbackRes\n              }\n\n              onResolve(this.parseEventDefs(rawEventDefs))\n            } else {\n              onReject()\n            }\n          },\n          error: (xhr, statusText, errorThrown) => {\n            this.calendar.popLoading()\n\n            applyAll(onError, this, [ xhr, statusText, errorThrown ]) // redirect `this`\n            onReject()\n          }\n        }\n      ))\n    })\n  }\n\n\n  buildRequestParams(start, end, timezone) {\n    let calendar = this.calendar\n    let ajaxSettings = this.ajaxSettings\n    let startParam\n    let endParam\n    let timezoneParam\n    let customRequestParams\n    let params = {}\n\n    startParam = this.startParam\n    if (startParam == null) {\n      startParam = calendar.opt('startParam')\n    }\n\n    endParam = this.endParam\n    if (endParam == null) {\n      endParam = calendar.opt('endParam')\n    }\n\n    timezoneParam = this.timezoneParam\n    if (timezoneParam == null) {\n      timezoneParam = calendar.opt('timezoneParam')\n    }\n\n    // retrieve any outbound GET/POST $.ajax data from the options\n    if ($.isFunction(ajaxSettings.data)) {\n      // supplied as a function that returns a key/value object\n      customRequestParams = ajaxSettings.data()\n    } else {\n      // probably supplied as a straight key/value object\n      customRequestParams = ajaxSettings.data || {}\n    }\n\n    $.extend(params, customRequestParams)\n\n    params[startParam] = start.format()\n    params[endParam] = end.format()\n\n    if (timezone && timezone !== 'local') {\n      params[timezoneParam] = timezone\n    }\n\n    return params\n  }\n\n\n  getPrimitive() {\n    return this.url\n  }\n\n\n  applyMiscProps(rawProps) {\n    this.ajaxSettings = rawProps\n  }\n\n}\n\n\nJsonFeedEventSource.defineStandardProps({\n  // automatically transfer (true)...\n  url: true,\n  startParam: true,\n  endParam: true,\n  timezoneParam: true\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/event-source/JsonFeedEventSource.ts","import { default as EmitterMixin, EmitterInterface } from './EmitterMixin'\n\nexport default class TaskQueue {\n\n  on: EmitterInterface['on']\n  one: EmitterInterface['one']\n  off: EmitterInterface['off']\n  trigger: EmitterInterface['trigger']\n  triggerWith: EmitterInterface['triggerWith']\n  hasHandlers: EmitterInterface['hasHandlers']\n\n  q: any = []\n  isPaused: boolean = false\n  isRunning: boolean = false\n\n\n  queue(...args) {\n    this.q.push.apply(this.q, args) // append\n    this.tryStart()\n  }\n\n\n  pause() {\n    this.isPaused = true\n  }\n\n\n  resume() {\n    this.isPaused = false\n    this.tryStart()\n  }\n\n\n  getIsIdle() {\n    return !this.isRunning && !this.isPaused\n  }\n\n\n  tryStart() {\n    if (!this.isRunning && this.canRunNext()) {\n      this.isRunning = true\n      this.trigger('start')\n      this.runRemaining()\n    }\n  }\n\n\n  canRunNext() {\n    return !this.isPaused && this.q.length\n  }\n\n\n  runRemaining() { // assumes at least one task in queue. does not check canRunNext for first task.\n    let task\n    let res\n\n    do {\n      task = this.q.shift() // always freshly reference q. might have been reassigned.\n      res = this.runTask(task)\n\n      if (res && res.then) {\n        res.then(() => {\n          if (this.canRunNext()) {\n            this.runRemaining()\n          }\n        })\n        return // prevent marking as stopped\n      }\n    } while (this.canRunNext())\n\n    this.trigger('stop') // not really a 'stop' ... more of a 'drained'\n    this.isRunning = false\n\n    // if 'stop' handler added more tasks.... TODO: write test for this\n    this.tryStart()\n  }\n\n\n  runTask(task) {\n    return task() // task *is* the function, but subclasses can change the format of a task\n  }\n\n}\n\nEmitterMixin.mixInto(TaskQueue)\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/TaskQueue.ts","import TaskQueue from './TaskQueue'\n\n\nexport default class RenderQueue extends TaskQueue {\n\n  waitsByNamespace: any\n  waitNamespace: any\n  waitId: any\n\n\n  constructor(waitsByNamespace) {\n    super()\n    this.waitsByNamespace = waitsByNamespace || {}\n  }\n\n\n  queue(taskFunc, namespace, type) {\n    let task = {\n      func: taskFunc,\n      namespace: namespace,\n      type: type\n    }\n    let waitMs\n\n    if (namespace) {\n      waitMs = this.waitsByNamespace[namespace]\n    }\n\n    if (this.waitNamespace) {\n      if (namespace === this.waitNamespace && waitMs != null) {\n        this.delayWait(waitMs)\n      } else {\n        this.clearWait()\n        this.tryStart()\n      }\n    }\n\n    if (this.compoundTask(task)) { // appended to queue?\n\n      if (!this.waitNamespace && waitMs != null) {\n        this.startWait(namespace, waitMs)\n      } else {\n        this.tryStart()\n      }\n    }\n  }\n\n\n  startWait(namespace, waitMs) {\n    this.waitNamespace = namespace\n    this.spawnWait(waitMs)\n  }\n\n\n  delayWait(waitMs) {\n    clearTimeout(this.waitId)\n    this.spawnWait(waitMs)\n  }\n\n\n  spawnWait(waitMs) {\n    this.waitId = setTimeout(() => {\n      this.waitNamespace = null\n      this.tryStart()\n    }, waitMs)\n  }\n\n\n  clearWait() {\n    if (this.waitNamespace) {\n      clearTimeout(this.waitId)\n      this.waitId = null\n      this.waitNamespace = null\n    }\n  }\n\n\n  canRunNext() {\n    if (!super.canRunNext()) {\n      return false\n    }\n\n    // waiting for a certain namespace to stop receiving tasks?\n    if (this.waitNamespace) {\n\n      const { q } = this\n\n      // if there was a different namespace task in the meantime,\n      // that forces all previously-waiting tasks to suddenly execute.\n      // TODO: find a way to do this in constant time.\n      for (let i = 0; i < q.length; i++) {\n        if (q[i].namespace !== this.waitNamespace) {\n          return true // allow execution\n        }\n      }\n\n      return false\n    }\n\n    return true\n  }\n\n\n  runTask(task) {\n    task.func()\n  }\n\n\n  compoundTask(newTask) {\n    let q = this.q\n    let shouldAppend = true\n    let i\n    let task\n\n    if (newTask.namespace && newTask.type === 'destroy') {\n\n      // remove all init/add/remove ops with same namespace, regardless of order\n      for (i = q.length - 1; i >= 0; i--) {\n        task = q[i]\n\n        switch (task.type) {\n          case 'init':\n            shouldAppend = false\n            // the latest destroy is cancelled out by not doing the init\n            /* falls through */\n          case 'add':\n            /* falls through */\n          case 'remove':\n            q.splice(i, 1) // remove task\n        }\n      }\n    }\n\n    if (shouldAppend) {\n      q.push(newTask)\n    }\n\n    return shouldAppend\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/RenderQueue.ts","import * as $ from 'jquery'\nimport * as moment from 'moment'\nimport { attrsToStr, htmlEscape, dayIDs } from '../util'\nimport momentExt from '../moment-ext'\nimport { formatRange } from '../date-formatting'\nimport Component from './Component'\nimport { eventRangeToEventFootprint } from '../models/event/util'\nimport EventFootprint from '../models/event/EventFootprint'\n\n\nexport default abstract class DateComponent extends Component {\n\n  static guid: number = 0 // TODO: better system for this?\n\n  eventRendererClass: any\n  helperRendererClass: any\n  businessHourRendererClass: any\n  fillRendererClass: any\n\n  uid: any\n  childrenByUid: any\n  isRTL: boolean = false // frequently accessed options\n  nextDayThreshold: any // \"\n  dateProfile: any // hack\n\n  eventRenderer: any\n  helperRenderer: any\n  businessHourRenderer: any\n  fillRenderer: any\n\n  hitsNeededDepth: number = 0 // necessary because multiple callers might need the same hits\n\n  hasAllDayBusinessHours: boolean = false // TODO: unify with largeUnit and isTimeScale?\n\n  isDatesRendered: boolean = false\n\n\n  constructor(_view?, _options?) {\n    super()\n\n    // hack to set options prior to the this.opt calls\n    if (_view) {\n      this['view'] = _view\n    }\n    if (_options) {\n      this['options'] = _options\n    }\n\n    this.uid = String(DateComponent.guid++)\n    this.childrenByUid = {}\n\n    this.nextDayThreshold = moment.duration(this.opt('nextDayThreshold'))\n    this.isRTL = this.opt('isRTL')\n\n    if (this.fillRendererClass) {\n      this.fillRenderer = new this.fillRendererClass(this)\n    }\n\n    if (this.eventRendererClass) { // fillRenderer is optional -----v\n      this.eventRenderer = new this.eventRendererClass(this, this.fillRenderer)\n    }\n\n    if (this.helperRendererClass && this.eventRenderer) {\n      this.helperRenderer = new this.helperRendererClass(this, this.eventRenderer)\n    }\n\n    if (this.businessHourRendererClass && this.fillRenderer) {\n      this.businessHourRenderer = new this.businessHourRendererClass(this, this.fillRenderer)\n    }\n  }\n\n\n  addChild(child) {\n    if (!this.childrenByUid[child.uid]) {\n      this.childrenByUid[child.uid] = child\n\n      return true\n    }\n\n    return false\n  }\n\n\n  removeChild(child) {\n    if (this.childrenByUid[child.uid]) {\n      delete this.childrenByUid[child.uid]\n\n      return true\n    }\n\n    return false\n  }\n\n\n  // TODO: only do if isInDom?\n  // TODO: make part of Component, along with children/batch-render system?\n  updateSize(totalHeight, isAuto, isResize) {\n    this.callChildren('updateSize', arguments)\n  }\n\n\n  // Options\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  opt(name) {\n    return this._getView().opt(name) // default implementation\n  }\n\n\n  publiclyTrigger(...args) {\n    let calendar = this._getCalendar()\n\n    return calendar.publiclyTrigger.apply(calendar, args)\n  }\n\n\n  hasPublicHandlers(...args) {\n    let calendar = this._getCalendar()\n\n    return calendar.hasPublicHandlers.apply(calendar, args)\n  }\n\n\n  // Date\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  executeDateRender(dateProfile) {\n    this.dateProfile = dateProfile // for rendering\n    this.renderDates(dateProfile)\n    this.isDatesRendered = true\n    this.callChildren('executeDateRender', arguments)\n  }\n\n\n  executeDateUnrender() { // wrapper\n    this.callChildren('executeDateUnrender', arguments)\n    this.dateProfile = null\n    this.unrenderDates()\n    this.isDatesRendered = false\n  }\n\n\n  // date-cell content only\n  renderDates(dateProfile) {\n    // subclasses should implement\n  }\n\n\n  // date-cell content only\n  unrenderDates() {\n    // subclasses should override\n  }\n\n\n  // Now-Indicator\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  // Returns a string unit, like 'second' or 'minute' that defined how often the current time indicator\n  // should be refreshed. If something falsy is returned, no time indicator is rendered at all.\n  getNowIndicatorUnit() {\n    // subclasses should implement\n  }\n\n\n  // Renders a current time indicator at the given datetime\n  renderNowIndicator(date) {\n    this.callChildren('renderNowIndicator', arguments)\n  }\n\n\n  // Undoes the rendering actions from renderNowIndicator\n  unrenderNowIndicator() {\n    this.callChildren('unrenderNowIndicator', arguments)\n  }\n\n\n  // Business Hours\n  // ---------------------------------------------------------------------------------------------------------------\n\n\n  renderBusinessHours(businessHourGenerator) {\n    if (this.businessHourRenderer) {\n      this.businessHourRenderer.render(businessHourGenerator)\n    }\n\n    this.callChildren('renderBusinessHours', arguments)\n  }\n\n\n  // Unrenders previously-rendered business-hours\n  unrenderBusinessHours() {\n    this.callChildren('unrenderBusinessHours', arguments)\n\n    if (this.businessHourRenderer) {\n      this.businessHourRenderer.unrender()\n    }\n  }\n\n\n  // Event Displaying\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  executeEventRender(eventsPayload) {\n    if (this.eventRenderer) {\n      this.eventRenderer.rangeUpdated() // poorly named now\n      this.eventRenderer.render(eventsPayload)\n    } else if (this['renderEvents']) { // legacy\n      this['renderEvents'](convertEventsPayloadToLegacyArray(eventsPayload))\n    }\n\n    this.callChildren('executeEventRender', arguments)\n  }\n\n\n  executeEventUnrender() {\n    this.callChildren('executeEventUnrender', arguments)\n\n    if (this.eventRenderer) {\n      this.eventRenderer.unrender()\n    } else if (this['destroyEvents']) { // legacy\n      this['destroyEvents']()\n    }\n  }\n\n\n  getBusinessHourSegs() { // recursive\n    let segs = this.getOwnBusinessHourSegs()\n\n    this.iterChildren(function(child) {\n      segs.push.apply(segs, child.getBusinessHourSegs())\n    })\n\n    return segs\n  }\n\n\n  getOwnBusinessHourSegs() {\n    if (this.businessHourRenderer) {\n      return this.businessHourRenderer.getSegs()\n    }\n\n    return []\n  }\n\n\n  getEventSegs() { // recursive\n    let segs = this.getOwnEventSegs()\n\n    this.iterChildren(function(child) {\n      segs.push.apply(segs, child.getEventSegs())\n    })\n\n    return segs\n  }\n\n\n  getOwnEventSegs() { // just for itself\n    if (this.eventRenderer) {\n      return this.eventRenderer.getSegs()\n    }\n\n    return []\n  }\n\n\n  // Event Rendering Triggering\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  triggerAfterEventsRendered() {\n    this.triggerAfterEventSegsRendered(\n      this.getEventSegs()\n    )\n\n    this.publiclyTrigger('eventAfterAllRender', {\n      context: this,\n      args: [ this ]\n    })\n  }\n\n\n  triggerAfterEventSegsRendered(segs) {\n    // an optimization, because getEventLegacy is expensive\n    if (this.hasPublicHandlers('eventAfterRender')) {\n      segs.forEach((seg) => {\n        let legacy\n\n        if (seg.el) { // necessary?\n          legacy = seg.footprint.getEventLegacy()\n\n          this.publiclyTrigger('eventAfterRender', {\n            context: legacy,\n            args: [ legacy, seg.el, this ]\n          })\n        }\n      })\n    }\n  }\n\n\n  triggerBeforeEventsDestroyed() {\n    this.triggerBeforeEventSegsDestroyed(\n      this.getEventSegs()\n    )\n  }\n\n\n  triggerBeforeEventSegsDestroyed(segs) {\n    if (this.hasPublicHandlers('eventDestroy')) {\n      segs.forEach((seg) => {\n        let legacy\n\n        if (seg.el) { // necessary?\n          legacy = seg.footprint.getEventLegacy()\n\n          this.publiclyTrigger('eventDestroy', {\n            context: legacy,\n            args: [ legacy, seg.el, this ]\n          })\n        }\n      })\n    }\n  }\n\n\n  // Event Rendering Utils\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  // Hides all rendered event segments linked to the given event\n  // RECURSIVE with subcomponents\n  showEventsWithId(eventDefId) {\n\n    this.getEventSegs().forEach(function(seg) {\n      if (\n        seg.footprint.eventDef.id === eventDefId &&\n        seg.el // necessary?\n      ) {\n        seg.el.css('visibility', '')\n      }\n    })\n\n    this.callChildren('showEventsWithId', arguments)\n  }\n\n\n  // Shows all rendered event segments linked to the given event\n  // RECURSIVE with subcomponents\n  hideEventsWithId(eventDefId) {\n\n    this.getEventSegs().forEach(function(seg) {\n      if (\n        seg.footprint.eventDef.id === eventDefId &&\n        seg.el // necessary?\n      ) {\n        seg.el.css('visibility', 'hidden')\n      }\n    })\n\n    this.callChildren('hideEventsWithId', arguments)\n  }\n\n\n  // Drag-n-Drop Rendering (for both events and external elements)\n  // ---------------------------------------------------------------------------------------------------------------\n\n\n  // Renders a visual indication of a event or external-element drag over the given drop zone.\n  // If an external-element, seg will be `null`.\n  // Must return elements used for any mock events.\n  renderDrag(eventFootprints, seg, isTouch) {\n    let renderedHelper = false\n\n    this.iterChildren(function(child) {\n      if (child.renderDrag(eventFootprints, seg, isTouch)) {\n        renderedHelper = true\n      }\n    })\n\n    return renderedHelper\n  }\n\n\n  // Unrenders a visual indication of an event or external-element being dragged.\n  unrenderDrag() {\n    this.callChildren('unrenderDrag', arguments)\n  }\n\n\n  // Event Resizing\n  // ---------------------------------------------------------------------------------------------------------------\n\n\n  // Renders a visual indication of an event being resized.\n  renderEventResize(eventFootprints, seg, isTouch) {\n    this.callChildren('renderEventResize', arguments)\n  }\n\n\n  // Unrenders a visual indication of an event being resized.\n  unrenderEventResize() {\n    this.callChildren('unrenderEventResize', arguments)\n  }\n\n\n  // Selection\n  // ---------------------------------------------------------------------------------------------------------------\n\n\n  // Renders a visual indication of the selection\n  // TODO: rename to `renderSelection` after legacy is gone\n  renderSelectionFootprint(componentFootprint) {\n    this.renderHighlight(componentFootprint)\n\n    this.callChildren('renderSelectionFootprint', arguments)\n  }\n\n\n  // Unrenders a visual indication of selection\n  unrenderSelection() {\n    this.unrenderHighlight()\n\n    this.callChildren('unrenderSelection', arguments)\n  }\n\n\n  // Highlight\n  // ---------------------------------------------------------------------------------------------------------------\n\n\n  // Renders an emphasis on the given date range. Given a span (unzoned start/end and other misc data)\n  renderHighlight(componentFootprint) {\n    if (this.fillRenderer) {\n      this.fillRenderer.renderFootprint(\n        'highlight',\n        componentFootprint,\n        {\n          getClasses() {\n            return [ 'fc-highlight' ]\n          }\n        }\n      )\n    }\n\n    this.callChildren('renderHighlight', arguments)\n  }\n\n\n  // Unrenders the emphasis on a date range\n  unrenderHighlight() {\n    if (this.fillRenderer) {\n      this.fillRenderer.unrender('highlight')\n    }\n\n    this.callChildren('unrenderHighlight', arguments)\n  }\n\n\n  // Hit Areas\n  // ---------------------------------------------------------------------------------------------------------------\n  // just because all DateComponents support this interface\n  // doesn't mean they need to have their own internal coord system. they can defer to sub-components.\n\n\n  hitsNeeded() {\n    if (!(this.hitsNeededDepth++)) {\n      this.prepareHits()\n    }\n\n    this.callChildren('hitsNeeded', arguments)\n  }\n\n\n  hitsNotNeeded() {\n    if (this.hitsNeededDepth && !(--this.hitsNeededDepth)) {\n      this.releaseHits()\n    }\n\n    this.callChildren('hitsNotNeeded', arguments)\n  }\n\n\n  prepareHits() {\n    // subclasses can implement\n  }\n\n\n  releaseHits() {\n    // subclasses can implement\n  }\n\n\n  // Given coordinates from the topleft of the document, return data about the date-related area underneath.\n  // Can return an object with arbitrary properties (although top/right/left/bottom are encouraged).\n  // Must have a `grid` property, a reference to this current grid. TODO: avoid this\n  // The returned object will be processed by getHitFootprint and getHitEl.\n  queryHit(leftOffset, topOffset) {\n    let childrenByUid = this.childrenByUid\n    let uid\n    let hit\n\n    for (uid in childrenByUid) {\n      hit = childrenByUid[uid].queryHit(leftOffset, topOffset)\n\n      if (hit) {\n        break\n      }\n    }\n\n    return hit\n  }\n\n\n  getSafeHitFootprint(hit) {\n    let footprint = this.getHitFootprint(hit)\n\n    if (!this.dateProfile.activeUnzonedRange.containsRange(footprint.unzonedRange)) {\n      return null\n    }\n\n    return footprint\n  }\n\n\n  getHitFootprint(hit): any {\n    // what about being abstract!?\n  }\n\n\n  // Given position-level information about a date-related area within the grid,\n  // should return a jQuery element that best represents it. passed to dayClick callback.\n  getHitEl(hit): any {\n    // what about being abstract!?\n  }\n\n\n  /* Converting eventRange -> eventFootprint\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  eventRangesToEventFootprints(eventRanges) {\n    let eventFootprints = []\n    let i\n\n    for (i = 0; i < eventRanges.length; i++) {\n      eventFootprints.push.apply( // append\n        eventFootprints,\n        this.eventRangeToEventFootprints(eventRanges[i])\n      )\n    }\n\n    return eventFootprints\n  }\n\n\n  eventRangeToEventFootprints(eventRange): EventFootprint[] {\n    return [ eventRangeToEventFootprint(eventRange) ]\n  }\n\n\n  /* Converting componentFootprint/eventFootprint -> segs\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  eventFootprintsToSegs(eventFootprints) {\n    let segs = []\n    let i\n\n    for (i = 0; i < eventFootprints.length; i++) {\n      segs.push.apply(segs,\n        this.eventFootprintToSegs(eventFootprints[i])\n      )\n    }\n\n    return segs\n  }\n\n\n  // Given an event's span (unzoned start/end and other misc data), and the event itself,\n  // slices into segments and attaches event-derived properties to them.\n  // eventSpan - { start, end, isStart, isEnd, otherthings... }\n  eventFootprintToSegs(eventFootprint) {\n    let unzonedRange = eventFootprint.componentFootprint.unzonedRange\n    let segs\n    let i\n    let seg\n\n    segs = this.componentFootprintToSegs(eventFootprint.componentFootprint)\n\n    for (i = 0; i < segs.length; i++) {\n      seg = segs[i]\n\n      if (!unzonedRange.isStart) {\n        seg.isStart = false\n      }\n      if (!unzonedRange.isEnd) {\n        seg.isEnd = false\n      }\n\n      seg.footprint = eventFootprint\n      // TODO: rename to seg.eventFootprint\n    }\n\n    return segs\n  }\n\n\n  componentFootprintToSegs(componentFootprint) {\n    return []\n  }\n\n\n  // Utils\n  // ---------------------------------------------------------------------------------------------------------------\n\n\n  callChildren(methodName, args) {\n    this.iterChildren(function(child) {\n      child[methodName].apply(child, args)\n    })\n  }\n\n\n  iterChildren(func) {\n    let childrenByUid = this.childrenByUid\n    let uid\n\n    for (uid in childrenByUid) {\n      func(childrenByUid[uid])\n    }\n  }\n\n\n  _getCalendar() { // TODO: strip out. move to generic parent.\n    let t = (this as any)\n    return t.calendar || t.view.calendar\n  }\n\n\n  _getView() { // TODO: strip out. move to generic parent.\n    return (this as any).view\n  }\n\n\n  _getDateProfile() {\n    return this._getView().get('dateProfile')\n  }\n\n\n  // Generates HTML for an anchor to another view into the calendar.\n  // Will either generate an <a> tag or a non-clickable <span> tag, depending on enabled settings.\n  // `gotoOptions` can either be a moment input, or an object with the form:\n  // { date, type, forceOff }\n  // `type` is a view-type like \"day\" or \"week\". default value is \"day\".\n  // `attrs` and `innerHtml` are use to generate the rest of the HTML tag.\n  buildGotoAnchorHtml(gotoOptions, attrs, innerHtml) {\n    let date\n    let type\n    let forceOff\n    let finalOptions\n\n    if ($.isPlainObject(gotoOptions)) {\n      date = gotoOptions.date\n      type = gotoOptions.type\n      forceOff = gotoOptions.forceOff\n    } else {\n      date = gotoOptions // a single moment input\n    }\n    date = momentExt(date) // if a string, parse it\n\n    finalOptions = { // for serialization into the link\n      date: date.format('YYYY-MM-DD'),\n      type: type || 'day'\n    }\n\n    if (typeof attrs === 'string') {\n      innerHtml = attrs\n      attrs = null\n    }\n\n    attrs = attrs ? ' ' + attrsToStr(attrs) : '' // will have a leading space\n    innerHtml = innerHtml || ''\n\n    if (!forceOff && this.opt('navLinks')) {\n      return '<a' + attrs +\n        ' data-goto=\"' + htmlEscape(JSON.stringify(finalOptions)) + '\">' +\n        innerHtml +\n        '</a>'\n    } else {\n      return '<span' + attrs + '>' +\n        innerHtml +\n        '</span>'\n    }\n  }\n\n\n  getAllDayHtml() {\n    return this.opt('allDayHtml') || htmlEscape(this.opt('allDayText'))\n  }\n\n\n  // Computes HTML classNames for a single-day element\n  getDayClasses(date, noThemeHighlight?) {\n    let view = this._getView()\n    let classes = []\n    let today\n\n    if (!this.dateProfile.activeUnzonedRange.containsDate(date)) {\n      classes.push('fc-disabled-day') // TODO: jQuery UI theme?\n    } else {\n      classes.push('fc-' + dayIDs[date.day()])\n\n      if (view.isDateInOtherMonth(date, this.dateProfile)) { // TODO: use DateComponent subclass somehow\n        classes.push('fc-other-month')\n      }\n\n      today = view.calendar.getNow()\n\n      if (date.isSame(today, 'day')) {\n        classes.push('fc-today')\n\n        if (noThemeHighlight !== true) {\n          classes.push(view.calendar.theme.getClass('today'))\n        }\n      } else if (date < today) {\n        classes.push('fc-past')\n      } else {\n        classes.push('fc-future')\n      }\n    }\n\n    return classes\n  }\n\n\n  // Utility for formatting a range. Accepts a range object, formatting string, and optional separator.\n  // Displays all-day ranges naturally, with an inclusive end. Takes the current isRTL into account.\n  // The timezones of the dates within `range` will be respected.\n  formatRange(range, isAllDay, formatStr, separator) {\n    let end = range.end\n\n    if (isAllDay) {\n      end = end.clone().subtract(1) // convert to inclusive. last ms of previous day\n    }\n\n    return formatRange(range.start, end, formatStr, separator, this.isRTL)\n  }\n\n\n  // Compute the number of the give units in the \"current\" range.\n  // Will return a floating-point number. Won't round.\n  currentRangeAs(unit) {\n    return this._getDateProfile().currentUnzonedRange.as(unit)\n  }\n\n\n  // Returns the date range of the full days the given range visually appears to occupy.\n  // Returns a plain object with start/end, NOT an UnzonedRange!\n  computeDayRange(unzonedRange) {\n    let calendar = this._getCalendar()\n    let startDay = calendar.msToUtcMoment(unzonedRange.startMs, true) // the beginning of the day the range starts\n    let end = calendar.msToUtcMoment(unzonedRange.endMs)\n    let endTimeMS = +end.time() // # of milliseconds into `endDay`\n    let endDay = end.clone().stripTime() // the beginning of the day the range exclusively ends\n\n    // If the end time is actually inclusively part of the next day and is equal to or\n    // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n    // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n    if (endTimeMS && endTimeMS >= this.nextDayThreshold) {\n      endDay.add(1, 'days')\n    }\n\n    // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n    if (endDay <= startDay) {\n      endDay = startDay.clone().add(1, 'days')\n    }\n\n    return { start: startDay, end: endDay }\n  }\n\n\n  // Does the given range visually appear to occupy more than one day?\n  isMultiDayRange(unzonedRange) {\n    let dayRange = this.computeDayRange(unzonedRange)\n\n    return dayRange.end.diff(dayRange.start, 'days') > 1\n  }\n\n}\n\n\n// legacy\n\nfunction convertEventsPayloadToLegacyArray(eventsPayload) {\n  let eventDefId\n  let eventInstances\n  let legacyEvents = []\n  let i\n\n  for (eventDefId in eventsPayload) {\n    eventInstances = eventsPayload[eventDefId].eventInstances\n\n    for (i = 0; i < eventInstances.length; i++) {\n      legacyEvents.push(\n        eventInstances[i].toLegacy()\n      )\n    }\n  }\n\n  return legacyEvents\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/DateComponent.ts","import * as $ from 'jquery'\nimport * as moment from 'moment'\nimport { capitaliseFirstLetter, debounce } from './util'\nimport { globalDefaults, englishDefaults, rtlDefaults } from './options'\nimport Iterator from './common/Iterator'\nimport GlobalEmitter from './common/GlobalEmitter'\nimport { default as EmitterMixin, EmitterInterface } from './common/EmitterMixin'\nimport { default as ListenerMixin, ListenerInterface } from './common/ListenerMixin'\nimport Toolbar from './Toolbar'\nimport OptionsManager from './OptionsManager'\nimport ViewSpecManager from './ViewSpecManager'\nimport View from './View'\nimport Theme from './theme/Theme'\nimport Constraints from './Constraints'\nimport { getMomentLocaleData } from './locale'\nimport momentExt from './moment-ext'\nimport UnzonedRange from './models/UnzonedRange'\nimport ComponentFootprint from './models/ComponentFootprint'\nimport EventDateProfile from './models/event/EventDateProfile'\nimport EventManager from './models/EventManager'\nimport BusinessHourGenerator from './models/BusinessHourGenerator'\nimport EventSourceParser from './models/event-source/EventSourceParser'\nimport EventDefParser from './models/event/EventDefParser'\nimport SingleEventDef from './models/event/SingleEventDef'\nimport EventDefMutation from './models/event/EventDefMutation'\nimport EventSource from './models/event-source/EventSource'\nimport { getThemeSystemClass } from './theme/ThemeRegistry'\nimport { RangeInput, MomentInput, OptionsInput, EventObjectInput, EventSourceInput } from './types/input-types'\n\n\nexport default class Calendar {\n\n  // not for internal use. use options module directly instead.\n  static defaults: any = globalDefaults\n  static englishDefaults: any = englishDefaults\n  static rtlDefaults: any = rtlDefaults\n\n  on: EmitterInterface['on']\n  one: EmitterInterface['one']\n  off: EmitterInterface['off']\n  trigger: EmitterInterface['trigger']\n  triggerWith: EmitterInterface['triggerWith']\n  hasHandlers: EmitterInterface['hasHandlers']\n  listenTo: ListenerInterface['listenTo']\n  stopListeningTo: ListenerInterface['stopListeningTo']\n\n  view: View // current View object\n  viewsByType: { [viewName: string]: View } // holds all instantiated view instances, current or not\n  currentDate: moment.Moment // unzoned moment. private (public API should use getDate instead)\n  theme: Theme\n  eventManager: EventManager\n  constraints: Constraints\n  optionsManager: OptionsManager\n  viewSpecManager: ViewSpecManager\n  businessHourGenerator: BusinessHourGenerator\n  loadingLevel: number = 0 // number of simultaneous loading tasks\n\n  defaultAllDayEventDuration: moment.Duration\n  defaultTimedEventDuration: moment.Duration\n  localeData: object\n\n  el: JQuery\n  contentEl: JQuery\n  suggestedViewHeight: number\n  ignoreUpdateViewSize: number = 0\n  freezeContentHeightDepth: number = 0\n  windowResizeProxy: any\n\n  header: Toolbar\n  footer: Toolbar\n  toolbarsManager: Iterator\n\n\n  constructor(el: JQuery, overrides: OptionsInput) {\n\n    // declare the current calendar instance relies on GlobalEmitter. needed for garbage collection.\n    // unneeded() is called in destroy.\n    GlobalEmitter.needed()\n\n    this.el = el\n    this.viewsByType = {}\n\n    this.optionsManager = new OptionsManager(this, overrides)\n    this.viewSpecManager = new ViewSpecManager(this.optionsManager, this)\n    this.initMomentInternals() // needs to happen after options hash initialized\n    this.initCurrentDate()\n    this.initEventManager()\n    this.constraints = new Constraints(this.eventManager, this)\n\n    this.constructed()\n  }\n\n\n  constructed() {\n    // useful for monkeypatching. used?\n  }\n\n\n  getView(): View {\n    return this.view\n  }\n\n\n  publiclyTrigger(name: string, triggerInfo) {\n    let optHandler = this.opt(name)\n    let context\n    let args\n\n    if ($.isPlainObject(triggerInfo)) {\n      context = triggerInfo.context\n      args = triggerInfo.args\n    } else if ($.isArray(triggerInfo)) {\n      args = triggerInfo\n    }\n\n    if (context == null) {\n      context = this.el[0] // fallback context\n    }\n\n    if (!args) {\n      args = []\n    }\n\n    this.triggerWith(name, context, args) // Emitter's method\n\n    if (optHandler) {\n      return optHandler.apply(context, args)\n    }\n  }\n\n\n  hasPublicHandlers(name: string): boolean {\n    return this.hasHandlers(name) ||\n      this.opt(name) // handler specified in options\n  }\n\n\n  // Options Public API\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  // public getter/setter\n  option(name: string | object, value?) {\n    let newOptionHash\n\n    if (typeof name === 'string') {\n      if (value === undefined) { // getter\n        return this.optionsManager.get(name)\n      } else { // setter for individual option\n        newOptionHash = {}\n        newOptionHash[name] = value\n        this.optionsManager.add(newOptionHash)\n      }\n    } else if (typeof name === 'object') { // compound setter with object input\n      this.optionsManager.add(name)\n    }\n  }\n\n\n  // private getter\n  opt(name: string) {\n    return this.optionsManager.get(name)\n  }\n\n\n  // View\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  // Given a view name for a custom view or a standard view, creates a ready-to-go View object\n  instantiateView(viewType: string): View {\n    let spec = this.viewSpecManager.getViewSpec(viewType)\n\n    if (!spec) {\n      throw new Error(`View type \"${viewType}\" is not valid`)\n    }\n\n    return new spec['class'](this, spec)\n  }\n\n\n  // Returns a boolean about whether the view is okay to instantiate at some point\n  isValidViewType(viewType: string): boolean {\n    return Boolean(this.viewSpecManager.getViewSpec(viewType))\n  }\n\n\n  changeView(viewName: string, dateOrRange: RangeInput | MomentInput) {\n    if (dateOrRange) {\n      if ((dateOrRange as RangeInput).start && (dateOrRange as RangeInput).end) { // a range\n        this.optionsManager.recordOverrides({ // will not rerender\n          visibleRange: dateOrRange\n        })\n      } else { // a date\n        this.currentDate = this.moment(dateOrRange).stripZone() // just like gotoDate\n      }\n    }\n\n    this.renderView(viewName)\n  }\n\n\n  // Forces navigation to a view for the given date.\n  // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n  zoomTo(newDate: moment.Moment, viewType?: string) {\n    let spec\n\n    viewType = viewType || 'day' // day is default zoom\n    spec = this.viewSpecManager.getViewSpec(viewType) ||\n      this.viewSpecManager.getUnitViewSpec(viewType)\n\n    this.currentDate = newDate.clone()\n    this.renderView(spec ? spec.type : null)\n  }\n\n\n  // Current Date\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  initCurrentDate() {\n    let defaultDateInput = this.opt('defaultDate')\n\n    // compute the initial ambig-timezone date\n    if (defaultDateInput != null) {\n      this.currentDate = this.moment(defaultDateInput).stripZone()\n    } else {\n      this.currentDate = this.getNow() // getNow already returns unzoned\n    }\n  }\n\n\n  prev() {\n    let view = this.view\n    let prevInfo = view.dateProfileGenerator.buildPrev(view.get('dateProfile'))\n\n    if (prevInfo.isValid) {\n      this.currentDate = prevInfo.date\n      this.renderView()\n    }\n  }\n\n\n  next() {\n    let view = this.view\n    let nextInfo = view.dateProfileGenerator.buildNext(view.get('dateProfile'))\n\n    if (nextInfo.isValid) {\n      this.currentDate = nextInfo.date\n      this.renderView()\n    }\n  }\n\n\n  prevYear() {\n    this.currentDate.add(-1, 'years')\n    this.renderView()\n  }\n\n\n  nextYear() {\n    this.currentDate.add(1, 'years')\n    this.renderView()\n  }\n\n\n  today() {\n    this.currentDate = this.getNow() // should deny like prev/next?\n    this.renderView()\n  }\n\n\n  gotoDate(zonedDateInput) {\n    this.currentDate = this.moment(zonedDateInput).stripZone()\n    this.renderView()\n  }\n\n\n  incrementDate(delta) {\n    this.currentDate.add(moment.duration(delta))\n    this.renderView()\n  }\n\n\n  // for external API\n  getDate(): moment.Moment {\n    return this.applyTimezone(this.currentDate) // infuse the calendar's timezone\n  }\n\n\n  // Loading Triggering\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  // Should be called when any type of async data fetching begins\n  pushLoading() {\n    if (!(this.loadingLevel++)) {\n      this.publiclyTrigger('loading', [true, this.view])\n    }\n  }\n\n\n  // Should be called when any type of async data fetching completes\n  popLoading() {\n    if (!(--this.loadingLevel)) {\n      this.publiclyTrigger('loading', [false, this.view])\n    }\n  }\n\n\n  // High-level Rendering\n  // -----------------------------------------------------------------------------------\n\n\n  render() {\n    if (!this.contentEl) {\n      this.initialRender()\n    } else if (this.elementVisible()) {\n      // mainly for the public API\n      this.calcSize()\n      this.updateViewSize()\n    }\n  }\n\n\n  initialRender() {\n    let el = this.el\n\n    el.addClass('fc')\n\n    // event delegation for nav links\n    el.on('click.fc', 'a[data-goto]', (ev) => {\n      let anchorEl = $(ev.currentTarget)\n      let gotoOptions = anchorEl.data('goto') // will automatically parse JSON\n      let date = this.moment(gotoOptions.date)\n      let viewType = gotoOptions.type\n\n      // property like \"navLinkDayClick\". might be a string or a function\n      let customAction = this.view.opt('navLink' + capitaliseFirstLetter(viewType) + 'Click')\n\n      if (typeof customAction === 'function') {\n        customAction(date, ev)\n      } else {\n        if (typeof customAction === 'string') {\n          viewType = customAction\n        }\n        this.zoomTo(date, viewType)\n      }\n    })\n\n    // called immediately, and upon option change\n    this.optionsManager.watch('settingTheme', ['?theme', '?themeSystem'], (opts) => {\n      let themeClass = getThemeSystemClass(opts.themeSystem || opts.theme)\n      let theme = new themeClass(this.optionsManager)\n      let widgetClass = theme.getClass('widget')\n\n      this.theme = theme\n\n      if (widgetClass) {\n        el.addClass(widgetClass)\n      }\n    }, () => {\n      let widgetClass = this.theme.getClass('widget')\n\n      this.theme = null\n\n      if (widgetClass) {\n        el.removeClass(widgetClass)\n      }\n    })\n\n    this.optionsManager.watch('settingBusinessHourGenerator', ['?businessHours'], (deps) => {\n      this.businessHourGenerator = new BusinessHourGenerator(deps.businessHours, this)\n\n      if (this.view) {\n        this.view.set('businessHourGenerator', this.businessHourGenerator)\n      }\n    }, () => {\n      this.businessHourGenerator = null\n    })\n\n    // called immediately, and upon option change.\n    // HACK: locale often affects isRTL, so we explicitly listen to that too.\n    this.optionsManager.watch('applyingDirClasses', ['?isRTL', '?locale'], (opts) => {\n      el.toggleClass('fc-ltr', !opts.isRTL)\n      el.toggleClass('fc-rtl', opts.isRTL)\n    })\n\n    this.contentEl = $(\"<div class='fc-view-container'/>\").prependTo(el)\n\n    this.initToolbars()\n    this.renderHeader()\n    this.renderFooter()\n    this.renderView(this.opt('defaultView'))\n\n    if (this.opt('handleWindowResize')) {\n      $(window).resize(\n        this.windowResizeProxy = debounce( // prevents rapid calls\n          this.windowResize.bind(this),\n          this.opt('windowResizeDelay')\n        )\n      )\n    }\n  }\n\n\n  destroy() {\n    if (this.view) {\n      this.clearView()\n    }\n\n    this.toolbarsManager.proxyCall('removeElement')\n    this.contentEl.remove()\n    this.el.removeClass('fc fc-ltr fc-rtl')\n\n    // removes theme-related root className\n    this.optionsManager.unwatch('settingTheme')\n    this.optionsManager.unwatch('settingBusinessHourGenerator')\n\n    this.el.off('.fc') // unbind nav link handlers\n\n    if (this.windowResizeProxy) {\n      $(window).unbind('resize', this.windowResizeProxy)\n      this.windowResizeProxy = null\n    }\n\n    GlobalEmitter.unneeded()\n  }\n\n\n  elementVisible(): boolean {\n    return this.el.is(':visible')\n  }\n\n\n  // Render Queue\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  bindViewHandlers(view) {\n\n    view.watch('titleForCalendar', ['title'], (deps) => { // TODO: better system\n      if (view === this.view) { // hack\n        this.setToolbarsTitle(deps.title)\n      }\n    })\n\n    view.watch('dateProfileForCalendar', ['dateProfile'], (deps) => {\n      if (view === this.view) { // hack\n        this.currentDate = deps.dateProfile.date // might have been constrained by view dates\n        this.updateToolbarButtons(deps.dateProfile)\n      }\n    })\n  }\n\n\n  unbindViewHandlers(view) {\n    view.unwatch('titleForCalendar')\n    view.unwatch('dateProfileForCalendar')\n  }\n\n\n  // View Rendering\n  // -----------------------------------------------------------------------------------\n\n\n  // Renders a view because of a date change, view-type change, or for the first time.\n  // If not given a viewType, keep the current view but render different dates.\n  // Accepts an optional scroll state to restore to.\n  renderView(viewType?: string, subViewType?: string) {\n    let oldView = this.view\n    let newView\n\n    this.freezeContentHeight()\n\n    if (oldView && viewType && oldView.type !== viewType) {\n      this.clearView()\n    }\n\n    // if viewType changed, or the view was never created, create a fresh view\n    if (!this.view && viewType) {\n      newView = this.view =\n        this.viewsByType[viewType] ||\n        (this.viewsByType[viewType] = this.instantiateView(viewType))\n\n      this.bindViewHandlers(newView)\n\n      newView.startBatchRender() // so that setElement+setDate rendering are joined\n      // let buttonOptionListWeek = \"<button class='optionListWeek' value='week'>Week</button> <button class='optionListWeek' value='day'>Day</button>\"\n      // $(this.contentEl).find('.optionListWeek').remove()\n      // if (viewType === 'listWeek') {\n      //   if (subViewType) {\n      //     this.view['subType'] = subViewType\n      //   } else {\n      //     this.view['subType'] = 'week'\n      //   }\n      //   $(this.contentEl).append(buttonOptionListWeek)\n      //   $(this.contentEl).find('.optionListWeek').click((el: any) => {\n      //     $(el).addClass('fc-state-active')\n      //     if (el.target.value === 'week') {\n      //       this.clearView()\n      //       this.renderView('listWeek', 'week')\n      //     } else if (el.target.value === 'day') {\n      //       this.clearView()\n      //       this.renderView('listWeek', 'day')\n      //     }\n      //   })\n      // }\n      newView.setElement(\n        $(\"<div class='fc-view fc-\" + viewType + \"-view' />\").appendTo(this.contentEl)\n      )\n\n      this.toolbarsManager.proxyCall('activateButton', viewType)\n    }\n    if (this.view) {\n\n      // prevent unnecessary change firing\n      if (this.view.get('businessHourGenerator') !== this.businessHourGenerator) {\n        this.view.set('businessHourGenerator', this.businessHourGenerator)\n      }\n\n      this.view.setDate(this.currentDate)\n\n      if (newView) {\n        newView.stopBatchRender()\n      }\n    }\n\n    this.thawContentHeight()\n  }\n\n\n  // Unrenders the current view and reflects this change in the Header.\n  // Unregsiters the `view`, but does not remove from viewByType hash.\n  clearView() {\n    let currentView = this.view\n\n    this.toolbarsManager.proxyCall('deactivateButton', currentView.type)\n\n    this.unbindViewHandlers(currentView)\n\n    currentView.removeElement()\n    currentView.unsetDate() // so bindViewHandlers doesn't fire with old values next time\n\n    this.view = null\n  }\n\n\n  // Destroys the view, including the view object. Then, re-instantiates it and renders it.\n  // Maintains the same scroll state.\n  // TODO: maintain any other user-manipulated state.\n  reinitView() {\n    let oldView = this.view\n    let scroll = oldView.queryScroll() // wouldn't be so complicated if Calendar owned the scroll\n    this.freezeContentHeight()\n\n    this.clearView()\n    this.calcSize()\n    this.renderView(oldView.type) // needs the type to freshly render\n\n    this.view.applyScroll(scroll)\n    this.thawContentHeight()\n  }\n\n\n  // Resizing\n  // -----------------------------------------------------------------------------------\n\n\n  getSuggestedViewHeight(): number {\n    if (this.suggestedViewHeight == null) {\n      this.calcSize()\n    }\n    return this.suggestedViewHeight\n  }\n\n\n  isHeightAuto(): boolean {\n    return this.opt('contentHeight') === 'auto' || this.opt('height') === 'auto'\n  }\n\n\n  updateViewSize(isResize: boolean = false) {\n    let view = this.view\n    let scroll\n\n    if (!this.ignoreUpdateViewSize && view) {\n\n      if (isResize) {\n        this.calcSize()\n        scroll = view.queryScroll()\n      }\n\n      this.ignoreUpdateViewSize++\n\n      view.updateSize(\n        this.getSuggestedViewHeight(),\n        this.isHeightAuto(),\n        isResize\n      )\n\n      this.ignoreUpdateViewSize--\n\n      if (isResize) {\n        view.applyScroll(scroll)\n      }\n\n      return true // signal success\n    }\n  }\n\n\n  calcSize() {\n    if (this.elementVisible()) {\n      this._calcSize()\n    }\n  }\n\n\n  _calcSize() { // assumes elementVisible\n    let contentHeightInput = this.opt('contentHeight')\n    let heightInput = this.opt('height')\n\n    if (typeof contentHeightInput === 'number') { // exists and not 'auto'\n      this.suggestedViewHeight = contentHeightInput\n    } else if (typeof contentHeightInput === 'function') { // exists and is a function\n      this.suggestedViewHeight = contentHeightInput()\n    } else if (typeof heightInput === 'number') { // exists and not 'auto'\n      this.suggestedViewHeight = heightInput - this.queryToolbarsHeight()\n    } else if (typeof heightInput === 'function') { // exists and is a function\n      this.suggestedViewHeight = heightInput() - this.queryToolbarsHeight()\n    } else if (heightInput === 'parent') { // set to height of parent element\n      this.suggestedViewHeight = this.el.parent().height() - this.queryToolbarsHeight()\n    } else {\n      this.suggestedViewHeight = Math.round(\n        this.contentEl.width() /\n        Math.max(this.opt('aspectRatio'), .5)\n      )\n    }\n  }\n\n\n  windowResize(ev: JQueryEventObject) {\n    if (\n      // the purpose: so we don't process jqui \"resize\" events that have bubbled up\n      // cast to any because .target, which is Element, can't be compared to window for some reason.\n      (ev as any).target === window &&\n      this.view &&\n      this.view.isDatesRendered\n    ) {\n      if (this.updateViewSize(true)) { // isResize=true, returns true on success\n        this.publiclyTrigger('windowResize', [this.view])\n      }\n    }\n  }\n\n\n  /* Height \"Freezing\"\n  -----------------------------------------------------------------------------*/\n\n\n  freezeContentHeight() {\n    if (!(this.freezeContentHeightDepth++)) {\n      this.forceFreezeContentHeight()\n    }\n  }\n\n\n  forceFreezeContentHeight() {\n    this.contentEl.css({\n      width: '100%',\n      height: this.contentEl.height(),\n      overflow: 'hidden'\n    })\n  }\n\n\n  thawContentHeight() {\n    this.freezeContentHeightDepth--\n\n    // always bring back to natural height\n    this.contentEl.css({\n      width: '',\n      height: '',\n      overflow: ''\n    })\n\n    // but if there are future thaws, re-freeze\n    if (this.freezeContentHeightDepth) {\n      this.forceFreezeContentHeight()\n    }\n  }\n\n\n  // Toolbar\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  initToolbars() {\n    this.header = new Toolbar(this, this.computeHeaderOptions())\n    this.footer = new Toolbar(this, this.computeFooterOptions())\n    this.toolbarsManager = new Iterator([this.header, this.footer])\n  }\n\n\n  computeHeaderOptions() {\n    return {\n      extraClasses: 'fc-header-toolbar',\n      layout: this.opt('header')\n    }\n  }\n\n\n  computeFooterOptions() {\n    return {\n      extraClasses: 'fc-footer-toolbar',\n      layout: this.opt('footer')\n    }\n  }\n\n\n  // can be called repeatedly and Header will rerender\n  renderHeader() {\n    let header = this.header\n\n    header.setToolbarOptions(this.computeHeaderOptions())\n    header.render()\n\n    if (header.el) {\n      this.el.prepend(header.el)\n    }\n  }\n\n\n  // can be called repeatedly and Footer will rerender\n  renderFooter() {\n    let footer = this.footer\n\n    footer.setToolbarOptions(this.computeFooterOptions())\n    footer.render()\n\n    if (footer.el) {\n      this.el.append(footer.el)\n    }\n  }\n\n\n  setToolbarsTitle(title: string) {\n    this.toolbarsManager.proxyCall('updateTitle', title)\n  }\n\n\n  updateToolbarButtons(dateProfile) {\n    let now = this.getNow()\n    let view = this.view\n    let todayInfo = view.dateProfileGenerator.build(now)\n    let prevInfo = view.dateProfileGenerator.buildPrev(view.get('dateProfile'))\n    let nextInfo = view.dateProfileGenerator.buildNext(view.get('dateProfile'))\n\n    this.toolbarsManager.proxyCall(\n      (todayInfo.isValid && !dateProfile.currentUnzonedRange.containsDate(now)) ?\n        'enableButton' :\n        'disableButton',\n      'today'\n    )\n\n    this.toolbarsManager.proxyCall(\n      prevInfo.isValid ?\n        'enableButton' :\n        'disableButton',\n      'prev'\n    )\n\n    this.toolbarsManager.proxyCall(\n      nextInfo.isValid ?\n        'enableButton' :\n        'disableButton',\n      'next'\n    )\n  }\n\n\n  queryToolbarsHeight() {\n    return this.toolbarsManager.items.reduce(function (accumulator, toolbar) {\n      let toolbarHeight = toolbar.el ? toolbar.el.outerHeight(true) : 0 // includes margin\n      return accumulator + toolbarHeight\n    }, 0)\n  }\n\n\n  // Selection\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  // this public method receives start/end dates in any format, with any timezone\n  select(zonedStartInput: MomentInput, zonedEndInput?: MomentInput) {\n    this.view.select(\n      this.buildSelectFootprint.apply(this, arguments)\n    )\n  }\n\n\n  unselect() { // safe to be called before renderView\n    if (this.view) {\n      this.view.unselect()\n    }\n  }\n\n\n  // Given arguments to the select method in the API, returns a span (unzoned start/end and other info)\n  buildSelectFootprint(zonedStartInput: MomentInput, zonedEndInput?: MomentInput): ComponentFootprint {\n    let start = this.moment(zonedStartInput).stripZone()\n    let end\n\n    if (zonedEndInput) {\n      end = this.moment(zonedEndInput).stripZone()\n    } else if (start.hasTime()) {\n      end = start.clone().add(this.defaultTimedEventDuration)\n    } else {\n      end = start.clone().add(this.defaultAllDayEventDuration)\n    }\n\n    return new ComponentFootprint(\n      new UnzonedRange(start, end),\n      !start.hasTime()\n    )\n  }\n\n\n  // Date Utils\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  initMomentInternals() {\n\n    this.defaultAllDayEventDuration = moment.duration(this.opt('defaultAllDayEventDuration'))\n    this.defaultTimedEventDuration = moment.duration(this.opt('defaultTimedEventDuration'))\n\n    // Called immediately, and when any of the options change.\n    // Happens before any internal objects rebuild or rerender, because this is very core.\n    this.optionsManager.watch('buildingMomentLocale', [\n      '?locale', '?monthNames', '?monthNamesShort', '?dayNames', '?dayNamesShort',\n      '?firstDay', '?weekNumberCalculation'\n    ], (opts) => {\n      let weekNumberCalculation = opts.weekNumberCalculation\n      let firstDay = opts.firstDay\n      let _week\n\n      // normalize\n      if (weekNumberCalculation === 'iso') {\n        weekNumberCalculation = 'ISO' // normalize\n      }\n\n      let localeData = Object.create( // make a cheap copy\n        getMomentLocaleData(opts.locale) // will fall back to en\n      )\n\n      if (opts.monthNames) {\n        localeData._months = opts.monthNames\n      }\n      if (opts.monthNamesShort) {\n        localeData._monthsShort = opts.monthNamesShort\n      }\n      if (opts.dayNames) {\n        localeData._weekdays = opts.dayNames\n      }\n      if (opts.dayNamesShort) {\n        localeData._weekdaysShort = opts.dayNamesShort\n      }\n\n      if (firstDay == null && weekNumberCalculation === 'ISO') {\n        firstDay = 1\n      }\n      if (firstDay != null) {\n        _week = Object.create(localeData._week) // _week: { dow: # }\n        _week.dow = firstDay\n        localeData._week = _week\n      }\n\n      if ( // whitelist certain kinds of input\n        weekNumberCalculation === 'ISO' ||\n        weekNumberCalculation === 'local' ||\n        typeof weekNumberCalculation === 'function'\n      ) {\n        localeData._fullCalendar_weekCalc = weekNumberCalculation // moment-ext will know what to do with it\n      }\n\n      this.localeData = localeData\n\n      // If the internal current date object already exists, move to new locale.\n      // We do NOT need to do this technique for event dates, because this happens when converting to \"segments\".\n      if (this.currentDate) {\n        this.localizeMoment(this.currentDate) // sets to localeData\n      }\n    })\n  }\n\n\n  // Builds a moment using the settings of the current calendar: timezone and locale.\n  // Accepts anything the vanilla moment() constructor accepts.\n  moment(...args): moment.Moment {\n    let mom\n\n    if (this.opt('timezone') === 'local') {\n      mom = momentExt.apply(null, args)\n\n      // Force the moment to be local, because momentExt doesn't guarantee it.\n      if (mom.hasTime()) { // don't give ambiguously-timed moments a local zone\n        mom.local()\n      }\n    } else if (this.opt('timezone') === 'UTC') {\n      mom = momentExt.utc.apply(null, args) // process as UTC\n    } else {\n      mom = momentExt.parseZone.apply(null, args) // let the input decide the zone\n    }\n\n    this.localizeMoment(mom) // TODO\n\n    return mom\n  }\n\n\n  msToMoment(ms: number, forceAllDay: boolean): moment.Moment {\n    let mom = momentExt.utc(ms) // TODO: optimize by using Date.UTC\n\n    if (forceAllDay) {\n      mom.stripTime()\n    } else {\n      mom = this.applyTimezone(mom) // may or may not apply locale\n    }\n\n    this.localizeMoment(mom)\n\n    return mom\n  }\n\n\n  msToUtcMoment(ms: number, forceAllDay: boolean): moment.Moment {\n    let mom = momentExt.utc(ms) // TODO: optimize by using Date.UTC\n\n    if (forceAllDay) {\n      mom.stripTime()\n    }\n\n    this.localizeMoment(mom)\n\n    return mom\n  }\n\n\n  // Updates the given moment's locale settings to the current calendar locale settings.\n  localizeMoment(mom) {\n    mom._locale = this.localeData\n  }\n\n\n  // Returns a boolean about whether or not the calendar knows how to calculate\n  // the timezone offset of arbitrary dates in the current timezone.\n  getIsAmbigTimezone(): boolean {\n    return this.opt('timezone') !== 'local' && this.opt('timezone') !== 'UTC'\n  }\n\n\n  // Returns a copy of the given date in the current timezone. Has no effect on dates without times.\n  applyTimezone(date: moment.Moment): moment.Moment {\n    if (!date.hasTime()) {\n      return date.clone()\n    }\n\n    let zonedDate = this.moment(date.toArray())\n    let timeAdjust = date.time().asMilliseconds() - zonedDate.time().asMilliseconds()\n    let adjustedZonedDate\n\n    // Safari sometimes has problems with this coersion when near DST. Adjust if necessary. (bug #2396)\n    if (timeAdjust) { // is the time result different than expected?\n      adjustedZonedDate = zonedDate.clone().add(timeAdjust) // add milliseconds\n      if (date.time().asMilliseconds() - adjustedZonedDate.time().asMilliseconds() === 0) { // does it match perfectly now?\n        zonedDate = adjustedZonedDate\n      }\n    }\n\n    return zonedDate\n  }\n\n\n  /*\n  Assumes the footprint is non-open-ended.\n  */\n  footprintToDateProfile(componentFootprint, ignoreEnd = false) {\n    let start = momentExt.utc(componentFootprint.unzonedRange.startMs)\n    let end\n\n    if (!ignoreEnd) {\n      end = momentExt.utc(componentFootprint.unzonedRange.endMs)\n    }\n\n    if (componentFootprint.isAllDay) {\n      start.stripTime()\n\n      if (end) {\n        end.stripTime()\n      }\n    } else {\n      start = this.applyTimezone(start)\n\n      if (end) {\n        end = this.applyTimezone(end)\n      }\n    }\n\n    return new EventDateProfile(start, end, this)\n  }\n\n\n  // Returns a moment for the current date, as defined by the client's computer or from the `now` option.\n  // Will return an moment with an ambiguous timezone.\n  getNow(): moment.Moment {\n    let now = this.opt('now')\n    if (typeof now === 'function') {\n      now = now()\n    }\n    return this.moment(now).stripZone()\n  }\n\n\n  // Produces a human-readable string for the given duration.\n  // Side-effect: changes the locale of the given duration.\n  humanizeDuration(duration: moment.Duration): string {\n    return duration.locale(this.opt('locale')).humanize()\n  }\n\n\n  // will return `null` if invalid range\n  parseUnzonedRange(rangeInput: RangeInput): UnzonedRange {\n    let start = null\n    let end = null\n\n    if (rangeInput.start) {\n      start = this.moment(rangeInput.start).stripZone()\n    }\n\n    if (rangeInput.end) {\n      end = this.moment(rangeInput.end).stripZone()\n    }\n\n    if (!start && !end) {\n      return null\n    }\n\n    if (start && end && end.isBefore(start)) {\n      return null\n    }\n\n    return new UnzonedRange(start, end)\n  }\n\n\n  // Event-Date Utilities\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  initEventManager() {\n    let eventManager = new EventManager(this)\n    let rawSources = this.opt('eventSources') || []\n    let singleRawSource = this.opt('events')\n    if (window['isMobile']) {\n      singleRawSource.forEach(element => {\n        if (element.start !== element.end && element.end) {\n          console.log(element.end)\n          let startDay = moment(JSON.parse(JSON.stringify(element.start)))\n          let endDay = moment(JSON.parse(JSON.stringify(element.end)))\n          let diffDay = endDay.diff(startDay, 'days')\n          element.backupEnd = moment(JSON.parse(JSON.stringify(element.end)))\n          element.end = null\n          for (let i = 1; i < diffDay + 1; i++) {\n            let newElement = JSON.parse(JSON.stringify(element))\n            newElement.start = moment(newElement.start).set('date', moment(newElement.start).get('date') + i).format('YYYY-MM-DD')\n            newElement.backupEnd = moment(JSON.parse(JSON.stringify(element.backupEnd)))\n            newElement.end = null\n            console.log(newElement)\n            singleRawSource.push(newElement)\n          }\n        }\n      })\n    }\n\n    console.log(singleRawSource)\n    console.log(rawSources)\n    this.eventManager = eventManager\n\n    if (singleRawSource) {\n      rawSources.unshift(singleRawSource)\n    }\n\n    eventManager.on('release', (eventsPayload) => {\n      this.trigger('eventsReset', eventsPayload)\n    })\n\n    eventManager.freeze()\n\n    rawSources.forEach((rawSource) => {\n\n      let source = EventSourceParser.parse(rawSource, this)\n\n      if (source) {\n        eventManager.addSource(source)\n      }\n    })\n    eventManager.thaw()\n  }\n\n\n  requestEvents(start: moment.Moment, end: moment.Moment) {\n    return this.eventManager.requestEvents(\n      start,\n      end,\n      this.opt('timezone'),\n      !this.opt('lazyFetching')\n    )\n  }\n\n\n  // Get an event's normalized end date. If not present, calculate it from the defaults.\n  getEventEnd(event): moment.Moment {\n    if (event.end) {\n      return event.end.clone()\n    } else {\n      return this.getDefaultEventEnd(event.allDay, event.start)\n    }\n  }\n\n\n  // Given an event's allDay status and start date, return what its fallback end date should be.\n  // TODO: rename to computeDefaultEventEnd\n  getDefaultEventEnd(allDay: boolean, zonedStart: moment.Moment) {\n    let end = zonedStart.clone()\n\n    if (allDay) {\n      end.stripTime().add(this.defaultAllDayEventDuration)\n    } else {\n      end.add(this.defaultTimedEventDuration)\n    }\n\n    if (this.getIsAmbigTimezone()) {\n      end.stripZone() // we don't know what the tzo should be\n    }\n\n    return end\n  }\n\n\n  // Public Events API\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  rerenderEvents() { // API method. destroys old events if previously rendered.\n    this.view.flash('displayingEvents')\n  }\n\n\n  refetchEvents() {\n    this.eventManager.refetchAllSources()\n  }\n\n\n  renderEvents(eventInputs: EventObjectInput[], isSticky?: boolean) {\n    this.eventManager.freeze()\n\n    for (let i = 0; i < eventInputs.length; i++) {\n      this.renderEvent(eventInputs[i], isSticky)\n    }\n\n    this.eventManager.thaw()\n  }\n\n\n  renderEvent(eventInput: EventObjectInput, isSticky: boolean = false) {\n    let eventManager = this.eventManager\n    let eventDef = EventDefParser.parse(\n      eventInput,\n      eventInput.source || eventManager.stickySource\n    )\n\n    if (eventDef) {\n      eventManager.addEventDef(eventDef, isSticky)\n    }\n  }\n\n\n  // legacyQuery operates on legacy event instance objects\n  removeEvents(legacyQuery) {\n    let eventManager = this.eventManager\n    let legacyInstances = []\n    let idMap = {}\n    let eventDef\n    let i\n\n    if (legacyQuery == null) { // shortcut for removing all\n      eventManager.removeAllEventDefs() // persist=true\n    } else {\n      eventManager.getEventInstances().forEach(function (eventInstance) {\n        legacyInstances.push(eventInstance.toLegacy())\n      })\n\n      legacyInstances = filterLegacyEventInstances(legacyInstances, legacyQuery)\n\n      // compute unique IDs\n      for (i = 0; i < legacyInstances.length; i++) {\n        eventDef = this.eventManager.getEventDefByUid(legacyInstances[i]._id)\n        idMap[eventDef.id] = true\n      }\n\n      eventManager.freeze()\n\n      for (i in idMap) { // reuse `i` as an \"id\"\n        eventManager.removeEventDefsById(i) // persist=true\n      }\n\n      eventManager.thaw()\n    }\n  }\n\n\n  // legacyQuery operates on legacy event instance objects\n  clientEvents(legacyQuery) {\n    let legacyEventInstances = []\n\n    this.eventManager.getEventInstances().forEach(function (eventInstance) {\n      legacyEventInstances.push(eventInstance.toLegacy())\n    })\n\n    return filterLegacyEventInstances(legacyEventInstances, legacyQuery)\n  }\n\n\n  updateEvents(eventPropsArray: EventObjectInput[]) {\n    this.eventManager.freeze()\n\n    for (let i = 0; i < eventPropsArray.length; i++) {\n      this.updateEvent(eventPropsArray[i])\n    }\n\n    this.eventManager.thaw()\n  }\n\n\n  updateEvent(eventProps: EventObjectInput) {\n    let eventDef = this.eventManager.getEventDefByUid(eventProps._id)\n    let eventInstance\n    let eventDefMutation\n\n    if (eventDef instanceof SingleEventDef) {\n      eventInstance = eventDef.buildInstance()\n\n      eventDefMutation = EventDefMutation.createFromRawProps(\n        eventInstance,\n        eventProps, // raw props\n        null // largeUnit -- who uses it?\n      )\n\n      this.eventManager.mutateEventsWithId(eventDef.id, eventDefMutation) // will release\n    }\n  }\n\n\n  // Public Event Sources API\n  // ------------------------------------------------------------------------------------\n\n\n  getEventSources(): EventSource {\n    return this.eventManager.otherSources.slice() // clone\n  }\n\n\n  getEventSourceById(id): EventSource {\n    return this.eventManager.getSourceById(\n      EventSource.normalizeId(id)\n    )\n  }\n\n\n  addEventSource(sourceInput: EventSourceInput) {\n    let source = EventSourceParser.parse(sourceInput, this)\n\n    if (source) {\n      this.eventManager.addSource(source)\n    }\n  }\n\n\n  removeEventSources(sourceMultiQuery) {\n    let eventManager = this.eventManager\n    let sources\n    let i\n\n    if (sourceMultiQuery == null) {\n      this.eventManager.removeAllSources()\n    } else {\n      sources = eventManager.multiQuerySources(sourceMultiQuery)\n\n      eventManager.freeze()\n\n      for (i = 0; i < sources.length; i++) {\n        eventManager.removeSource(sources[i])\n      }\n\n      eventManager.thaw()\n    }\n  }\n\n\n  removeEventSource(sourceQuery) {\n    let eventManager = this.eventManager\n    let sources = eventManager.querySources(sourceQuery)\n    let i\n\n    eventManager.freeze()\n\n    for (i = 0; i < sources.length; i++) {\n      eventManager.removeSource(sources[i])\n    }\n\n    eventManager.thaw()\n  }\n\n\n  refetchEventSources(sourceMultiQuery) {\n    let eventManager = this.eventManager\n    let sources = eventManager.multiQuerySources(sourceMultiQuery)\n    let i\n\n    eventManager.freeze()\n\n    for (i = 0; i < sources.length; i++) {\n      eventManager.refetchSource(sources[i])\n    }\n\n    eventManager.thaw()\n  }\n\n\n}\n\nEmitterMixin.mixInto(Calendar)\nListenerMixin.mixInto(Calendar)\n\n\nfunction filterLegacyEventInstances(legacyEventInstances, legacyQuery) {\n  if (legacyQuery == null) {\n    return legacyEventInstances\n  } else if ($.isFunction(legacyQuery)) {\n    return legacyEventInstances.filter(legacyQuery)\n  } else { // an event ID\n    legacyQuery += '' // normalize to string\n\n    return legacyEventInstances.filter(function (legacyEventInstance) {\n      // soft comparison because id not be normalized to string\n      // tslint:disable-next-line\n      return legacyEventInstance.id == legacyQuery ||\n        legacyEventInstance._id === legacyQuery // can specify internal id, but must exactly match\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Calendar.ts","import * as moment from 'moment'\nimport { computeGreatestUnit, computeDurationGreatestUnit } from './util'\nimport UnzonedRange from './models/UnzonedRange'\n\n\nexport default class DateProfileGenerator {\n\n  _view: any // discourage\n\n\n  constructor(_view) {\n    this._view = _view\n  }\n\n\n  opt(name) {\n    return this._view.opt(name)\n  }\n\n\n  trimHiddenDays(unzonedRange) {\n    return this._view.trimHiddenDays(unzonedRange)\n  }\n\n\n  msToUtcMoment(ms, forceAllDay) {\n    return this._view.calendar.msToUtcMoment(ms, forceAllDay)\n  }\n\n\n  /* Date Range Computation\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n  buildPrev(currentDateProfile) {\n    let prevDate = currentDateProfile.date.clone()\n      .startOf(currentDateProfile.currentRangeUnit)\n      .subtract(currentDateProfile.dateIncrement)\n\n    return this.build(prevDate, -1)\n  }\n\n\n  // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n  buildNext(currentDateProfile) {\n    let nextDate = currentDateProfile.date.clone()\n      .startOf(currentDateProfile.currentRangeUnit)\n      .add(currentDateProfile.dateIncrement)\n\n    return this.build(nextDate, 1)\n  }\n\n\n  // Builds a structure holding dates/ranges for rendering around the given date.\n  // Optional direction param indicates whether the date is being incremented/decremented\n  // from its previous value. decremented = -1, incremented = 1 (default).\n  build(date, direction, forceToValid= false) {\n    let isDateAllDay = !date.hasTime()\n    let validUnzonedRange\n    let minTime = null\n    let maxTime = null\n    let currentInfo\n    let isRangeAllDay\n    let renderUnzonedRange\n    let activeUnzonedRange\n    let isValid\n\n    validUnzonedRange = this.buildValidRange()\n    validUnzonedRange = this.trimHiddenDays(validUnzonedRange)\n\n    if (forceToValid) {\n      date = this.msToUtcMoment(\n        validUnzonedRange.constrainDate(date), // returns MS\n        isDateAllDay\n      )\n    }\n    currentInfo = this.buildCurrentRangeInfo(date, direction)\n    isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit)\n    renderUnzonedRange = this.buildRenderRange(\n      this.trimHiddenDays(currentInfo.unzonedRange),\n      currentInfo.unit,\n      isRangeAllDay\n    )\n    renderUnzonedRange = this.trimHiddenDays(renderUnzonedRange)\n    activeUnzonedRange = renderUnzonedRange.clone()\n\n    if (!this.opt('showNonCurrentDates')) {\n      activeUnzonedRange = activeUnzonedRange.intersect(currentInfo.unzonedRange)\n    }\n\n    minTime = moment.duration(this.opt('minTime'))\n    maxTime = moment.duration(this.opt('maxTime'))\n    activeUnzonedRange = this.adjustActiveRange(activeUnzonedRange, minTime, maxTime)\n    activeUnzonedRange = activeUnzonedRange.intersect(validUnzonedRange) // might return null\n\n    if (activeUnzonedRange) {\n      date = this.msToUtcMoment(\n        activeUnzonedRange.constrainDate(date), // returns MS\n        isDateAllDay\n      )\n    }\n\n    // it's invalid if the originally requested date is not contained,\n    // or if the range is completely outside of the valid range.\n    isValid = currentInfo.unzonedRange.intersectsWith(validUnzonedRange)\n\n    return {\n      // constraint for where prev/next operations can go and where events can be dragged/resized to.\n      // an object with optional start and end properties.\n      validUnzonedRange: validUnzonedRange,\n\n      // range the view is formally responsible for.\n      // for example, a month view might have 1st-31st, excluding padded dates\n      currentUnzonedRange: currentInfo.unzonedRange,\n\n      // name of largest unit being displayed, like \"month\" or \"week\"\n      currentRangeUnit: currentInfo.unit,\n\n      isRangeAllDay: isRangeAllDay,\n\n      // dates that display events and accept drag-n-drop\n      // will be `null` if no dates accept events\n      activeUnzonedRange: activeUnzonedRange,\n\n      // date range with a rendered skeleton\n      // includes not-active days that need some sort of DOM\n      renderUnzonedRange: renderUnzonedRange,\n\n      // Duration object that denotes the first visible time of any given day\n      minTime: minTime,\n\n      // Duration object that denotes the exclusive visible end time of any given day\n      maxTime: maxTime,\n\n      isValid: isValid,\n\n      date: date,\n\n      // how far the current date will move for a prev/next operation\n      dateIncrement: this.buildDateIncrement(currentInfo.duration)\n        // pass a fallback (might be null) ^\n    }\n  }\n\n\n  // Builds an object with optional start/end properties.\n  // Indicates the minimum/maximum dates to display.\n  // not responsible for trimming hidden days.\n  buildValidRange() {\n    return this._view.getUnzonedRangeOption('validRange', this._view.calendar.getNow()) ||\n      new UnzonedRange() // completely open-ended\n  }\n\n\n  // Builds a structure with info about the \"current\" range, the range that is\n  // highlighted as being the current month for example.\n  // See build() for a description of `direction`.\n  // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n  // TODO: accept a MS-time instead of a moment `date`?\n  buildCurrentRangeInfo(date, direction) {\n    let viewSpec = this._view.viewSpec\n    let duration = null\n    let unit = null\n    let unzonedRange = null\n    let dayCount\n\n    if (viewSpec.duration) {\n      duration = viewSpec.duration\n      unit = viewSpec.durationUnit\n      unzonedRange = this.buildRangeFromDuration(date, direction, duration, unit)\n    } else if ((dayCount = this.opt('dayCount'))) {\n      unit = 'day'\n      unzonedRange = this.buildRangeFromDayCount(date, direction, dayCount)\n    } else if ((unzonedRange = this.buildCustomVisibleRange(date))) {\n      unit = computeGreatestUnit(unzonedRange.getStart(), unzonedRange.getEnd())\n    } else {\n      duration = this.getFallbackDuration()\n      unit = computeGreatestUnit(duration)\n      unzonedRange = this.buildRangeFromDuration(date, direction, duration, unit)\n    }\n\n    return { duration: duration, unit: unit, unzonedRange: unzonedRange }\n  }\n\n\n  getFallbackDuration() {\n    return moment.duration({ days: 1 })\n  }\n\n\n  // Returns a new activeUnzonedRange to have time values (un-ambiguate)\n  // minTime or maxTime causes the range to expand.\n  adjustActiveRange(unzonedRange, minTime, maxTime) {\n    let start = unzonedRange.getStart()\n    let end = unzonedRange.getEnd()\n\n    if (this._view.usesMinMaxTime) {\n\n      if (minTime < 0) {\n        start.time(0).add(minTime)\n      }\n\n      if (maxTime > 24 * 60 * 60 * 1000) { // beyond 24 hours?\n        end.time(maxTime - (24 * 60 * 60 * 1000))\n      }\n    }\n\n    return new UnzonedRange(start, end)\n  }\n\n\n  // Builds the \"current\" range when it is specified as an explicit duration.\n  // `unit` is the already-computed computeGreatestUnit value of duration.\n  // TODO: accept a MS-time instead of a moment `date`?\n  buildRangeFromDuration(date, direction, duration, unit) {\n    let alignment = this.opt('dateAlignment')\n    let dateIncrementInput\n    let dateIncrementDuration\n    let start\n    let end\n    let res\n\n    // compute what the alignment should be\n    if (!alignment) {\n      dateIncrementInput = this.opt('dateIncrement')\n\n      if (dateIncrementInput) {\n        dateIncrementDuration = moment.duration(dateIncrementInput)\n\n        // use the smaller of the two units\n        if (dateIncrementDuration < duration) {\n          alignment = computeDurationGreatestUnit(dateIncrementDuration, dateIncrementInput)\n        } else {\n          alignment = unit\n        }\n      } else {\n        alignment = unit\n      }\n    }\n\n    // if the view displays a single day or smaller\n    if (duration.as('days') <= 1) {\n      if (this._view.isHiddenDay(start)) {\n        start = this._view.skipHiddenDays(start, direction)\n        start.startOf('day')\n      }\n    }\n\n    function computeRes() {\n      start = date.clone().startOf(alignment)\n      end = start.clone().add(duration)\n      res = new UnzonedRange(start, end)\n    }\n\n    computeRes()\n\n    // if range is completely enveloped by hidden days, go past the hidden days\n    if (!this.trimHiddenDays(res)) {\n      date = this._view.skipHiddenDays(date, direction)\n      computeRes()\n    }\n\n    return res\n  }\n\n\n  // Builds the \"current\" range when a dayCount is specified.\n  // TODO: accept a MS-time instead of a moment `date`?\n  buildRangeFromDayCount(date, direction, dayCount) {\n    let customAlignment = this.opt('dateAlignment')\n    let runningCount = 0\n    let start = date.clone()\n    let end\n\n    if (customAlignment) {\n      start.startOf(customAlignment)\n    }\n\n    start.startOf('day')\n    start = this._view.skipHiddenDays(start, direction)\n\n    end = start.clone()\n    do {\n      end.add(1, 'day')\n      if (!this._view.isHiddenDay(end)) {\n        runningCount++\n      }\n    } while (runningCount < dayCount)\n\n    return new UnzonedRange(start, end)\n  }\n\n\n  // Builds a normalized range object for the \"visible\" range,\n  // which is a way to define the currentUnzonedRange and activeUnzonedRange at the same time.\n  // TODO: accept a MS-time instead of a moment `date`?\n  buildCustomVisibleRange(date) {\n    let visibleUnzonedRange = this._view.getUnzonedRangeOption(\n      'visibleRange',\n      this._view.calendar.applyTimezone(date) // correct zone. also generates new obj that avoids mutations\n    )\n\n    if (visibleUnzonedRange && (visibleUnzonedRange.startMs == null || visibleUnzonedRange.endMs == null)) {\n      return null\n    }\n\n    return visibleUnzonedRange\n  }\n\n\n  // Computes the range that will represent the element/cells for *rendering*,\n  // but which may have voided days/times.\n  // not responsible for trimming hidden days.\n  buildRenderRange(currentUnzonedRange, currentRangeUnit, isRangeAllDay) {\n    return currentUnzonedRange.clone()\n  }\n\n\n  // Compute the duration value that should be added/substracted to the current date\n  // when a prev/next operation happens.\n  buildDateIncrement(fallback) {\n    let dateIncrementInput = this.opt('dateIncrement')\n    let customAlignment\n\n    if (dateIncrementInput) {\n      return moment.duration(dateIncrementInput)\n    } else if ((customAlignment = this.opt('dateAlignment'))) {\n      return moment.duration(1, customAlignment)\n    } else if (fallback) {\n      return fallback\n    } else {\n      return moment.duration({ days: 1 })\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/DateProfileGenerator.ts","import * as $ from 'jquery'\nimport * as moment from 'moment'\nimport * as exportHooks from '../../exports'\nimport { disableCursor, enableCursor } from '../../util'\nimport momentExt from '../../moment-ext'\nimport { default as ListenerMixin, ListenerInterface } from '../../common/ListenerMixin'\nimport HitDragListener from '../../common/HitDragListener'\nimport SingleEventDef from '../../models/event/SingleEventDef'\nimport EventInstanceGroup from '../../models/event/EventInstanceGroup'\nimport EventSource from '../../models/event-source/EventSource'\nimport Interaction from './Interaction'\n\n\nexport default class ExternalDropping extends Interaction {\n\n  listenTo: ListenerInterface['listenTo']\n  stopListeningTo: ListenerInterface['stopListeningTo']\n\n  dragListener: any\n  isDragging: boolean = false // jqui-dragging an external element? boolean\n\n\n  /*\n  component impements:\n    - eventRangesToEventFootprints\n    - isEventInstanceGroupAllowed\n    - isExternalInstanceGroupAllowed\n    - renderDrag\n    - unrenderDrag\n  */\n\n\n  end() {\n    if (this.dragListener) {\n      this.dragListener.endInteraction()\n    }\n  }\n\n\n  bindToDocument() {\n    this.listenTo($(document), {\n      dragstart: this.handleDragStart, // jqui\n      sortstart: this.handleDragStart // jqui\n    })\n  }\n\n\n  unbindFromDocument() {\n    this.stopListeningTo($(document))\n  }\n\n\n  // Called when a jQuery UI drag is initiated anywhere in the DOM\n  handleDragStart(ev, ui) {\n    let el\n    let accept\n\n    if (this.opt('droppable')) { // only listen if this setting is on\n      el = $((ui ? ui.item : null) || ev.target)\n\n      // Test that the dragged element passes the dropAccept selector or filter function.\n      // FYI, the default is \"*\" (matches all)\n      accept = this.opt('dropAccept')\n      if ($.isFunction(accept) ? accept.call(el[0], el) : el.is(accept)) {\n        if (!this.isDragging) { // prevent double-listening if fired twice\n          this.listenToExternalDrag(el, ev, ui)\n        }\n      }\n    }\n  }\n\n\n  // Called when a jQuery UI drag starts and it needs to be monitored for dropping\n  listenToExternalDrag(el, ev, ui) {\n    let component = this.component\n    let view = this.view\n    let meta = getDraggedElMeta(el) // extra data about event drop, including possible event to create\n    let singleEventDef // a null value signals an unsuccessful drag\n\n    // listener that tracks mouse movement over date-associated pixel regions\n    let dragListener = this.dragListener = new HitDragListener(component, {\n      interactionStart: () => {\n        this.isDragging = true\n      },\n      hitOver: (hit) => {\n        let isAllowed = true\n        let hitFootprint = hit.component.getSafeHitFootprint(hit) // hit might not belong to this grid\n        let mutatedEventInstanceGroup\n\n        if (hitFootprint) {\n          singleEventDef = this.computeExternalDrop(hitFootprint, meta)\n\n          if (singleEventDef) {\n            mutatedEventInstanceGroup = new EventInstanceGroup(\n              singleEventDef.buildInstances()\n            )\n            isAllowed = meta.eventProps ? // isEvent?\n              component.isEventInstanceGroupAllowed(mutatedEventInstanceGroup) :\n              component.isExternalInstanceGroupAllowed(mutatedEventInstanceGroup)\n          } else {\n            isAllowed = false\n          }\n        } else {\n          isAllowed = false\n        }\n\n        if (!isAllowed) {\n          singleEventDef = null\n          disableCursor()\n        }\n\n        if (singleEventDef) {\n          component.renderDrag( // called without a seg parameter\n            component.eventRangesToEventFootprints(\n              mutatedEventInstanceGroup.sliceRenderRanges(component.dateProfile.renderUnzonedRange, view.calendar)\n            )\n          )\n        }\n      },\n      hitOut: () => {\n        singleEventDef = null // signal unsuccessful\n      },\n      hitDone: () => { // Called after a hitOut OR before a dragEnd\n        enableCursor()\n        component.unrenderDrag()\n      },\n      interactionEnd: (ev) => {\n\n        if (singleEventDef) { // element was dropped on a valid hit\n          view.reportExternalDrop(\n            singleEventDef,\n            Boolean(meta.eventProps), // isEvent\n            Boolean(meta.stick), // isSticky\n            el, ev, ui\n          )\n        }\n\n        this.isDragging = false\n        this.dragListener = null\n      }\n    })\n\n    dragListener.startDrag(ev) // start listening immediately\n  }\n\n\n  // Given a hit to be dropped upon, and misc data associated with the jqui drag (guaranteed to be a plain object),\n  // returns the zoned start/end dates for the event that would result from the hypothetical drop. end might be null.\n  // Returning a null value signals an invalid drop hit.\n  // DOES NOT consider overlap/constraint.\n  // Assumes both footprints are non-open-ended.\n  computeExternalDrop(componentFootprint, meta) {\n    let calendar = this.view.calendar\n    let start = momentExt.utc(componentFootprint.unzonedRange.startMs).stripZone()\n    let end\n    let eventDef\n\n    if (componentFootprint.isAllDay) {\n      // if dropped on an all-day span, and element's metadata specified a time, set it\n      if (meta.startTime) {\n        start.time(meta.startTime)\n      } else {\n        start.stripTime()\n      }\n    }\n\n    if (meta.duration) {\n      end = start.clone().add(meta.duration)\n    }\n\n    start = calendar.applyTimezone(start)\n\n    if (end) {\n      end = calendar.applyTimezone(end)\n    }\n\n    eventDef = SingleEventDef.parse(\n      $.extend({}, meta.eventProps, {\n        start: start,\n        end: end\n      }),\n      new EventSource(calendar)\n    )\n\n    return eventDef\n  }\n\n}\n\nListenerMixin.mixInto(ExternalDropping);\n\n\n/* External-Dragging-Element Data\n----------------------------------------------------------------------------------------------------------------------*/\n\n// Require all HTML5 data-* attributes used by FullCalendar to have this prefix.\n// A value of '' will query attributes like data-event. A value of 'fc' will query attributes like data-fc-event.\n(exportHooks as any).dataAttrPrefix = ''\n\n// Given a jQuery element that might represent a dragged FullCalendar event, returns an intermediate data structure\n// to be used for Event Object creation.\n// A defined `.eventProps`, even when empty, indicates that an event should be created.\nfunction getDraggedElMeta(el) {\n  let prefix = (exportHooks as any).dataAttrPrefix\n  let eventProps // properties for creating the event, not related to date/time\n  let startTime // a Duration\n  let duration\n  let stick\n\n  if (prefix) { prefix += '-' }\n  eventProps = el.data(prefix + 'event') || null\n\n  if (eventProps) {\n    if (typeof eventProps === 'object') {\n      eventProps = $.extend({}, eventProps) // make a copy\n    } else { // something like 1 or true. still signal event creation\n      eventProps = {}\n    }\n\n    // pluck special-cased date/time properties\n    startTime = eventProps.start\n    if (startTime == null) { startTime = eventProps.time } // accept 'time' as well\n    duration = eventProps.duration\n    stick = eventProps.stick\n    delete eventProps.start\n    delete eventProps.time\n    delete eventProps.duration\n    delete eventProps.stick\n  }\n\n  // fallback to standalone attribute values for each of the date/time properties\n  if (startTime == null) { startTime = el.data(prefix + 'start') }\n  if (startTime == null) { startTime = el.data(prefix + 'time') } // accept 'time' as well\n  if (duration == null) { duration = el.data(prefix + 'duration') }\n  if (stick == null) { stick = el.data(prefix + 'stick') }\n\n  // massage into correct data types\n  startTime = startTime != null ? moment.duration(startTime) : null\n  duration = duration != null ? moment.duration(duration) : null\n  stick = Boolean(stick)\n\n  return { eventProps: eventProps, startTime: startTime, duration: duration, stick: stick }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/interactions/ExternalDropping.ts","import * as $ from 'jquery'\nimport { disableCursor, enableCursor } from '../../util'\nimport EventDefMutation from '../../models/event/EventDefMutation'\nimport EventDefDateMutation from '../../models/event/EventDefDateMutation'\nimport HitDragListener from '../../common/HitDragListener'\nimport Interaction from './Interaction'\n\n\nexport default class EventResizing extends Interaction {\n\n  eventPointing: any\n  dragListener: any\n  isResizing: boolean = false\n\n\n  /*\n  component impements:\n    - bindSegHandlerToEl\n    - publiclyTrigger\n    - diffDates\n    - eventRangesToEventFootprints\n    - isEventInstanceGroupAllowed\n    - getSafeHitFootprint\n  */\n\n\n  constructor(component, eventPointing) {\n    super(component)\n    this.eventPointing = eventPointing\n  }\n\n\n  end() {\n    if (this.dragListener) {\n      this.dragListener.endInteraction()\n    }\n  }\n\n\n  bindToEl(el) {\n    let component = this.component\n\n    component.bindSegHandlerToEl(el, 'mousedown', this.handleMouseDown.bind(this))\n    component.bindSegHandlerToEl(el, 'touchstart', this.handleTouchStart.bind(this))\n  }\n\n\n  handleMouseDown(seg, ev) {\n    if (this.component.canStartResize(seg, ev)) {\n      this.buildDragListener(seg, $(ev.target).is('.fc-start-resizer'))\n        .startInteraction(ev, { distance: 5 })\n    }\n  }\n\n\n  handleTouchStart(seg, ev) {\n    if (this.component.canStartResize(seg, ev)) {\n      this.buildDragListener(seg, $(ev.target).is('.fc-start-resizer'))\n        .startInteraction(ev)\n    }\n  }\n\n\n  // Creates a listener that tracks the user as they resize an event segment.\n  // Generic enough to work with any type of Grid.\n  buildDragListener(seg, isStart) {\n    let component = this.component\n    let view = this.view\n    let calendar = view.calendar\n    let eventManager = calendar.eventManager\n    let el = seg.el\n    let eventDef = seg.footprint.eventDef\n    let eventInstance = seg.footprint.eventInstance\n    let isDragging\n    let resizeMutation // zoned event date properties. falsy if invalid resize\n\n    // Tracks mouse movement over the *grid's* coordinate map\n    let dragListener = this.dragListener = new HitDragListener(component, {\n      scroll: this.opt('dragScroll'),\n      subjectEl: el,\n      interactionStart: () => {\n        isDragging = false\n      },\n      dragStart: (ev) => {\n        isDragging = true\n\n        // ensure a mouseout on the manipulated event has been reported\n        this.eventPointing.handleMouseout(seg, ev)\n\n        this.segResizeStart(seg, ev)\n      },\n      hitOver: (hit, isOrig, origHit) => {\n        let isAllowed = true\n        let origHitFootprint = component.getSafeHitFootprint(origHit)\n        let hitFootprint = component.getSafeHitFootprint(hit)\n        let mutatedEventInstanceGroup\n\n        if (origHitFootprint && hitFootprint) {\n          resizeMutation = isStart ?\n            this.computeEventStartResizeMutation(origHitFootprint, hitFootprint, seg.footprint) :\n            this.computeEventEndResizeMutation(origHitFootprint, hitFootprint, seg.footprint)\n\n          if (resizeMutation) {\n            mutatedEventInstanceGroup = eventManager.buildMutatedEventInstanceGroup(\n              eventDef.id,\n              resizeMutation\n            )\n            isAllowed = component.isEventInstanceGroupAllowed(mutatedEventInstanceGroup)\n          } else {\n            isAllowed = false\n          }\n        } else {\n          isAllowed = false\n        }\n\n        if (!isAllowed) {\n          resizeMutation = null\n          disableCursor()\n        } else if (resizeMutation.isEmpty()) {\n          // no change. (FYI, event dates might have zones)\n          resizeMutation = null\n        }\n\n        if (resizeMutation) {\n          view.hideEventsWithId(seg.footprint.eventDef.id)\n          view.renderEventResize(\n            component.eventRangesToEventFootprints(\n              mutatedEventInstanceGroup.sliceRenderRanges(component.dateProfile.renderUnzonedRange, calendar)\n            ),\n            seg\n          )\n        }\n      },\n      hitOut: () => { // called before mouse moves to a different hit OR moved out of all hits\n        resizeMutation = null\n      },\n      hitDone: () => { // resets the rendering to show the original event\n        view.unrenderEventResize(seg)\n        view.showEventsWithId(seg.footprint.eventDef.id)\n        enableCursor()\n      },\n      interactionEnd: (ev) => {\n        if (isDragging) {\n          this.segResizeStop(seg, ev)\n        }\n\n        if (resizeMutation) { // valid date to resize to?\n          // no need to re-show original, will rerender all anyways. esp important if eventRenderWait\n          view.reportEventResize(eventInstance, resizeMutation, el, ev)\n        }\n\n        this.dragListener = null\n      }\n    })\n\n    return dragListener\n  }\n\n\n  // Called before event segment resizing starts\n  segResizeStart(seg, ev) {\n    this.isResizing = true\n    this.component.publiclyTrigger('eventResizeStart', {\n      context: seg.el[0],\n      args: [\n        seg.footprint.getEventLegacy(),\n        ev,\n        {}, // jqui dummy\n        this.view\n      ]\n    })\n  }\n\n\n  // Called after event segment resizing stops\n  segResizeStop(seg, ev) {\n    this.isResizing = false\n    this.component.publiclyTrigger('eventResizeStop', {\n      context: seg.el[0],\n      args: [\n        seg.footprint.getEventLegacy(),\n        ev,\n        {}, // jqui dummy\n        this.view\n      ]\n    })\n  }\n\n\n  // Returns new date-information for an event segment being resized from its start\n  computeEventStartResizeMutation(startFootprint, endFootprint, origEventFootprint) {\n    let origRange = origEventFootprint.componentFootprint.unzonedRange\n    let startDelta = this.component.diffDates(\n      endFootprint.unzonedRange.getStart(),\n      startFootprint.unzonedRange.getStart()\n    )\n    let dateMutation\n    let eventDefMutation\n\n    if (origRange.getStart().add(startDelta) < origRange.getEnd()) {\n\n      dateMutation = new EventDefDateMutation()\n      dateMutation.setStartDelta(startDelta)\n\n      eventDefMutation = new EventDefMutation()\n      eventDefMutation.setDateMutation(dateMutation)\n\n      return eventDefMutation\n    }\n\n    return false\n  }\n\n\n  // Returns new date-information for an event segment being resized from its end\n  computeEventEndResizeMutation(startFootprint, endFootprint, origEventFootprint) {\n    let origRange = origEventFootprint.componentFootprint.unzonedRange\n    let endDelta = this.component.diffDates(\n      endFootprint.unzonedRange.getEnd(),\n      startFootprint.unzonedRange.getEnd()\n    )\n    let dateMutation\n    let eventDefMutation\n\n    if (origRange.getEnd().add(endDelta) > origRange.getStart()) {\n\n      dateMutation = new EventDefDateMutation()\n      dateMutation.setEndDelta(endDelta)\n\n      eventDefMutation = new EventDefMutation()\n      eventDefMutation.setDateMutation(dateMutation)\n\n      return eventDefMutation\n    }\n\n    return false\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/interactions/EventResizing.ts","import { enableCursor, disableCursor } from '../../util'\nimport EventDefMutation from '../../models/event/EventDefMutation'\nimport EventDefDateMutation from '../../models/event/EventDefDateMutation'\nimport DragListener from '../../common/DragListener'\nimport HitDragListener from '../../common/HitDragListener'\nimport MouseFollower from '../../common/MouseFollower'\nimport Interaction from './Interaction'\n\n\nexport default class EventDragging extends Interaction {\n\n  eventPointing: any\n  dragListener: any\n  isDragging: boolean = false\n\n\n  /*\n  component implements:\n    - bindSegHandlerToEl\n    - publiclyTrigger\n    - diffDates\n    - eventRangesToEventFootprints\n    - isEventInstanceGroupAllowed\n  */\n  constructor(component, eventPointing) {\n    super(component)\n    this.eventPointing = eventPointing\n  }\n\n\n  end() {\n    if (this.dragListener) {\n      this.dragListener.endInteraction()\n    }\n  }\n\n\n  getSelectionDelay() {\n    let delay = this.opt('eventLongPressDelay')\n\n    if (delay == null) {\n      delay = this.opt('longPressDelay') // fallback\n    }\n\n    return delay\n  }\n\n\n  bindToEl(el) {\n    let component = this.component\n\n    component.bindSegHandlerToEl(el, 'mousedown', this.handleMousedown.bind(this))\n    component.bindSegHandlerToEl(el, 'touchstart', this.handleTouchStart.bind(this))\n  }\n\n\n  handleMousedown(seg, ev) {\n    if (\n      !this.component.shouldIgnoreMouse() &&\n      this.component.canStartDrag(seg, ev)\n    ) {\n      this.buildDragListener(seg).startInteraction(ev, { distance: 5 })\n    }\n  }\n\n\n  handleTouchStart(seg, ev) {\n    let component = this.component\n    let settings = {\n      delay: this.view.isEventDefSelected(seg.footprint.eventDef) ? // already selected?\n        0 : this.getSelectionDelay()\n    }\n\n    if (component.canStartDrag(seg, ev)) {\n      this.buildDragListener(seg).startInteraction(ev, settings)\n    } else if (component.canStartSelection(seg, ev)) {\n      this.buildSelectListener(seg).startInteraction(ev, settings)\n    }\n  }\n\n\n  // seg isn't draggable, but let's use a generic DragListener\n  // simply for the delay, so it can be selected.\n  // Has side effect of setting/unsetting `dragListener`\n  buildSelectListener(seg) {\n    let view = this.view\n    let eventDef = seg.footprint.eventDef\n    let eventInstance = seg.footprint.eventInstance // null for inverse-background events\n\n    if (this.dragListener) {\n      return this.dragListener\n    }\n\n    let dragListener = this.dragListener = new DragListener({\n      dragStart: (ev) => {\n        if (\n          dragListener.isTouch &&\n          !view.isEventDefSelected(eventDef) &&\n          eventInstance\n        ) {\n          // if not previously selected, will fire after a delay. then, select the event\n          view.selectEventInstance(eventInstance)\n        }\n      },\n      interactionEnd: (ev) => {\n        this.dragListener = null\n      }\n    })\n\n    return dragListener\n  }\n\n\n  // Builds a listener that will track user-dragging on an event segment.\n  // Generic enough to work with any type of Grid.\n  // Has side effect of setting/unsetting `dragListener`\n  buildDragListener(seg) {\n    let component = this.component\n    let view = this.view\n    let calendar = view.calendar\n    let eventManager = calendar.eventManager\n    let el = seg.el\n    let eventDef = seg.footprint.eventDef\n    let eventInstance = seg.footprint.eventInstance // null for inverse-background events\n    let isDragging\n    let mouseFollower // A clone of the original element that will move with the mouse\n    let eventDefMutation\n\n    if (this.dragListener) {\n      return this.dragListener\n    }\n\n    // Tracks mouse movement over the *view's* coordinate map. Allows dragging and dropping between subcomponents\n    // of the view.\n    let dragListener = this.dragListener = new HitDragListener(view, {\n      scroll: this.opt('dragScroll'),\n      subjectEl: el,\n      subjectCenter: true,\n      interactionStart: (ev) => {\n        seg.component = component // for renderDrag\n        isDragging = false\n        mouseFollower = new MouseFollower(seg.el, {\n          additionalClass: 'fc-dragging',\n          parentEl: view.el,\n          opacity: dragListener.isTouch ? null : this.opt('dragOpacity'),\n          revertDuration: this.opt('dragRevertDuration'),\n          zIndex: 2 // one above the .fc-view\n        })\n        mouseFollower.hide() // don't show until we know this is a real drag\n        mouseFollower.start(ev)\n      },\n      dragStart: (ev) => {\n        if (\n          dragListener.isTouch &&\n          !view.isEventDefSelected(eventDef) &&\n          eventInstance\n        ) {\n          // if not previously selected, will fire after a delay. then, select the event\n          view.selectEventInstance(eventInstance)\n        }\n        isDragging = true\n\n        // ensure a mouseout on the manipulated event has been reported\n        this.eventPointing.handleMouseout(seg, ev)\n\n        this.segDragStart(seg, ev)\n        view.hideEventsWithId(seg.footprint.eventDef.id)\n      },\n      hitOver: (hit, isOrig, origHit) => {\n        let isAllowed = true\n        let origFootprint\n        let footprint\n        let mutatedEventInstanceGroup\n\n        // starting hit could be forced (DayGrid.limit)\n        if (seg.hit) {\n          origHit = seg.hit\n        }\n\n        // hit might not belong to this grid, so query origin grid\n        origFootprint = origHit.component.getSafeHitFootprint(origHit)\n        footprint = hit.component.getSafeHitFootprint(hit)\n\n        if (origFootprint && footprint) {\n          eventDefMutation = this.computeEventDropMutation(origFootprint, footprint, eventDef)\n\n          if (eventDefMutation) {\n            mutatedEventInstanceGroup = eventManager.buildMutatedEventInstanceGroup(\n              eventDef.id,\n              eventDefMutation\n            )\n            isAllowed = component.isEventInstanceGroupAllowed(mutatedEventInstanceGroup)\n          } else {\n            isAllowed = false\n          }\n        } else {\n          isAllowed = false\n        }\n\n        if (!isAllowed) {\n          eventDefMutation = null\n          disableCursor()\n        }\n\n        // if a valid drop location, have the subclass render a visual indication\n        if (\n          eventDefMutation &&\n          view.renderDrag( // truthy if rendered something\n            component.eventRangesToEventFootprints(\n              mutatedEventInstanceGroup.sliceRenderRanges(component.dateProfile.renderUnzonedRange, calendar)\n            ),\n            seg,\n            dragListener.isTouch\n          )\n        ) {\n          mouseFollower.hide() // if the subclass is already using a mock event \"helper\", hide our own\n        } else {\n          mouseFollower.show() // otherwise, have the helper follow the mouse (no snapping)\n        }\n\n        if (isOrig) {\n          // needs to have moved hits to be a valid drop\n          eventDefMutation = null\n        }\n      },\n      hitOut: () => { // called before mouse moves to a different hit OR moved out of all hits\n        view.unrenderDrag(seg) // unrender whatever was done in renderDrag\n        mouseFollower.show() // show in case we are moving out of all hits\n        eventDefMutation = null\n      },\n      hitDone: () => { // Called after a hitOut OR before a dragEnd\n        enableCursor()\n      },\n      interactionEnd: (ev) => {\n        delete seg.component // prevent side effects\n\n        // do revert animation if hasn't changed. calls a callback when finished (whether animation or not)\n        mouseFollower.stop(!eventDefMutation, () => {\n          if (isDragging) {\n            view.unrenderDrag(seg)\n            this.segDragStop(seg, ev)\n          }\n\n          view.showEventsWithId(seg.footprint.eventDef.id)\n\n          if (eventDefMutation) {\n            // no need to re-show original, will rerender all anyways. esp important if eventRenderWait\n            view.reportEventDrop(eventInstance, eventDefMutation, el, ev)\n          }\n        })\n\n        this.dragListener = null\n      }\n    })\n\n    return dragListener\n  }\n\n\n  // Called before event segment dragging starts\n  segDragStart(seg, ev) {\n    this.isDragging = true\n    this.component.publiclyTrigger('eventDragStart', {\n      context: seg.el[0],\n      args: [\n        seg.footprint.getEventLegacy(),\n        ev,\n        {}, // jqui dummy\n        this.view\n      ]\n    })\n  }\n\n\n  // Called after event segment dragging stops\n  segDragStop(seg, ev) {\n    this.isDragging = false\n    this.component.publiclyTrigger('eventDragStop', {\n      context: seg.el[0],\n      args: [\n        seg.footprint.getEventLegacy(),\n        ev,\n        {}, // jqui dummy\n        this.view\n      ]\n    })\n  }\n\n\n  // DOES NOT consider overlap/constraint\n  computeEventDropMutation(startFootprint, endFootprint, eventDef) {\n    let eventDefMutation = new EventDefMutation()\n\n    eventDefMutation.setDateMutation(\n      this.computeEventDateMutation(startFootprint, endFootprint)\n    )\n\n    return eventDefMutation\n  }\n\n\n  computeEventDateMutation(startFootprint, endFootprint) {\n    let date0 = startFootprint.unzonedRange.getStart()\n    let date1 = endFootprint.unzonedRange.getStart()\n    let clearEnd = false\n    let forceTimed = false\n    let forceAllDay = false\n    let dateDelta\n    let dateMutation\n\n    if (startFootprint.isAllDay !== endFootprint.isAllDay) {\n      clearEnd = true\n\n      if (endFootprint.isAllDay) {\n        forceAllDay = true\n        date0.stripTime()\n      } else {\n        forceTimed = true\n      }\n    }\n\n    dateDelta = this.component.diffDates(date1, date0)\n\n    dateMutation = new EventDefDateMutation()\n    dateMutation.clearEnd = clearEnd\n    dateMutation.forceTimed = forceTimed\n    dateMutation.forceAllDay = forceAllDay\n    dateMutation.setDateDelta(dateDelta)\n\n    return dateMutation\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/interactions/EventDragging.ts","import { enableCursor, disableCursor, preventSelection, compareNumbers } from '../../util'\nimport HitDragListener from '../../common/HitDragListener'\nimport ComponentFootprint from '../../models/ComponentFootprint'\nimport UnzonedRange from '../../models/UnzonedRange'\nimport Interaction from './Interaction'\n\n\nexport default class DateSelecting extends Interaction {\n\n  dragListener: any\n\n\n  /*\n  component must implement:\n    - bindDateHandlerToEl\n    - getSafeHitFootprint\n    - renderHighlight\n    - unrenderHighlight\n  */\n  constructor(component) {\n    super(component)\n    this.dragListener = this.buildDragListener()\n  }\n\n\n  end() {\n    this.dragListener.endInteraction()\n  }\n\n\n  getDelay() {\n    let delay = this.opt('selectLongPressDelay')\n\n    if (delay == null) {\n      delay = this.opt('longPressDelay') // fallback\n    }\n\n    return delay\n  }\n\n\n  bindToEl(el) {\n    let component = this.component\n    let dragListener = this.dragListener\n\n    component.bindDateHandlerToEl(el, 'mousedown', (ev) => {\n      if (this.opt('selectable') && !component.shouldIgnoreMouse()) {\n        dragListener.startInteraction(ev, {\n          distance: this.opt('selectMinDistance')\n        })\n      }\n    })\n\n    component.bindDateHandlerToEl(el, 'touchstart', (ev) => {\n      if (this.opt('selectable') && !component.shouldIgnoreTouch()) {\n        dragListener.startInteraction(ev, {\n          delay: this.getDelay()\n        })\n      }\n    })\n\n    preventSelection(el)\n  }\n\n\n  // Creates a listener that tracks the user's drag across day elements, for day selecting.\n  buildDragListener() {\n    let component = this.component\n    let selectionFootprint // null if invalid selection\n\n    let dragListener = new HitDragListener(component, {\n      scroll: this.opt('dragScroll'),\n      interactionStart: () => {\n        selectionFootprint = null\n      },\n      dragStart: (ev) => {\n        this.view.unselect(ev) // since we could be rendering a new selection, we want to clear any old one\n      },\n      hitOver: (hit, isOrig, origHit) => {\n        let origHitFootprint\n        let hitFootprint\n\n        if (origHit) { // click needs to have started on a hit\n\n          origHitFootprint = component.getSafeHitFootprint(origHit)\n          hitFootprint = component.getSafeHitFootprint(hit)\n\n          if (origHitFootprint && hitFootprint) {\n            selectionFootprint = this.computeSelection(origHitFootprint, hitFootprint)\n          } else {\n            selectionFootprint = null\n          }\n\n          if (selectionFootprint) {\n            component.renderSelectionFootprint(selectionFootprint)\n          } else if (selectionFootprint === false) {\n            disableCursor()\n          }\n        }\n      },\n      hitOut: () => { // called before mouse moves to a different hit OR moved out of all hits\n        selectionFootprint = null\n        component.unrenderSelection()\n      },\n      hitDone: () => { // called after a hitOut OR before a dragEnd\n        enableCursor()\n      },\n      interactionEnd: (ev, isCancelled) => {\n        if (!isCancelled && selectionFootprint) {\n          // the selection will already have been rendered. just report it\n          this.view.reportSelection(selectionFootprint, ev)\n        }\n      }\n    })\n\n    return dragListener\n  }\n\n\n  // Given the first and last date-spans of a selection, returns another date-span object.\n  // Subclasses can override and provide additional data in the span object. Will be passed to renderSelectionFootprint().\n  // Will return false if the selection is invalid and this should be indicated to the user.\n  // Will return null/undefined if a selection invalid but no error should be reported.\n  computeSelection(footprint0, footprint1) {\n    let wholeFootprint = this.computeSelectionFootprint(footprint0, footprint1)\n\n    if (wholeFootprint && !this.isSelectionFootprintAllowed(wholeFootprint)) {\n      return false\n    }\n\n    return wholeFootprint\n  }\n\n\n  // Given two spans, must return the combination of the two.\n  // TODO: do this separation of concerns (combining VS validation) for event dnd/resize too.\n  // Assumes both footprints are non-open-ended.\n  computeSelectionFootprint(footprint0, footprint1) {\n    let ms = [\n      footprint0.unzonedRange.startMs,\n      footprint0.unzonedRange.endMs,\n      footprint1.unzonedRange.startMs,\n      footprint1.unzonedRange.endMs\n    ]\n\n    ms.sort(compareNumbers)\n\n    return new ComponentFootprint(\n      new UnzonedRange(ms[0], ms[3]),\n      footprint0.isAllDay\n    )\n  }\n\n\n  isSelectionFootprintAllowed(componentFootprint) {\n    return this.component.dateProfile.validUnzonedRange.containsRange(componentFootprint.unzonedRange) &&\n      this.view.calendar.constraints.isSelectionFootprintAllowed(componentFootprint)\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/interactions/DateSelecting.ts","import * as moment from 'moment'\nimport * as $ from 'jquery'\nimport {\n  matchCellWidths,\n  uncompensateScroll,\n  compensateScroll,\n  subtractInnerElHeight,\n  htmlEscape,\n  copyOwnProps\n} from '../util'\nimport Scroller from '../common/Scroller'\nimport View from '../View'\nimport TimeGrid from './TimeGrid'\nimport DayGrid from '../basic/DayGrid'\n\nconst AGENDA_ALL_DAY_EVENT_LIMIT = 5\n\nlet agendaTimeGridMethods\nlet agendaDayGridMethods\n\n\n/* An abstract class for all agenda-related views. Displays one more columns with time slots running vertically.\n----------------------------------------------------------------------------------------------------------------------*/\n// Is a manager for the TimeGrid subcomponent and possibly the DayGrid subcomponent (if allDaySlot is on).\n// Responsible for managing width/height.\n\nexport default class AgendaView extends View {\n\n  // initialized after class\n  timeGridClass: any // class used to instantiate the timeGrid. subclasses can override\n  dayGridClass: any // class used to instantiate the dayGrid. subclasses can override\n\n  timeGrid: any // the main time-grid subcomponent of this view\n  dayGrid: any // the \"all-day\" subcomponent. if all-day is turned off, this will be null\n\n  scroller: any\n  axisWidth: any // the width of the time axis running down the side\n  usesMinMaxTime: boolean = true // indicates that minTime/maxTime affects rendering\n\n\n  constructor(calendar, viewSpec) {\n    super(calendar, viewSpec)\n\n    this.timeGrid = this.instantiateTimeGrid()\n    this.addChild(this.timeGrid)\n\n    // if (this.opt('allDaySlot')) { // should we display the \"all-day\" area?\n    //   this.dayGrid = this.instantiateDayGrid() // the all-day subcomponent of this view\n    //   this.addChild(this.dayGrid)\n    // }\n\n    this.scroller = new Scroller({\n      overflowX: 'hidden',\n      overflowY: 'auto'\n    })\n  }\n\n\n  // Instantiates the TimeGrid object this view needs. Draws from this.timeGridClass\n  instantiateTimeGrid() {\n    let timeGrid = new this.timeGridClass(this)\n    copyOwnProps(agendaTimeGridMethods, timeGrid)\n    return timeGrid\n  }\n\n\n  // Instantiates the DayGrid object this view might need. Draws from this.dayGridClass\n  instantiateDayGrid() {\n    let dayGrid = new this.dayGridClass(this)\n    copyOwnProps(agendaDayGridMethods, dayGrid)\n    return dayGrid\n  }\n\n\n  /* Rendering\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  renderSkeleton() {\n    let timeGridWrapEl\n    let timeGridEl\n\n    this.el.addClass('fc-agenda-view').html(this.renderSkeletonHtml())\n\n    this.scroller.render()\n\n    timeGridWrapEl = this.scroller.el.addClass('fc-time-grid-container')\n    timeGridEl = $('<div class=\"fc-time-grid\" />').appendTo(timeGridWrapEl)\n\n    this.el.find('.fc-body > tr > td').append(timeGridWrapEl)\n\n    this.timeGrid.headContainerEl = this.el.find('.fc-head-container')\n    this.timeGrid.setElement(timeGridEl)\n\n    if (this.dayGrid) {\n      this.dayGrid.setElement(this.el.find('.fc-day-grid'))\n\n      // have the day-grid extend it's coordinate area over the <hr> dividing the two grids\n      this.dayGrid.bottomCoordPadding = this.dayGrid.el.next('hr').outerHeight()\n    }\n  }\n\n\n  unrenderSkeleton() {\n    this.timeGrid.removeElement()\n\n    if (this.dayGrid) {\n      this.dayGrid.removeElement()\n    }\n\n    this.scroller.destroy()\n  }\n\n\n  // Builds the HTML skeleton for the view.\n  // The day-grid and time-grid components will render inside containers defined by this HTML.\n  renderSkeletonHtml() {\n    let theme = this.calendar.theme\n\n    return '' +\n      '<table class=\"' + theme.getClass('tableGrid') + '\">' +\n        (this.opt('columnHeader') ?\n          '<thead class=\"fc-head\">' +\n            '<tr>' +\n              '<td class=\"fc-head-container ' + theme.getClass('widgetHeader') + '\">&nbsp;</td>' +\n            '</tr>' +\n          '</thead>' :\n          ''\n          ) +\n        '<tbody class=\"fc-body\">' +\n          '<tr>' +\n            '<td class=\"' + theme.getClass('widgetContent') + '\">' +\n              (this.dayGrid ?\n                '<div class=\"fc-day-grid\"/>' +\n                '<hr class=\"fc-divider ' + theme.getClass('widgetHeader') + '\"/>' :\n                ''\n                ) +\n            '</td>' +\n          '</tr>' +\n        '</tbody>' +\n      '</table>'\n  }\n\n\n  // Generates an HTML attribute string for setting the width of the axis, if it is known\n  axisStyleAttr() {\n    if (this.axisWidth != null) {\n      return 'style=\"width:' + this.axisWidth + 'px\"'\n    }\n    return ''\n  }\n\n\n  /* Now Indicator\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  getNowIndicatorUnit() {\n    return this.timeGrid.getNowIndicatorUnit()\n  }\n\n\n  /* Dimensions\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  // Adjusts the vertical dimensions of the view to the specified values\n  updateSize(totalHeight, isAuto, isResize) {\n    let eventLimit\n    let scrollerHeight\n    let scrollbarWidths\n\n    super.updateSize(totalHeight, isAuto, isResize)\n\n    // make all axis cells line up, and record the width so newly created axis cells will have it\n    this.axisWidth = matchCellWidths(this.el.find('.fc-axis'))\n\n    // hack to give the view some height prior to timeGrid's columns being rendered\n    // TODO: separate setting height from scroller VS timeGrid.\n    if (!this.timeGrid.colEls) {\n      if (!isAuto) {\n        scrollerHeight = this.computeScrollerHeight(totalHeight)\n        this.scroller.setHeight(scrollerHeight)\n      }\n      return\n    }\n\n    // set of fake row elements that must compensate when scroller has scrollbars\n    let noScrollRowEls = this.el.find('.fc-row:not(.fc-scroller *)')\n\n    // reset all dimensions back to the original state\n    this.timeGrid.bottomRuleEl.hide() // .show() will be called later if this <hr> is necessary\n    this.scroller.clear() // sets height to 'auto' and clears overflow\n    uncompensateScroll(noScrollRowEls)\n\n    // limit number of events in the all-day area\n    if (this.dayGrid) {\n      this.dayGrid.removeSegPopover() // kill the \"more\" popover if displayed\n\n      eventLimit = this.opt('eventLimit')\n      if (eventLimit && typeof eventLimit !== 'number') {\n        eventLimit = AGENDA_ALL_DAY_EVENT_LIMIT // make sure \"auto\" goes to a real number\n      }\n      if (eventLimit) {\n        this.dayGrid.limitRows(eventLimit)\n      }\n    }\n\n    if (!isAuto) { // should we force dimensions of the scroll container?\n\n      scrollerHeight = this.computeScrollerHeight(totalHeight)\n      this.scroller.setHeight(scrollerHeight)\n      scrollbarWidths = this.scroller.getScrollbarWidths()\n\n      if (scrollbarWidths.left || scrollbarWidths.right) { // using scrollbars?\n\n        // make the all-day and header rows lines up\n        compensateScroll(noScrollRowEls, scrollbarWidths)\n\n        // the scrollbar compensation might have changed text flow, which might affect height, so recalculate\n        // and reapply the desired height to the scroller.\n        scrollerHeight = this.computeScrollerHeight(totalHeight)\n        this.scroller.setHeight(scrollerHeight)\n      }\n\n      // guarantees the same scrollbar widths\n      this.scroller.lockOverflow(scrollbarWidths)\n\n      // if there's any space below the slats, show the horizontal rule.\n      // this won't cause any new overflow, because lockOverflow already called.\n      if (this.timeGrid.getTotalSlatHeight() < scrollerHeight) {\n        this.timeGrid.bottomRuleEl.show()\n      }\n    }\n  }\n\n\n  // given a desired total height of the view, returns what the height of the scroller should be\n  computeScrollerHeight(totalHeight) {\n    return totalHeight -\n      subtractInnerElHeight(this.el, this.scroller.el) // everything that's NOT the scroller\n  }\n\n\n  /* Scroll\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  // Computes the initial pre-configured scroll state prior to allowing the user to change it\n  computeInitialDateScroll() {\n    let scrollTime = moment.duration(this.opt('scrollTime'))\n    let top = this.timeGrid.computeTimeTop(scrollTime)\n\n    // zoom can give weird floating-point values. rather scroll a little bit further\n    top = Math.ceil(top)\n\n    if (top) {\n      top++ // to overcome top border that slots beyond the first have. looks better\n    }\n\n    return { top: top }\n  }\n\n\n  queryDateScroll() {\n    return { top: this.scroller.getScrollTop() }\n  }\n\n\n  applyDateScroll(scroll) {\n    if (scroll.top !== undefined) {\n      this.scroller.setScrollTop(scroll.top)\n    }\n  }\n\n\n  /* Hit Areas\n  ------------------------------------------------------------------------------------------------------------------*/\n  // forward all hit-related method calls to the grids (dayGrid might not be defined)\n\n\n  getHitFootprint(hit) {\n    // TODO: hit.component is set as a hack to identify where the hit came from\n    return hit.component.getHitFootprint(hit)\n  }\n\n\n  getHitEl(hit) {\n    // TODO: hit.component is set as a hack to identify where the hit came from\n    return hit.component.getHitEl(hit)\n  }\n\n\n  /* Event Rendering\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  executeEventRender(eventsPayload) {\n    let dayEventsPayload = {}\n    let timedEventsPayload = {}\n    let id\n    let eventInstanceGroup\n\n    // separate the events into all-day and timed\n    for (id in eventsPayload) {\n      eventInstanceGroup = eventsPayload[id]\n\n      if (eventInstanceGroup.getEventDef().isAllDay()) {\n        dayEventsPayload[id] = eventInstanceGroup\n      } else {\n        timedEventsPayload[id] = eventInstanceGroup\n      }\n    }\n\n    this.timeGrid.executeEventRender(timedEventsPayload)\n\n    if (this.dayGrid) {\n      this.dayGrid.executeEventRender(dayEventsPayload)\n    }\n  }\n\n\n  /* Dragging/Resizing Routing\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  // A returned value of `true` signals that a mock \"helper\" event has been rendered.\n  renderDrag(eventFootprints, seg, isTouch) {\n    let groups = groupEventFootprintsByAllDay(eventFootprints)\n    let renderedHelper = false\n\n    renderedHelper = this.timeGrid.renderDrag(groups.timed, seg, isTouch)\n\n    if (this.dayGrid) {\n      renderedHelper = this.dayGrid.renderDrag(groups.allDay, seg, isTouch) || renderedHelper\n    }\n\n    return renderedHelper\n  }\n\n\n  renderEventResize(eventFootprints, seg, isTouch) {\n    let groups = groupEventFootprintsByAllDay(eventFootprints)\n\n    this.timeGrid.renderEventResize(groups.timed, seg, isTouch)\n\n    if (this.dayGrid) {\n      this.dayGrid.renderEventResize(groups.allDay, seg, isTouch)\n    }\n  }\n\n\n  /* Selection\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  // Renders a visual indication of a selection\n  renderSelectionFootprint(componentFootprint) {\n    if (!componentFootprint.isAllDay) {\n      this.timeGrid.renderSelectionFootprint(componentFootprint)\n    } else if (this.dayGrid) {\n      this.dayGrid.renderSelectionFootprint(componentFootprint)\n    }\n  }\n\n}\n\n\nAgendaView.prototype.timeGridClass = TimeGrid\nAgendaView.prototype.dayGridClass = DayGrid\n\n\n// Will customize the rendering behavior of the AgendaView's timeGrid\nagendaTimeGridMethods = {\n\n  // Generates the HTML that will go before the day-of week header cells\n  renderHeadIntroHtml() {\n    let view = this.view\n    let calendar = view.calendar\n    let weekStart = calendar.msToUtcMoment(this.dateProfile.renderUnzonedRange.startMs, true)\n    let weekText\n\n    if (this.opt('weekNumbers')) {\n      weekText = weekStart.format(this.opt('smallWeekFormat'))\n\n      return '' +\n        '<th class=\"fc-axis fc-week-number ' + calendar.theme.getClass('widgetHeader') + '\" ' + view.axisStyleAttr() + '>' +\n          view.buildGotoAnchorHtml( // aside from link, important for matchCellWidths\n            { date: weekStart, type: 'week', forceOff: this.colCnt > 1 },\n            htmlEscape(weekText) // inner HTML\n          ) +\n        '</th>'\n    } else {\n      return '<th class=\"fc-axis ' + calendar.theme.getClass('widgetHeader') + '\" ' + view.axisStyleAttr() + '></th>'\n    }\n  },\n\n\n  // Generates the HTML that goes before the bg of the TimeGrid slot area. Long vertical column.\n  renderBgIntroHtml() {\n    let view = this.view\n\n    return '<td class=\"fc-axis ' + view.calendar.theme.getClass('widgetContent') + '\" ' + view.axisStyleAttr() + '></td>'\n  },\n\n\n  // Generates the HTML that goes before all other types of cells.\n  // Affects content-skeleton, helper-skeleton, highlight-skeleton for both the time-grid and day-grid.\n  renderIntroHtml() {\n    let view = this.view\n\n    return '<td class=\"fc-axis\" ' + view.axisStyleAttr() + '></td>'\n  }\n\n}\n\n\n// Will customize the rendering behavior of the AgendaView's dayGrid\nagendaDayGridMethods = {\n\n  // Generates the HTML that goes before the all-day cells\n  renderBgIntroHtml() {\n    let view = this.view\n\n    return '' +\n      '<td class=\"fc-axis ' + view.calendar.theme.getClass('widgetContent') + '\" ' + view.axisStyleAttr() + '>' +\n        '<span>' + // needed for matchCellWidths\n          view.getAllDayHtml() +\n        '</span>' +\n      '</td>'\n  },\n\n\n  // Generates the HTML that goes before all other types of cells.\n  // Affects content-skeleton, helper-skeleton, highlight-skeleton for both the time-grid and day-grid.\n  renderIntroHtml() {\n    let view = this.view\n\n    return '<td class=\"fc-axis\" ' + view.axisStyleAttr() + '></td>'\n  }\n\n}\n\n\nfunction groupEventFootprintsByAllDay(eventFootprints) {\n  let allDay = []\n  let timed = []\n  let i\n\n  for (i = 0; i < eventFootprints.length; i++) {\n    if (eventFootprints[i].componentFootprint.isAllDay) {\n      allDay.push(eventFootprints[i])\n    } else {\n      timed.push(eventFootprints[i])\n    }\n  }\n\n  return { allDay: allDay, timed: timed }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/agenda/AgendaView.ts","import * as $ from 'jquery'\nimport * as moment from 'moment'\nimport { isInt, divideDurationByDuration, htmlEscape } from '../util'\nimport InteractiveDateComponent from '../component/InteractiveDateComponent'\nimport BusinessHourRenderer from '../component/renderers/BusinessHourRenderer'\nimport StandardInteractionsMixin from '../component/interactions/StandardInteractionsMixin'\nimport { default as DayTableMixin, DayTableInterface } from '../component/DayTableMixin'\nimport CoordCache from '../common/CoordCache'\nimport UnzonedRange from '../models/UnzonedRange'\nimport ComponentFootprint from '../models/ComponentFootprint'\nimport TimeGridEventRenderer from './TimeGridEventRenderer'\nimport TimeGridHelperRenderer from './TimeGridHelperRenderer'\nimport TimeGridFillRenderer from './TimeGridFillRenderer'\n\n/* A component that renders one or more columns of vertical time slots\n----------------------------------------------------------------------------------------------------------------------*/\n// We mixin DayTable, even though there is only a single row of days\n\n// potential nice values for the slot-duration and interval-duration\n// from largest to smallest\nlet AGENDA_STOCK_SUB_DURATIONS = [\n  { hours: 1 },\n  { minutes: 30 },\n  { minutes: 15 },\n  { seconds: 30 },\n  { seconds: 15 }\n]\n\nexport default class TimeGrid extends InteractiveDateComponent {\n\n  dayDates: DayTableInterface['dayDates']\n  daysPerRow: DayTableInterface['daysPerRow']\n  colCnt: DayTableInterface['colCnt']\n  updateDayTable: DayTableInterface['updateDayTable']\n  renderHeadHtml: DayTableInterface['renderHeadHtml']\n  renderBgTrHtml: DayTableInterface['renderBgTrHtml']\n  bookendCells: DayTableInterface['bookendCells']\n  getCellDate: DayTableInterface['getCellDate']\n\n  view: any // TODO: make more general and/or remove\n  helperRenderer: any\n\n  dayRanges: any // UnzonedRange[], of start-end of each day\n  slotDuration: any // duration of a \"slot\", a distinct time segment on given day, visualized by lines\n  snapDuration: any // granularity of time for dragging and selecting\n  snapsPerSlot: any\n  labelFormat: any // formatting string for times running along vertical axis\n  labelInterval: any // duration of how often a label should be displayed for a slot\n\n  headContainerEl: any // div that hold's the date header\n  colEls: any // cells elements in the day-row background\n  slatContainerEl: any // div that wraps all the slat rows\n  slatEls: any // elements running horizontally across all columns\n  nowIndicatorEls: any\n\n  colCoordCache: any\n  slatCoordCache: any\n\n  bottomRuleEl: any // hidden by default\n  contentSkeletonEl: any\n  colContainerEls: any // containers for each column\n\n  // inner-containers for each column where different types of segs live\n  fgContainerEls: any\n  bgContainerEls: any\n  helperContainerEls: any\n  highlightContainerEls: any\n  businessContainerEls: any\n\n  // arrays of different types of displayed segments\n  helperSegs: any\n  highlightSegs: any\n  businessSegs: any\n\n\n  constructor(view) {\n    super(view)\n    this.processOptions()\n  }\n\n\n  // Slices up the given span (unzoned start/end with other misc data) into an array of segments\n  componentFootprintToSegs(componentFootprint) {\n    let segs = this.sliceRangeByTimes(componentFootprint.unzonedRange)\n    let i\n\n    for (i = 0; i < segs.length; i++) {\n      if (this.isRTL) {\n        segs[i].col = this.daysPerRow - 1 - segs[i].dayIndex\n      } else {\n        segs[i].col = segs[i].dayIndex\n      }\n    }\n\n    return segs\n  }\n\n\n  /* Date Handling\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  sliceRangeByTimes(unzonedRange) {\n    let segs = []\n    let segRange\n    let dayIndex\n\n    for (dayIndex = 0; dayIndex < this.daysPerRow; dayIndex++) {\n\n      segRange = unzonedRange.intersect(this.dayRanges[dayIndex])\n\n      if (segRange) {\n        segs.push({\n          startMs: segRange.startMs,\n          endMs: segRange.endMs,\n          isStart: segRange.isStart,\n          isEnd: segRange.isEnd,\n          dayIndex: dayIndex\n        })\n      }\n    }\n\n    return segs\n  }\n\n\n  /* Options\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  // Parses various options into properties of this object\n  processOptions() {\n    let slotDuration = this.opt('slotDuration')\n    let snapDuration = this.opt('snapDuration')\n    let input\n\n    slotDuration = moment.duration(slotDuration)\n    snapDuration = snapDuration ? moment.duration(snapDuration) : slotDuration\n\n    this.slotDuration = slotDuration\n    this.snapDuration = snapDuration\n    this.snapsPerSlot = slotDuration / snapDuration // TODO: ensure an integer multiple?\n\n    // might be an array value (for TimelineView).\n    // if so, getting the most granular entry (the last one probably).\n    input = this.opt('slotLabelFormat')\n    if ($.isArray(input)) {\n      input = input[input.length - 1]\n    }\n\n    this.labelFormat = input ||\n      this.opt('smallTimeFormat') // the computed default\n\n    input = this.opt('slotLabelInterval')\n    this.labelInterval = input ?\n      moment.duration(input) :\n      this.computeLabelInterval(slotDuration)\n  }\n\n\n  // Computes an automatic value for slotLabelInterval\n  computeLabelInterval(slotDuration) {\n    let i\n    let labelInterval\n    let slotsPerLabel\n\n    // find the smallest stock label interval that results in more than one slots-per-label\n    for (i = AGENDA_STOCK_SUB_DURATIONS.length - 1; i >= 0; i--) {\n      labelInterval = moment.duration(AGENDA_STOCK_SUB_DURATIONS[i])\n      slotsPerLabel = divideDurationByDuration(labelInterval, slotDuration)\n      if (isInt(slotsPerLabel) && slotsPerLabel > 1) {\n        return labelInterval\n      }\n    }\n\n    return moment.duration(slotDuration) // fall back. clone\n  }\n\n\n  /* Date Rendering\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  renderDates(dateProfile) {\n    this.dateProfile = dateProfile\n    this.updateDayTable()\n    this.renderSlats()\n    this.renderColumns()\n  }\n\n\n  unrenderDates() {\n    // this.unrenderSlats(); // don't need this because repeated .html() calls clear\n    this.unrenderColumns()\n  }\n\n\n  renderSkeleton() {\n    let theme = this.view.calendar.theme\n\n    this.el.html(\n      '<div class=\"fc-bg\"></div>' +\n      '<div class=\"fc-slats\"></div>' +\n      '<hr class=\"fc-divider ' + theme.getClass('widgetHeader') + '\" style=\"display:none\" />'\n    )\n\n    this.bottomRuleEl = this.el.find('hr')\n  }\n\n\n  renderSlats() {\n    let theme = this.view.calendar.theme\n\n    this.slatContainerEl = this.el.find('> .fc-slats')\n      .html( // avoids needing ::unrenderSlats()\n        '<table class=\"' + theme.getClass('tableGrid') + '\">' +\n          this.renderSlatRowHtml() +\n        '</table>'\n      )\n\n    this.slatEls = this.slatContainerEl.find('tr')\n\n    this.slatCoordCache = new CoordCache({\n      els: this.slatEls,\n      isVertical: true\n    })\n  }\n\n\n  // Generates the HTML for the horizontal \"slats\" that run width-wise. Has a time axis on a side. Depends on RTL.\n  renderSlatRowHtml() {\n    let view = this.view\n    let calendar = view.calendar\n    let theme = calendar.theme\n    let isRTL = this.isRTL\n    let dateProfile = this.dateProfile\n    let html = ''\n    let slotTime = moment.duration(+dateProfile.minTime) // wish there was .clone() for durations\n    let slotIterator = moment.duration(0)\n    let slotDate // will be on the view's first day, but we only care about its time\n    let isLabeled\n    let axisHtml\n\n    // Calculate the time for each slot\n    while (slotTime < dateProfile.maxTime) {\n      slotDate = calendar.msToUtcMoment(dateProfile.renderUnzonedRange.startMs).time(slotTime)\n      isLabeled = isInt(divideDurationByDuration(slotIterator, this.labelInterval))\n\n      axisHtml =\n        '<td class=\"fc-axis fc-time ' + theme.getClass('widgetContent') + '\" ' + view.axisStyleAttr() + '>' +\n          (isLabeled ?\n            '<span>' + // for matchCellWidths\n              htmlEscape(slotDate.format(this.labelFormat)) +\n            '</span>' :\n            ''\n            ) +\n        '</td>'\n\n      html +=\n        '<tr data-time=\"' + slotDate.format('HH:mm:ss') + '\"' +\n          (isLabeled ? '' : ' class=\"fc-minor\"') +\n          '>' +\n          (!isRTL ? axisHtml : '') +\n          '<td class=\"' + theme.getClass('widgetContent') + '\"/>' +\n          (isRTL ? axisHtml : '') +\n        '</tr>'\n\n      slotTime.add(this.slotDuration)\n      slotIterator.add(this.slotDuration)\n    }\n\n    return html\n  }\n\n\n  renderColumns() {\n    let dateProfile = this.dateProfile\n    let theme = this.view.calendar.theme\n\n    this.dayRanges = this.dayDates.map(function(dayDate) {\n      return new UnzonedRange(\n        dayDate.clone().add(dateProfile.minTime),\n        dayDate.clone().add(dateProfile.maxTime)\n      )\n    })\n\n    if (this.headContainerEl) {\n      this.headContainerEl.html(this.renderHeadHtml())\n    }\n\n    this.el.find('> .fc-bg').html(\n      '<table class=\"' + theme.getClass('tableGrid') + '\">' +\n        this.renderBgTrHtml(0) + // row=0\n      '</table>'\n    )\n\n    this.colEls = this.el.find('.fc-day, .fc-disabled-day')\n\n    this.colCoordCache = new CoordCache({\n      els: this.colEls,\n      isHorizontal: true\n    })\n\n    this.renderContentSkeleton()\n  }\n\n\n  unrenderColumns() {\n    this.unrenderContentSkeleton()\n  }\n\n\n  /* Content Skeleton\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  // Renders the DOM that the view's content will live in\n  renderContentSkeleton() {\n    let cellHtml = ''\n    let i\n    let skeletonEl\n\n    for (i = 0; i < this.colCnt; i++) {\n      cellHtml +=\n        '<td>' +\n          '<div class=\"fc-content-col\">' +\n            '<div class=\"fc-event-container fc-helper-container\"></div>' +\n            '<div class=\"fc-event-container\"></div>' +\n            '<div class=\"fc-highlight-container\"></div>' +\n            '<div class=\"fc-bgevent-container\"></div>' +\n            '<div class=\"fc-business-container\"></div>' +\n          '</div>' +\n        '</td>'\n    }\n\n    skeletonEl = this.contentSkeletonEl = $(\n      '<div class=\"fc-content-skeleton\">' +\n        '<table>' +\n          '<tr>' + cellHtml + '</tr>' +\n        '</table>' +\n      '</div>'\n    )\n\n    this.colContainerEls = skeletonEl.find('.fc-content-col')\n    this.helperContainerEls = skeletonEl.find('.fc-helper-container')\n    this.fgContainerEls = skeletonEl.find('.fc-event-container:not(.fc-helper-container)')\n    this.bgContainerEls = skeletonEl.find('.fc-bgevent-container')\n    this.highlightContainerEls = skeletonEl.find('.fc-highlight-container')\n    this.businessContainerEls = skeletonEl.find('.fc-business-container')\n\n    this.bookendCells(skeletonEl.find('tr')) // TODO: do this on string level\n    this.el.append(skeletonEl)\n  }\n\n\n  unrenderContentSkeleton() {\n    if (this.contentSkeletonEl) { // defensive :(\n      this.contentSkeletonEl.remove()\n      this.contentSkeletonEl = null\n      this.colContainerEls = null\n      this.helperContainerEls = null\n      this.fgContainerEls = null\n      this.bgContainerEls = null\n      this.highlightContainerEls = null\n      this.businessContainerEls = null\n    }\n  }\n\n\n  // Given a flat array of segments, return an array of sub-arrays, grouped by each segment's col\n  groupSegsByCol(segs) {\n    let segsByCol = []\n    let i\n\n    for (i = 0; i < this.colCnt; i++) {\n      segsByCol.push([])\n    }\n\n    for (i = 0; i < segs.length; i++) {\n      segsByCol[segs[i].col].push(segs[i])\n    }\n\n    return segsByCol\n  }\n\n\n  // Given segments grouped by column, insert the segments' elements into a parallel array of container\n  // elements, each living within a column.\n  attachSegsByCol(segsByCol, containerEls) {\n    let col\n    let segs\n    let i\n\n    for (col = 0; col < this.colCnt; col++) { // iterate each column grouping\n      segs = segsByCol[col]\n\n      for (i = 0; i < segs.length; i++) {\n        containerEls.eq(col).append(segs[i].el)\n      }\n    }\n  }\n\n\n  /* Now Indicator\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  getNowIndicatorUnit() {\n    return 'minute' // will refresh on the minute\n  }\n\n\n  renderNowIndicator(date) {\n\n    // HACK: if date columns not ready for some reason (scheduler)\n    if (!this.colContainerEls) {\n      return\n    }\n\n    // seg system might be overkill, but it handles scenario where line needs to be rendered\n    //  more than once because of columns with the same date (resources columns for example)\n    let segs = this.componentFootprintToSegs(\n      new ComponentFootprint(\n        new UnzonedRange(date, date.valueOf() + 1), // protect against null range\n        false // all-day\n      )\n    )\n    let top = this.computeDateTop(date, date)\n    let nodes = []\n    let i\n\n    // render lines within the columns\n    for (i = 0; i < segs.length; i++) {\n      nodes.push($('<div class=\"fc-now-indicator fc-now-indicator-line\"></div>')\n        .css('top', top)\n        .appendTo(this.colContainerEls.eq(segs[i].col))[0])\n    }\n\n    // render an arrow over the axis\n    if (segs.length > 0) { // is the current time in view?\n      nodes.push($('<div class=\"fc-now-indicator fc-now-indicator-arrow\"></div>')\n        .css('top', top)\n        .appendTo(this.el.find('.fc-content-skeleton'))[0])\n    }\n\n    this.nowIndicatorEls = $(nodes)\n  }\n\n\n  unrenderNowIndicator() {\n    if (this.nowIndicatorEls) {\n      this.nowIndicatorEls.remove()\n      this.nowIndicatorEls = null\n    }\n  }\n\n\n  /* Coordinates\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  updateSize(totalHeight, isAuto, isResize) {\n    super.updateSize(totalHeight, isAuto, isResize)\n\n    this.slatCoordCache.build()\n\n    if (isResize) {\n      this.updateSegVerticals(\n        [].concat(this.eventRenderer.getSegs(), this.businessSegs || [])\n      )\n    }\n  }\n\n\n  getTotalSlatHeight() {\n    return this.slatContainerEl.outerHeight()\n  }\n\n\n  // Computes the top coordinate, relative to the bounds of the grid, of the given date.\n  // `ms` can be a millisecond UTC time OR a UTC moment.\n  // A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.\n  computeDateTop(ms, startOfDayDate) {\n    return this.computeTimeTop(\n      moment.duration(\n        ms - startOfDayDate.clone().stripTime()\n      )\n    )\n  }\n\n\n  // Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).\n  computeTimeTop(time) {\n    let len = this.slatEls.length\n    let dateProfile = this.dateProfile\n    let slatCoverage = (time - dateProfile.minTime) / this.slotDuration // floating-point value of # of slots covered\n    let slatIndex\n    let slatRemainder\n\n    // compute a floating-point number for how many slats should be progressed through.\n    // from 0 to number of slats (inclusive)\n    // constrained because minTime/maxTime might be customized.\n    slatCoverage = Math.max(0, slatCoverage)\n    slatCoverage = Math.min(len, slatCoverage)\n\n    // an integer index of the furthest whole slat\n    // from 0 to number slats (*exclusive*, so len-1)\n    slatIndex = Math.floor(slatCoverage)\n    slatIndex = Math.min(slatIndex, len - 1)\n\n    // how much further through the slatIndex slat (from 0.0-1.0) must be covered in addition.\n    // could be 1.0 if slatCoverage is covering *all* the slots\n    slatRemainder = slatCoverage - slatIndex\n\n    return this.slatCoordCache.getTopPosition(slatIndex) +\n      this.slatCoordCache.getHeight(slatIndex) * slatRemainder\n  }\n\n\n  // Refreshes the CSS top/bottom coordinates for each segment element.\n  // Works when called after initial render, after a window resize/zoom for example.\n  updateSegVerticals(segs) {\n    this.computeSegVerticals(segs)\n    this.assignSegVerticals(segs)\n  }\n\n\n  // For each segment in an array, computes and assigns its top and bottom properties\n  computeSegVerticals(segs) {\n    let eventMinHeight = this.opt('agendaEventMinHeight')\n    let i\n    let seg\n    let dayDate\n\n    for (i = 0; i < segs.length; i++) {\n      seg = segs[i]\n      dayDate = this.dayDates[seg.dayIndex]\n\n      seg.top = this.computeDateTop(seg.startMs, dayDate)\n      seg.bottom = Math.max(\n        seg.top + eventMinHeight,\n        this.computeDateTop(seg.endMs, dayDate)\n      )\n    }\n  }\n\n\n  // Given segments that already have their top/bottom properties computed, applies those values to\n  // the segments' elements.\n  assignSegVerticals(segs) {\n    let i\n    let seg\n\n    for (i = 0; i < segs.length; i++) {\n      seg = segs[i]\n      seg.el.css(this.generateSegVerticalCss(seg))\n    }\n  }\n\n\n  // Generates an object with CSS properties for the top/bottom coordinates of a segment element\n  generateSegVerticalCss(seg) {\n    return {\n      top: seg.top,\n      bottom: -seg.bottom // flipped because needs to be space beyond bottom edge of event container\n    }\n  }\n\n\n  /* Hit System\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  prepareHits() {\n    this.colCoordCache.build()\n    this.slatCoordCache.build()\n  }\n\n\n  releaseHits() {\n    this.colCoordCache.clear()\n    // NOTE: don't clear slatCoordCache because we rely on it for computeTimeTop\n  }\n\n\n  queryHit(leftOffset, topOffset): any {\n    let snapsPerSlot = this.snapsPerSlot\n    let colCoordCache = this.colCoordCache\n    let slatCoordCache = this.slatCoordCache\n\n    if (colCoordCache.isLeftInBounds(leftOffset) && slatCoordCache.isTopInBounds(topOffset)) {\n      let colIndex = colCoordCache.getHorizontalIndex(leftOffset)\n      let slatIndex = slatCoordCache.getVerticalIndex(topOffset)\n\n      if (colIndex != null && slatIndex != null) {\n        let slatTop = slatCoordCache.getTopOffset(slatIndex)\n        let slatHeight = slatCoordCache.getHeight(slatIndex)\n        let partial = (topOffset - slatTop) / slatHeight // floating point number between 0 and 1\n        let localSnapIndex = Math.floor(partial * snapsPerSlot) // the snap # relative to start of slat\n        let snapIndex = slatIndex * snapsPerSlot + localSnapIndex\n        let snapTop = slatTop + (localSnapIndex / snapsPerSlot) * slatHeight\n        let snapBottom = slatTop + ((localSnapIndex + 1) / snapsPerSlot) * slatHeight\n\n        return {\n          col: colIndex,\n          snap: snapIndex,\n          component: this, // needed unfortunately :(\n          left: colCoordCache.getLeftOffset(colIndex),\n          right: colCoordCache.getRightOffset(colIndex),\n          top: snapTop,\n          bottom: snapBottom\n        }\n      }\n    }\n  }\n\n\n  getHitFootprint(hit) {\n    let start = this.getCellDate(0, hit.col) // row=0\n    let time = this.computeSnapTime(hit.snap) // pass in the snap-index\n    let end\n\n    start.time(time)\n    end = start.clone().add(this.snapDuration)\n\n    return new ComponentFootprint(\n      new UnzonedRange(start, end),\n      false // all-day?\n    )\n  }\n\n\n  // Given a row number of the grid, representing a \"snap\", returns a time (Duration) from its start-of-day\n  computeSnapTime(snapIndex) {\n    return moment.duration(this.dateProfile.minTime + this.snapDuration * snapIndex)\n  }\n\n\n  getHitEl(hit) {\n    return this.colEls.eq(hit.col)\n  }\n\n\n  /* Event Drag Visualization\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  // Renders a visual indication of an event being dragged over the specified date(s).\n  // A returned value of `true` signals that a mock \"helper\" event has been rendered.\n  renderDrag(eventFootprints, seg, isTouch) {\n    let i\n\n    if (seg) { // if there is event information for this drag, render a helper event\n\n      if (eventFootprints.length) {\n        this.helperRenderer.renderEventDraggingFootprints(eventFootprints, seg, isTouch)\n\n        // signal that a helper has been rendered\n        return true\n      }\n    } else { // otherwise, just render a highlight\n\n      for (i = 0; i < eventFootprints.length; i++) {\n        this.renderHighlight(eventFootprints[i].componentFootprint)\n      }\n    }\n  }\n\n\n  // Unrenders any visual indication of an event being dragged\n  unrenderDrag() {\n    this.unrenderHighlight()\n    this.helperRenderer.unrender()\n  }\n\n\n  /* Event Resize Visualization\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  // Renders a visual indication of an event being resized\n  renderEventResize(eventFootprints, seg, isTouch) {\n    this.helperRenderer.renderEventResizingFootprints(eventFootprints, seg, isTouch)\n  }\n\n\n  // Unrenders any visual indication of an event being resized\n  unrenderEventResize() {\n    this.helperRenderer.unrender()\n  }\n\n\n  /* Selection\n  ------------------------------------------------------------------------------------------------------------------*/\n\n\n  // Renders a visual indication of a selection. Overrides the default, which was to simply render a highlight.\n  renderSelectionFootprint(componentFootprint) {\n    if (this.opt('selectHelper')) { // this setting signals that a mock helper event should be rendered\n      this.helperRenderer.renderComponentFootprint(componentFootprint)\n    } else {\n      this.renderHighlight(componentFootprint)\n    }\n  }\n\n\n  // Unrenders any visual indication of a selection\n  unrenderSelection() {\n    this.helperRenderer.unrender()\n    this.unrenderHighlight()\n  }\n\n}\n\nTimeGrid.prototype.eventRendererClass = TimeGridEventRenderer\nTimeGrid.prototype.businessHourRendererClass = BusinessHourRenderer\nTimeGrid.prototype.helperRendererClass = TimeGridHelperRenderer\nTimeGrid.prototype.fillRendererClass = TimeGridFillRenderer\n\nStandardInteractionsMixin.mixInto(TimeGrid)\nDayTableMixin.mixInto(TimeGrid)\n\n\n\n// WEBPACK FOOTER //\n// ./src/agenda/TimeGrid.ts","import UnzonedRange from '../models/UnzonedRange'\nimport DateProfileGenerator from '../DateProfileGenerator'\n\n\nexport default class BasicViewDateProfileGenerator extends DateProfileGenerator {\n\n  // Computes the date range that will be rendered.\n  buildRenderRange(currentUnzonedRange, currentRangeUnit, isRangeAllDay) {\n    let renderUnzonedRange = super.buildRenderRange(currentUnzonedRange, currentRangeUnit, isRangeAllDay) // an UnzonedRange\n    let start = this.msToUtcMoment(renderUnzonedRange.startMs, isRangeAllDay)\n    let end = this.msToUtcMoment(renderUnzonedRange.endMs, isRangeAllDay)\n\n    // year and month views should be aligned with weeks. this is already done for week\n    if (/^(year|month)$/.test(currentRangeUnit)) {\n      start.startOf('week')\n\n      // make end-of-week if not already\n      if (end.weekday()) {\n        end.add(1, 'week').startOf('week') // exclusively move backwards\n      }\n    }\n\n    return new UnzonedRange(start, end)\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/basic/BasicViewDateProfileGenerator.ts","import * as moment from 'moment'\nimport { distributeHeight } from '../util'\nimport BasicView from './BasicView'\nimport MonthViewDateProfileGenerator from './MonthViewDateProfileGenerator'\n\n\n/* A month view with day cells running in rows (one-per-week) and columns\n----------------------------------------------------------------------------------------------------------------------*/\n\nexport default class MonthView extends BasicView {\n\n  // Overrides the default BasicView behavior to have special multi-week auto-height logic\n  setGridHeight(height, isAuto) {\n\n    // if auto, make the height of each row the height that it would be if there were 6 weeks\n    if (isAuto) {\n      height *= this.dayGrid.rowCnt / 6\n    }\n\n    distributeHeight(this.dayGrid.rowEls, height, !isAuto) // if auto, don't compensate for height-hogging rows\n  }\n\n\n  isDateInOtherMonth(date, dateProfile) {\n    return date.month() !== moment.utc(dateProfile.currentUnzonedRange.startMs).month() // TODO: optimize\n  }\n\n}\n\nMonthView.prototype.dateProfileGeneratorClass = MonthViewDateProfileGenerator\n\n\n\n// WEBPACK FOOTER //\n// ./src/basic/MonthView.ts","import * as $ from 'jquery'\nimport { htmlEscape, subtractInnerElHeight } from '../util'\nimport UnzonedRange from '../models/UnzonedRange'\nimport View from '../View'\nimport Scroller from '../common/Scroller'\nimport ListEventRenderer from './ListEventRenderer'\nimport ListEventPointing from './ListEventPointing'\n\n/*\nResponsible for the scroller, and forwarding event-related actions into the \"grid\".\n*/\nexport default class ListView extends View {\n\n  // initialized after the class\n  eventRendererClass: any\n  eventPointingClass: any\n\n  segSelector: any = '.fc-list-item' // which elements accept event actions\n\n  scroller: any\n  contentEl: any\n\n  dayDates: any // localized ambig-time moment array\n  dayRanges: any // UnzonedRange[], of start-end of each day\n\n\n  constructor(calendar, viewSpec) {\n    super(calendar, viewSpec)\n\n    this.scroller = new Scroller({\n      overflowX: 'hidden',\n      overflowY: 'auto'\n    })\n  }\n\n\n  renderSkeleton() {\n    this.el.addClass(\n      'fc-list-view ' +\n      this.calendar.theme.getClass('listView')\n    )\n\n    this.scroller.render()\n    this.scroller.el.appendTo(this.el)\n\n    this.contentEl = this.scroller.scrollEl // shortcut\n  }\n\n\n  unrenderSkeleton() {\n    this.scroller.destroy() // will remove the Grid too\n  }\n\n\n  updateSize(totalHeight, isAuto, isResize) {\n    super.updateSize(totalHeight, isAuto, isResize)\n\n    this.scroller.clear() // sets height to 'auto' and clears overflow\n\n    if (!isAuto) {\n      this.scroller.setHeight(this.computeScrollerHeight(totalHeight))\n    }\n  }\n\n\n  computeScrollerHeight(totalHeight) {\n    return totalHeight -\n      subtractInnerElHeight(this.el, this.scroller.el) // everything that's NOT the scroller\n  }\n\n\n  renderDates(dateProfile) {\n    let calendar = this.calendar\n    let dayStart = calendar.msToUtcMoment(dateProfile.renderUnzonedRange.startMs, true)\n    let viewEnd = calendar.msToUtcMoment(dateProfile.renderUnzonedRange.endMs, true)\n    let dayDates = []\n    let dayRanges = []\n\n    while (dayStart < viewEnd) {\n\n      dayDates.push(dayStart.clone())\n\n      dayRanges.push(new UnzonedRange(\n        dayStart,\n        dayStart.clone().add(1, 'day')\n      ))\n\n      dayStart.add(1, 'day')\n    }\n\n    this.dayDates = dayDates\n    this.dayRanges = dayRanges\n\n    // all real rendering happens in EventRenderer\n  }\n\n\n  // slices by day\n  componentFootprintToSegs(footprint) {\n    let dayRanges = this.dayRanges\n    let dayIndex\n    let segRange\n    let seg\n    let segs = []\n\n    for (dayIndex = 0; dayIndex < dayRanges.length; dayIndex++) {\n      segRange = footprint.unzonedRange.intersect(dayRanges[dayIndex])\n\n      if (segRange) {\n        seg = {\n          startMs: segRange.startMs,\n          endMs: segRange.endMs,\n          isStart: segRange.isStart,\n          isEnd: segRange.isEnd,\n          dayIndex: dayIndex\n        }\n\n        segs.push(seg)\n\n        // detect when footprint won't go fully into the next day,\n        // and mutate the latest seg to the be the end.\n        if (\n          !seg.isEnd && !footprint.isAllDay &&\n          dayIndex + 1 < dayRanges.length &&\n          footprint.unzonedRange.endMs < dayRanges[dayIndex + 1].startMs + this.nextDayThreshold\n        ) {\n          seg.endMs = footprint.unzonedRange.endMs\n          seg.isEnd = true\n          break\n        }\n      }\n    }\n\n    return segs\n  }\n\n\n  renderEmptyMessage() {\n    this.contentEl.html(\n      '<div class=\"fc-list-empty-wrap2\">' + // TODO: try less wraps\n      '<div class=\"fc-list-empty-wrap1\">' +\n      '<div class=\"fc-list-empty\">' + '<div class=\"noEventImg\">  </div>' +\n        htmlEscape(this.opt('noEventsMessage')) +\n      '</div>' +\n      '</div>' +\n      '</div>'\n    )\n  }\n\n  // render the event segments in the view\n  renderSegList(allSegs) {\n \n    let segsByDay = this.groupSegsByDay(allSegs) // sparse array\n    let dayIndex\n    let daySegs\n    let i\n    let tableEl = $('<table class=\"fc-list-table ' + this.calendar.theme.getClass('tableList') + '\"><tbody/></table>')\n    let tbodyEl = tableEl.find('tbody')\n\n    for (dayIndex = 0; dayIndex < segsByDay.length; dayIndex++) {\n      daySegs = segsByDay[dayIndex]\n\n      if (daySegs) { // sparse array, so might be undefined\n\n        // append a day header\n        tbodyEl.append(this.dayHeaderHtml(this.dayDates[dayIndex]))\n\n        this.eventRenderer.sortEventSegs(daySegs)\n\n        for (i = 0; i < daySegs.length; i++) {\n          tbodyEl.append(daySegs[i].el) // append event row\n        }\n      }\n    }\n\n    this.contentEl.empty().append(tableEl)\n  }\n\n\n  // Returns a sparse array of arrays, segs grouped by their dayIndex\n  groupSegsByDay(segs) {\n    let segsByDay = [] // sparse array\n    let i\n    let seg\n\n    for (i = 0; i < segs.length; i++) {\n      seg = segs[i];\n      (segsByDay[seg.dayIndex] || (segsByDay[seg.dayIndex] = []))\n        .push(seg)\n    }\n\n    return segsByDay\n  }\n\n\n  // generates the HTML for the day headers that live amongst the event rows\n  dayHeaderHtml(dayDate) {\n    let mainFormat = this.opt('listDayFormat')\n    let altFormat = this.opt('listDayAltFormat')\n\n    return '<tr class=\"fc-list-heading\" data-date=\"' + dayDate.format('YYYY-MM-DD') + '\">' +\n      '<td class=\"' + (\n        this.calendar.theme.getClass('tableListHeading') ||\n        this.calendar.theme.getClass('widgetHeader')\n      ) + '\" colspan=\"3\">' +\n        (mainFormat ?\n          this.buildGotoAnchorHtml(\n            dayDate,\n            { 'class': 'fc-list-heading-main' },\n            htmlEscape(dayDate.format(mainFormat)) // inner HTML\n          ) :\n          '') +\n        (altFormat ?\n          this.buildGotoAnchorHtml(\n            dayDate,\n            { 'class': 'fc-list-heading-alt' },\n            htmlEscape(dayDate.format(altFormat)) // inner HTML\n          ) :\n          '') +\n      '</td>' +\n    '</tr>'\n  }\n\n}\n\nListView.prototype.eventRendererClass = ListEventRenderer\nListView.prototype.eventPointingClass = ListEventPointing\n\n\n\n// WEBPACK FOOTER //\n// ./src/list/ListView.ts","import * as $ from 'jquery'\nimport * as exportHooks from './exports'\nimport { warn } from './util'\nimport Calendar from './Calendar'\n\n// for intentional side-effects\nimport './moment-ext'\nimport './date-formatting'\nimport './models/event-source/config'\nimport './theme/config'\nimport './basic/config'\nimport './agenda/config'\nimport './list/config'\nimport './types/jquery-hooks'\n\n\n($ as any).fullCalendar = exportHooks\nexport = exportHooks\n\n\n$.fn.fullCalendar = function(options?): (JQuery | any) {\n  let args = Array.prototype.slice.call(arguments, 1) // for a possible method call\n  let res = this // what this function will return (this jQuery object by default)\n\n  this.each(function(i, _element) { // loop each DOM element involved\n    let element = $(_element)\n    let calendar = element.data('fullCalendar') // get the existing calendar object (if any)\n    let singleRes // the returned value of this single method call\n\n    // a method call\n    if (typeof options === 'string') {\n\n      if (options === 'getCalendar') {\n        if (!i) { // first element only\n          res = calendar\n        }\n      } else if (options === 'destroy') { // don't warn if no calendar object\n        if (calendar) {\n          calendar.destroy()\n          element.removeData('fullCalendar')\n        }\n      } else if (!calendar) {\n        warn('Attempting to call a FullCalendar method on an element with no calendar.')\n      } else if ($.isFunction(calendar[options])) {\n        singleRes = calendar[options].apply(calendar, args)\n\n        if (!i) {\n          res = singleRes // record the first method call result\n        }\n        if (options === 'destroy') { // for the destroy method, must remove Calendar object data\n          element.removeData('fullCalendar')\n        }\n      } else {\n        warn(\"'\" + options + \"' is an unknown FullCalendar method.\")\n      }\n    } else if (!calendar) { // don't initialize twice\n      calendar = new Calendar(element, options)\n      element.data('fullCalendar', calendar)\n      calendar.render()\n    }\n  })\n\n  return res\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import Model from '../common/Model'\n\nexport default class Component extends Model {\n\n  el: any\n\n\n  setElement(el) {\n    this.el = el\n    this.bindGlobalHandlers()\n    this.renderSkeleton()\n    this.set('isInDom', true)\n  }\n\n\n  removeElement() {\n    this.unset('isInDom')\n    this.unrenderSkeleton()\n    this.unbindGlobalHandlers()\n\n    this.el.remove()\n    // NOTE: don't null-out this.el in case the View was destroyed within an API callback.\n    // We don't null-out the View's other jQuery element references upon destroy,\n    //  so we shouldn't kill this.el either.\n  }\n\n\n  bindGlobalHandlers() {\n    // subclasses can override\n  }\n\n\n  unbindGlobalHandlers() {\n    // subclasses can override\n  }\n\n\n  /*\n  NOTE: Can't have a `render` method. Read the deprecation notice in View::executeDateRender\n  */\n\n\n  // Renders the basic structure of the view before any content is rendered\n  renderSkeleton() {\n    // subclasses should implement\n  }\n\n\n  // Unrenders the basic structure of the view\n  unrenderSkeleton() {\n    // subclasses should implement\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/Component.ts","\nexport default class Iterator {\n\n  items: any\n\n  constructor(items) {\n    this.items = items || []\n  }\n\n  /* Calls a method on every item passing the arguments through */\n  proxyCall(methodName, ...args) {\n    let results = []\n\n    this.items.forEach(function(item) {\n      results.push(item[methodName].apply(item, args))\n    })\n\n    return results\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/Iterator.ts","import * as $ from 'jquery'\nimport { htmlEscape } from './util'\n\n\n/* Toolbar with buttons and title\n----------------------------------------------------------------------------------------------------------------------*/\n\nexport default class Toolbar {\n\n  calendar: any\n  toolbarOptions: any\n  el: any = null // mirrors local `el`\n  viewsWithButtons: any = []\n\n\n  constructor(calendar, toolbarOptions) {\n    this.calendar = calendar\n    this.toolbarOptions = toolbarOptions\n  }\n\n\n  // method to update toolbar-specific options, not calendar-wide options\n  setToolbarOptions(newToolbarOptions) {\n    this.toolbarOptions = newToolbarOptions\n  }\n\n\n  // can be called repeatedly and will rerender\n  render() {\n    let sections = this.toolbarOptions.layout\n    let el = this.el\n\n    if (sections) {\n      if (!el) {\n        el = this.el = $(\"<div class='fc-toolbar \" + this.toolbarOptions.extraClasses + \"'/>\")\n      } else {\n        el.empty()\n      }\n      el.append(this.renderSection('left'))\n        .append(this.renderSection('right'))\n        .append(this.renderSection('center'))\n        .append('<div class=\"fc-clear\"/>')\n    } else {\n      this.removeElement()\n    }\n  }\n\n\n  removeElement() {\n    if (this.el) {\n      this.el.remove()\n      this.el = null\n    }\n  }\n\n\n  renderSection(position) {\n    let calendar = this.calendar\n    let theme = calendar.theme\n    let optionsManager = calendar.optionsManager\n    console.log(\"optionsManager\", optionsManager)\n    let viewSpecManager = calendar.viewSpecManager\n    let sectionEl = $('<div class=\"fc-' + position + '\"/>')\n    let buttonStr = this.toolbarOptions.layout[position]\n    let calendarCustomButtons = optionsManager.get('customButtons') || {}\n    let calendarButtonTextOverrides = optionsManager.overrides.buttonText || {}\n    let calendarButtonText = optionsManager.get('buttonText') || {}\n\n    if (buttonStr) {\n      $.each(buttonStr.split(' '), (i, buttonGroupStr) => {\n        let groupChildren = $()\n        let isOnlyButtons = true\n        let groupEl\n\n        $.each(buttonGroupStr.split(','), (j, buttonName) => {\n          let customButtonProps\n          let viewSpec\n          let buttonClick\n          let buttonIcon // only one of these will be set\n          let buttonText // \"\n          let buttonInnerHtml\n          let buttonClasses\n          let buttonEl\n          let buttonAriaAttr\n\n          if (buttonName === 'title') {\n            groupChildren = groupChildren.add($('<h2>&nbsp;</h2>')) // we always want it to take up height\n            isOnlyButtons = false\n          } else {\n\n            if ((customButtonProps = calendarCustomButtons[buttonName])) {\n              buttonClick = function (ev) {\n                if (customButtonProps.click) {\n                  customButtonProps.click.call(buttonEl[0], ev)\n                }\n              };\n              (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                (buttonIcon = theme.getIconClass(buttonName)) ||\n                (buttonText = customButtonProps.text)\n            } else if ((viewSpec = viewSpecManager.getViewSpec(buttonName))) {\n              this.viewsWithButtons.push(buttonName)\n              buttonClick = function () {\n                calendar.changeView(buttonName)\n              };\n              (buttonText = viewSpec.buttonTextOverride) ||\n                (buttonIcon = theme.getIconClass(buttonName)) ||\n                (buttonText = viewSpec.buttonTextDefault)\n            } else if (calendar[buttonName]) { // a calendar method\n              buttonClick = function () {\n                calendar[buttonName]()\n              };\n              (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                (buttonIcon = theme.getIconClass(buttonName)) ||\n                (buttonText = calendarButtonText[buttonName])\n              //            ^ everything else is considered default\n            }\n\n            if (buttonClick) {\n\n              buttonClasses = [\n                'fc-' + buttonName + '-button',\n                theme.getClass('button'),\n                theme.getClass('stateDefault')\n              ]\n\n              if (buttonText) {\n                buttonInnerHtml = htmlEscape(buttonText)\n                buttonAriaAttr = ''\n              } else if (buttonIcon) {\n                buttonInnerHtml = \"<span class='\" + buttonIcon + \"'></span>\"\n                buttonAriaAttr = ' aria-label=\"' + buttonName + '\"'\n              }\n\n              buttonEl = $( // type=\"button\" so that it doesn't submit a form\n                '<button type=\"button\" class=\"' + buttonClasses.join(' ') + '\"' +\n                buttonAriaAttr +\n                '>' + buttonInnerHtml + '</button>'\n              )\n                .click(function (ev) {\n                  // don't process clicks for disabled buttons\n                  if (!buttonEl.hasClass(theme.getClass('stateDisabled'))) {\n\n                    buttonClick(ev)\n\n                    // after the click action, if the button becomes the \"active\" tab, or disabled,\n                    // it should never have a hover class, so remove it now.\n                    if (\n                      buttonEl.hasClass(theme.getClass('stateActive')) ||\n                      buttonEl.hasClass(theme.getClass('stateDisabled'))\n                    ) {\n                      buttonEl.removeClass(theme.getClass('stateHover'))\n                    }\n                  }\n                })\n                .mousedown(function () {\n                  // the *down* effect (mouse pressed in).\n                  // only on buttons that are not the \"active\" tab, or disabled\n                  buttonEl\n                    .not('.' + theme.getClass('stateActive'))\n                    .not('.' + theme.getClass('stateDisabled'))\n                    .addClass(theme.getClass('stateDown'))\n                })\n                .mouseup(function () {\n                  // undo the *down* effect\n                  buttonEl.removeClass(theme.getClass('stateDown'))\n                })\n                .hover(\n                  function () {\n                    // the *hover* effect.\n                    // only on buttons that are not the \"active\" tab, or disabled\n                    buttonEl\n                      .not('.' + theme.getClass('stateActive'))\n                      .not('.' + theme.getClass('stateDisabled'))\n                      .addClass(theme.getClass('stateHover'))\n                  },\n                  function () {\n                    // undo the *hover* effect\n                    buttonEl\n                      .removeClass(theme.getClass('stateHover'))\n                      .removeClass(theme.getClass('stateDown')) // if mouseleave happens before mouseup\n                  }\n                )\n\n              groupChildren = groupChildren.add(buttonEl)\n            }\n          }\n        })\n\n        if (isOnlyButtons) {\n          groupChildren\n            .first().addClass(theme.getClass('cornerLeft')).end()\n            .last().addClass(theme.getClass('cornerRight')).end()\n        }\n\n        if (groupChildren.length > 1) {\n          groupEl = $('<div/>')\n          if (isOnlyButtons) {\n            groupEl.addClass(theme.getClass('buttonGroup'))\n          }\n          groupEl.append(groupChildren)\n          sectionEl.append(groupEl)\n        } else {\n          sectionEl.append(groupChildren) // 1 or 0 children\n        }\n      })\n    }\n\n    return sectionEl\n  }\n\n\n  updateTitle(text) {\n    if (this.calendar.optionsManager.overrides.locale === 'th') {\n      let year = text.match(/\\d{4}/)\n      // tslint:disable-next-line:radix\n      let BEYear = year && parseInt(year[0]) + 543\n      text = text.replace(/\\d{4}/,BEYear)\n    }\n    if (this.el) {\n      this.el.find('h2').text(text)\n    }\n  }\n\n\n  activateButton(buttonName) {\n    if (this.el) {\n      this.el.find('.fc-' + buttonName + '-button')\n        .addClass(this.calendar.theme.getClass('stateActive'))\n    }\n  }\n\n\n  deactivateButton(buttonName) {\n    if (this.el) {\n      this.el.find('.fc-' + buttonName + '-button')\n        .removeClass(this.calendar.theme.getClass('stateActive'))\n    }\n  }\n\n\n  disableButton(buttonName) {\n    if (this.el) {\n      this.el.find('.fc-' + buttonName + '-button')\n        .prop('disabled', true)\n        .addClass(this.calendar.theme.getClass('stateDisabled'))\n    }\n  }\n\n\n  enableButton(buttonName) {\n    if (this.el) {\n      this.el.find('.fc-' + buttonName + '-button')\n        .prop('disabled', false)\n        .removeClass(this.calendar.theme.getClass('stateDisabled'))\n    }\n  }\n\n\n  getViewsWithButtons() {\n    return this.viewsWithButtons\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Toolbar.ts","import * as $ from 'jquery'\nimport { firstDefined } from './util'\nimport { globalDefaults, rtlDefaults, mergeOptions } from './options'\nimport { localeOptionHash, populateInstanceComputableOptions } from './locale'\nimport Model from './common/Model'\n\n\nexport default class OptionsManager extends Model {\n\n  _calendar: any // avoid\n  dirDefaults: any // option defaults related to LTR or RTL\n  localeDefaults: any // option defaults related to current locale\n  overrides: any // option overrides given to the fullCalendar constructor\n  dynamicOverrides: any // options set with dynamic setter method. higher precedence than view overrides.\n\n\n  constructor(_calendar, overrides) {\n    super()\n    this._calendar = _calendar\n    this.overrides = $.extend({}, overrides) // make a copy\n    this.dynamicOverrides = {}\n    this.compute()\n  }\n\n\n  add(newOptionHash) {\n    let optionCnt = 0\n    let optionName\n\n    this.recordOverrides(newOptionHash) // will trigger this model's watchers\n\n    for (optionName in newOptionHash) {\n      optionCnt++\n    }\n\n    // special-case handling of single option change.\n    // if only one option change, `optionName` will be its name.\n    if (optionCnt === 1) {\n      if (optionName === 'height' || optionName === 'contentHeight' || optionName === 'aspectRatio') {\n        this._calendar.updateViewSize(true) // isResize=true\n        return\n      } else if (optionName === 'defaultDate') {\n        return // can't change date this way. use gotoDate instead\n      } else if (optionName === 'businessHours') {\n        return // this model already reacts to this\n      } else if (/^(event|select)(Overlap|Constraint|Allow)$/.test(optionName)) {\n        return // doesn't affect rendering. only interactions.\n      } else if (optionName === 'timezone') {\n        this._calendar.view.flash('initialEvents')\n        return\n      }\n    }\n\n    // catch-all. rerender the header and footer and rebuild/rerender the current view\n    this._calendar.renderHeader()\n    this._calendar.renderFooter()\n\n    // even non-current views will be affected by this option change. do before rerender\n    // TODO: detangle\n    this._calendar.viewsByType = {}\n\n    this._calendar.reinitView()\n  }\n\n\n  // Computes the flattened options hash for the calendar and assigns to `this.options`.\n  // Assumes this.overrides and this.dynamicOverrides have already been initialized.\n  compute() {\n    let locale\n    let localeDefaults\n    let isRTL\n    let dirDefaults\n    let rawOptions\n\n    locale = firstDefined( // explicit locale option given?\n      this.dynamicOverrides.locale,\n      this.overrides.locale\n    )\n    localeDefaults = localeOptionHash[locale]\n    if (!localeDefaults) { // explicit locale option not given or invalid?\n      locale = globalDefaults.locale\n      localeDefaults = localeOptionHash[locale] || {}\n    }\n\n    isRTL = firstDefined( // based on options computed so far, is direction RTL?\n      this.dynamicOverrides.isRTL,\n      this.overrides.isRTL,\n      localeDefaults.isRTL,\n      globalDefaults.isRTL\n    )\n    dirDefaults = isRTL ? rtlDefaults : {}\n\n    this.dirDefaults = dirDefaults\n    this.localeDefaults = localeDefaults\n\n    rawOptions = mergeOptions([ // merge defaults and overrides. lowest to highest precedence\n      globalDefaults, // global defaults\n      dirDefaults,\n      localeDefaults,\n      this.overrides,\n      this.dynamicOverrides\n    ])\n    populateInstanceComputableOptions(rawOptions) // fill in gaps with computed options\n\n    this.reset(rawOptions)\n  }\n\n\n  // stores the new options internally, but does not rerender anything.\n  recordOverrides(newOptionHash) {\n    let optionName\n\n    for (optionName in newOptionHash) {\n      this.dynamicOverrides[optionName] = newOptionHash[optionName]\n    }\n\n    this._calendar.viewSpecManager.clearCache() // the dynamic override invalidates the options in this cache, so just clear it\n    this.compute() // this.options needs to be recomputed after the dynamic override\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/OptionsManager.ts","import * as moment from 'moment'\nimport * as $ from 'jquery'\nimport { viewHash } from './ViewRegistry'\nimport { mergeProps, unitsDesc, computeDurationGreatestUnit } from './util'\nimport { mergeOptions, globalDefaults } from './options'\nimport { populateInstanceComputableOptions } from './locale'\n\n\nexport default class ViewSpecManager {\n\n  _calendar: any // avoid\n  optionsManager: any\n  viewSpecCache: any // cache of view definitions (initialized in Calendar.js)\n\n\n  constructor(optionsManager, _calendar) {\n    this.optionsManager = optionsManager\n    this._calendar = _calendar\n\n    this.clearCache()\n  }\n\n\n  clearCache() {\n    this.viewSpecCache = {}\n  }\n\n\n  // Gets information about how to create a view. Will use a cache.\n  getViewSpec(viewType) {\n    let cache = this.viewSpecCache\n\n    return cache[viewType] || (cache[viewType] = this.buildViewSpec(viewType))\n  }\n\n\n  // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n  // Preference is given to views that have corresponding buttons.\n  getUnitViewSpec(unit) {\n    let viewTypes\n    let i\n    let spec\n\n    if ($.inArray(unit, unitsDesc) !== -1) {\n\n      // put views that have buttons first. there will be duplicates, but oh well\n      viewTypes = this._calendar.header.getViewsWithButtons() // TODO: include footer as well?\n      $.each(viewHash, function(viewType) { // all views\n        viewTypes.push(viewType)\n      })\n\n      for (i = 0; i < viewTypes.length; i++) {\n        spec = this.getViewSpec(viewTypes[i])\n        if (spec) {\n          if (spec.singleUnit === unit) {\n            return spec\n          }\n        }\n      }\n    }\n  }\n\n\n  // Builds an object with information on how to create a given view\n  buildViewSpec(requestedViewType) {\n    let viewOverrides = this.optionsManager.overrides.views || {}\n    let specChain = [] // for the view. lowest to highest priority\n    let defaultsChain = [] // for the view. lowest to highest priority\n    let overridesChain = [] // for the view. lowest to highest priority\n    let viewType = requestedViewType\n    let spec // for the view\n    let overrides // for the view\n    let durationInput\n    let duration\n    let unit\n\n    // iterate from the specific view definition to a more general one until we hit an actual View class\n    while (viewType) {\n      spec = viewHash[viewType]\n      overrides = viewOverrides[viewType]\n      viewType = null // clear. might repopulate for another iteration\n\n      if (typeof spec === 'function') { // TODO: deprecate\n        spec = { 'class': spec }\n      }\n\n      if (spec) {\n        specChain.unshift(spec)\n        defaultsChain.unshift(spec.defaults || {})\n        durationInput = durationInput || spec.duration\n        viewType = viewType || spec.type\n      }\n\n      if (overrides) {\n        overridesChain.unshift(overrides) // view-specific option hashes have options at zero-level\n        durationInput = durationInput || overrides.duration\n        viewType = viewType || overrides.type\n      }\n    }\n\n    spec = mergeProps(specChain)\n    spec.type = requestedViewType\n    if (!spec['class']) {\n      return false\n    }\n\n    // fall back to top-level `duration` option\n    durationInput = durationInput ||\n      this.optionsManager.dynamicOverrides.duration ||\n      this.optionsManager.overrides.duration\n\n    if (durationInput) {\n      duration = moment.duration(durationInput)\n\n      if (duration.valueOf()) { // valid?\n\n        unit = computeDurationGreatestUnit(duration, durationInput)\n\n        spec.duration = duration\n        spec.durationUnit = unit\n\n        // view is a single-unit duration, like \"week\" or \"day\"\n        // incorporate options for this. lowest priority\n        if (duration.as(unit) === 1) {\n          spec.singleUnit = unit\n          overridesChain.unshift(viewOverrides[unit] || {})\n        }\n      }\n    }\n\n    spec.defaults = mergeOptions(defaultsChain)\n    spec.overrides = mergeOptions(overridesChain)\n\n    this.buildViewSpecOptions(spec)\n    this.buildViewSpecButtonText(spec, requestedViewType)\n\n    return spec\n  }\n\n\n  // Builds and assigns a view spec's options object from its already-assigned defaults and overrides\n  buildViewSpecOptions(spec) {\n    let optionsManager = this.optionsManager\n\n    spec.options = mergeOptions([ // lowest to highest priority\n      globalDefaults,\n      spec.defaults, // view's defaults (from ViewSubclass.defaults)\n      optionsManager.dirDefaults,\n      optionsManager.localeDefaults, // locale and dir take precedence over view's defaults!\n      optionsManager.overrides, // calendar's overrides (options given to constructor)\n      spec.overrides, // view's overrides (view-specific options)\n      optionsManager.dynamicOverrides // dynamically set via setter. highest precedence\n    ])\n    populateInstanceComputableOptions(spec.options)\n  }\n\n\n  // Computes and assigns a view spec's buttonText-related options\n  buildViewSpecButtonText(spec, requestedViewType) {\n    let optionsManager = this.optionsManager\n\n    // given an options object with a possible `buttonText` hash, lookup the buttonText for the\n    // requested view, falling back to a generic unit entry like \"week\" or \"day\"\n    function queryButtonText(options) {\n      let buttonText = options.buttonText || {}\n      return buttonText[requestedViewType] ||\n        // view can decide to look up a certain key\n        (spec.buttonTextKey ? buttonText[spec.buttonTextKey] : null) ||\n        // a key like \"month\"\n        (spec.singleUnit ? buttonText[spec.singleUnit] : null)\n    }\n\n    // highest to lowest priority\n    spec.buttonTextOverride =\n      queryButtonText(optionsManager.dynamicOverrides) ||\n      queryButtonText(optionsManager.overrides) || // constructor-specified buttonText lookup hash takes precedence\n      spec.overrides.buttonText // `buttonText` for view-specific options is a string\n\n    // highest to lowest priority. mirrors buildViewSpecOptions\n    spec.buttonTextDefault =\n      queryButtonText(optionsManager.localeDefaults) ||\n      queryButtonText(optionsManager.dirDefaults) ||\n      spec.defaults.buttonText || // a single string. from ViewSubclass.defaults\n      queryButtonText(globalDefaults) ||\n      (spec.duration ? this._calendar.humanizeDuration(spec.duration) : null) || // like \"3 days\"\n      requestedViewType // fall back to given view name\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ViewSpecManager.ts","import * as $ from 'jquery'\nimport { removeExact } from '../util'\nimport EventPeriod from './EventPeriod'\nimport ArrayEventSource from './event-source/ArrayEventSource'\nimport EventSource from './event-source/EventSource'\nimport EventSourceParser from './event-source/EventSourceParser'\nimport SingleEventDef from './event/SingleEventDef'\nimport EventInstanceGroup from './event/EventInstanceGroup'\nimport { default as EmitterMixin, EmitterInterface } from '../common/EmitterMixin'\nimport { default as ListenerMixin, ListenerInterface } from '../common/ListenerMixin'\n\n\nexport default class EventManager {\n\n  on: EmitterInterface['on']\n  one: EmitterInterface['one']\n  off: EmitterInterface['off']\n  trigger: EmitterInterface['trigger']\n  triggerWith: EmitterInterface['triggerWith']\n  hasHandlers: EmitterInterface['hasHandlers']\n  listenTo: ListenerInterface['listenTo']\n  stopListeningTo: ListenerInterface['stopListeningTo']\n\n  currentPeriod: any\n\n  calendar: any\n  stickySource: any\n  otherSources: any // does not include sticky source\n\n\n  constructor(calendar) {\n    this.calendar = calendar\n    this.stickySource = new ArrayEventSource(calendar)\n    this.otherSources = []\n  }\n\n\n  requestEvents(start, end, timezone, force) {\n    if (\n      force ||\n      !this.currentPeriod ||\n      !this.currentPeriod.isWithinRange(start, end) ||\n      timezone !== this.currentPeriod.timezone\n    ) {\n      this.setPeriod( // will change this.currentPeriod\n        new EventPeriod(start, end, timezone)\n      )\n    }\n\n    return this.currentPeriod.whenReleased()\n  }\n\n\n  // Source Adding/Removing\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  addSource(eventSource) {\n    this.otherSources.push(eventSource)\n\n    if (this.currentPeriod) {\n      this.currentPeriod.requestSource(eventSource) // might release\n    }\n  }\n\n\n  removeSource(doomedSource) {\n    removeExact(this.otherSources, doomedSource)\n\n    if (this.currentPeriod) {\n      this.currentPeriod.purgeSource(doomedSource) // might release\n    }\n  }\n\n\n  removeAllSources() {\n    this.otherSources = []\n\n    if (this.currentPeriod) {\n      this.currentPeriod.purgeAllSources() // might release\n    }\n  }\n\n\n  // Source Refetching\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  refetchSource(eventSource) {\n    let currentPeriod = this.currentPeriod\n\n    if (currentPeriod) {\n      currentPeriod.freeze()\n      currentPeriod.purgeSource(eventSource)\n      currentPeriod.requestSource(eventSource)\n      currentPeriod.thaw()\n    }\n  }\n\n\n  refetchAllSources() {\n    let currentPeriod = this.currentPeriod\n\n    if (currentPeriod) {\n      currentPeriod.freeze()\n      currentPeriod.purgeAllSources()\n      currentPeriod.requestSources(this.getSources())\n      currentPeriod.thaw()\n    }\n  }\n\n\n  // Source Querying\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  getSources() {\n    return [ this.stickySource ].concat(this.otherSources)\n  }\n\n\n  // like querySources, but accepts multple match criteria (like multiple IDs)\n  multiQuerySources(matchInputs) {\n\n    // coerce into an array\n    if (!matchInputs) {\n      matchInputs = []\n    } else if (!$.isArray(matchInputs)) {\n      matchInputs = [ matchInputs ]\n    }\n\n    let matchingSources = []\n    let i\n\n    // resolve raw inputs to real event source objects\n    for (i = 0; i < matchInputs.length; i++) {\n      matchingSources.push.apply( // append\n        matchingSources,\n        this.querySources(matchInputs[i])\n      )\n    }\n\n    return matchingSources\n  }\n\n\n  // matchInput can either by a real event source object, an ID, or the function/URL for the source.\n  // returns an array of matching source objects.\n  querySources(matchInput) {\n    let sources = this.otherSources\n    let i\n    let source\n\n    // given a proper event source object\n    for (i = 0; i < sources.length; i++) {\n      source = sources[i]\n\n      if (source === matchInput) {\n        return [ source ]\n      }\n    }\n\n    // an ID match\n    source = this.getSourceById(EventSource.normalizeId(matchInput))\n    if (source) {\n      return [ source ]\n    }\n\n    // parse as an event source\n    matchInput = EventSourceParser.parse(matchInput, this.calendar)\n    if (matchInput) {\n\n      return $.grep(sources, function(source) {\n        return isSourcesEquivalent(matchInput, source)\n      })\n    }\n  }\n\n\n  /*\n  ID assumed to already be normalized\n  */\n  getSourceById(id) {\n    return $.grep(this.otherSources, function(source: any) {\n      return source.id && source.id === id\n    })[0]\n  }\n\n\n  // Event-Period\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  setPeriod(eventPeriod) {\n    if (this.currentPeriod) {\n      this.unbindPeriod(this.currentPeriod)\n      this.currentPeriod = null\n    }\n\n    this.currentPeriod = eventPeriod\n    this.bindPeriod(eventPeriod)\n\n    eventPeriod.requestSources(this.getSources())\n  }\n\n\n  bindPeriod(eventPeriod) {\n    this.listenTo(eventPeriod, 'release', function(eventsPayload) {\n      this.trigger('release', eventsPayload)\n    })\n  }\n\n\n  unbindPeriod(eventPeriod) {\n    this.stopListeningTo(eventPeriod)\n  }\n\n\n  // Event Getting/Adding/Removing\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  getEventDefByUid(uid) {\n    if (this.currentPeriod) {\n      return this.currentPeriod.getEventDefByUid(uid)\n    }\n  }\n\n\n  addEventDef(eventDef, isSticky) {\n    if (isSticky) {\n      this.stickySource.addEventDef(eventDef)\n    }\n\n    if (this.currentPeriod) {\n      this.currentPeriod.addEventDef(eventDef) // might release\n    }\n  }\n\n\n  removeEventDefsById(eventId) {\n    this.getSources().forEach(function(eventSource) {\n      eventSource.removeEventDefsById(eventId)\n    })\n\n    if (this.currentPeriod) {\n      this.currentPeriod.removeEventDefsById(eventId) // might release\n    }\n  }\n\n\n  removeAllEventDefs() {\n    this.getSources().forEach(function(eventSource) {\n      eventSource.removeAllEventDefs()\n    })\n\n    if (this.currentPeriod) {\n      this.currentPeriod.removeAllEventDefs()\n    }\n  }\n\n\n  // Event Mutating\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  /*\n  Returns an undo function.\n  */\n  mutateEventsWithId(eventDefId, eventDefMutation) {\n    let currentPeriod = this.currentPeriod\n    let eventDefs\n    let undoFuncs = []\n\n    if (currentPeriod) {\n\n      currentPeriod.freeze()\n\n      eventDefs = currentPeriod.getEventDefsById(eventDefId)\n      eventDefs.forEach(function(eventDef) {\n        // add/remove esp because id might change\n        currentPeriod.removeEventDef(eventDef)\n        undoFuncs.push(eventDefMutation.mutateSingle(eventDef))\n        currentPeriod.addEventDef(eventDef)\n      })\n\n      currentPeriod.thaw()\n\n      return function() {\n        currentPeriod.freeze()\n\n        for (let i = 0; i < eventDefs.length; i++) {\n          currentPeriod.removeEventDef(eventDefs[i])\n          undoFuncs[i]()\n          currentPeriod.addEventDef(eventDefs[i])\n        }\n\n        currentPeriod.thaw()\n      }\n    }\n\n    return function() { /* nothing to undo */ }\n  }\n\n\n  /*\n  copies and then mutates\n  */\n  buildMutatedEventInstanceGroup(eventDefId, eventDefMutation) {\n    let eventDefs = this.getEventDefsById(eventDefId)\n    let i\n    let defCopy\n    let allInstances = []\n\n    for (i = 0; i < eventDefs.length; i++) {\n      defCopy = eventDefs[i].clone()\n\n      if (defCopy instanceof SingleEventDef) {\n        eventDefMutation.mutateSingle(defCopy)\n\n        allInstances.push.apply(allInstances, // append\n          defCopy.buildInstances()\n        )\n      }\n    }\n\n    return new EventInstanceGroup(allInstances)\n  }\n\n\n  // Freezing\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  freeze() {\n    if (this.currentPeriod) {\n      this.currentPeriod.freeze()\n    }\n  }\n\n\n  thaw() {\n    if (this.currentPeriod) {\n      this.currentPeriod.thaw()\n    }\n  }\n\n\n  // methods that simply forward to EventPeriod\n\n  getEventDefsById(eventDefId) {\n    return this.currentPeriod.getEventDefsById(eventDefId)\n  }\n\n  getEventInstances() {\n    return this.currentPeriod.getEventInstances()\n  }\n\n  getEventInstancesWithId(eventDefId) {\n    return this.currentPeriod.getEventInstancesWithId(eventDefId)\n  }\n\n  getEventInstancesWithoutId(eventDefId) {\n    return this.currentPeriod.getEventInstancesWithoutId(eventDefId)\n  }\n\n}\n\n\nEmitterMixin.mixInto(EventManager)\nListenerMixin.mixInto(EventManager)\n\n\nfunction isSourcesEquivalent(source0, source1) {\n  return source0.getPrimitive() === source1.getPrimitive()\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/EventManager.ts","import * as $ from 'jquery'\nimport * as moment from 'moment'\nimport { removeExact, removeMatching } from '../util'\nimport Promise from '../common/Promise'\nimport { default as EmitterMixin, EmitterInterface } from '../common/EmitterMixin'\nimport UnzonedRange from './UnzonedRange'\nimport EventInstanceGroup from './event/EventInstanceGroup'\n\n\nexport default class EventPeriod {\n\n  on: EmitterInterface['on']\n  one: EmitterInterface['one']\n  off: EmitterInterface['off']\n  trigger: EmitterInterface['trigger']\n  triggerWith: EmitterInterface['triggerWith']\n  hasHandlers: EmitterInterface['hasHandlers']\n\n  start: moment.Moment\n  end: moment.Moment\n  timezone: any\n\n  unzonedRange: UnzonedRange\n\n  requestsByUid: any\n  pendingCnt: number = 0\n\n  freezeDepth: number = 0\n  stuntedReleaseCnt: number = 0\n  releaseCnt: number = 0\n\n  eventDefsByUid: any\n  eventDefsById: any\n  eventInstanceGroupsById: any\n\n\n  constructor(start, end, timezone) {\n    this.start = start\n    this.end = end\n    this.timezone = timezone\n\n    this.unzonedRange = new UnzonedRange(\n      start.clone().stripZone(),\n      end.clone().stripZone()\n    )\n\n    this.requestsByUid = {}\n    this.eventDefsByUid = {}\n    this.eventDefsById = {}\n    this.eventInstanceGroupsById = {}\n  }\n\n\n  isWithinRange(start, end) {\n    // TODO: use a range util function?\n    return !start.isBefore(this.start) && !end.isAfter(this.end)\n  }\n\n\n  // Requesting and Purging\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  requestSources(sources) {\n    this.freeze()\n\n    for (let i = 0; i < sources.length; i++) {\n      this.requestSource(sources[i])\n    }\n\n    this.thaw()\n  }\n\n\n  requestSource(source) {\n    let request = { source: source, status: 'pending', eventDefs: null }\n\n    this.requestsByUid[source.uid] = request\n    this.pendingCnt += 1\n\n    source.fetch(this.start, this.end, this.timezone).then((eventDefs) => {\n      if (request.status !== 'cancelled') {\n        request.status = 'completed'\n        request.eventDefs = eventDefs\n\n        this.addEventDefs(eventDefs)\n        this.pendingCnt--\n        this.tryRelease()\n      }\n    }, () => { // failure\n      if (request.status !== 'cancelled') {\n        request.status = 'failed'\n\n        this.pendingCnt--\n        this.tryRelease()\n      }\n    })\n  }\n\n\n  purgeSource(source) {\n    let request = this.requestsByUid[source.uid]\n\n    if (request) {\n      delete this.requestsByUid[source.uid]\n\n      if (request.status === 'pending') {\n        request.status = 'cancelled'\n        this.pendingCnt--\n        this.tryRelease()\n      } else if (request.status === 'completed') {\n        request.eventDefs.forEach(this.removeEventDef.bind(this))\n      }\n    }\n  }\n\n\n  purgeAllSources() {\n    let requestsByUid = this.requestsByUid\n    let uid\n    let request\n    let completedCnt = 0\n\n    for (uid in requestsByUid) {\n      request = requestsByUid[uid]\n\n      if (request.status === 'pending') {\n        request.status = 'cancelled'\n      } else if (request.status === 'completed') {\n        completedCnt++\n      }\n    }\n\n    this.requestsByUid = {}\n    this.pendingCnt = 0\n\n    if (completedCnt) {\n      this.removeAllEventDefs() // might release\n    }\n  }\n\n\n  // Event Definitions\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  getEventDefByUid(eventDefUid) {\n    return this.eventDefsByUid[eventDefUid]\n  }\n\n\n  getEventDefsById(eventDefId) {\n    let a = this.eventDefsById[eventDefId]\n\n    if (a) {\n      return a.slice() // clone\n    }\n\n    return []\n  }\n\n\n  addEventDefs(eventDefs) {\n    for (let i = 0; i < eventDefs.length; i++) {\n      this.addEventDef(eventDefs[i])\n    }\n  }\n\n\n  addEventDef(eventDef) {\n    let eventDefsById = this.eventDefsById\n    let eventDefId = eventDef.id\n    let eventDefs = eventDefsById[eventDefId] || (eventDefsById[eventDefId] = [])\n    let eventInstances = eventDef.buildInstances(this.unzonedRange)\n    let i\n\n    eventDefs.push(eventDef)\n\n    this.eventDefsByUid[eventDef.uid] = eventDef\n\n    for (i = 0; i < eventInstances.length; i++) {\n      this.addEventInstance(eventInstances[i], eventDefId)\n    }\n  }\n\n\n  removeEventDefsById(eventDefId) {\n    this.getEventDefsById(eventDefId).forEach((eventDef) => {\n      this.removeEventDef(eventDef)\n    })\n  }\n\n\n  removeAllEventDefs() {\n    let isEmpty = $.isEmptyObject(this.eventDefsByUid)\n\n    this.eventDefsByUid = {}\n    this.eventDefsById = {}\n    this.eventInstanceGroupsById = {}\n\n    if (!isEmpty) {\n      this.tryRelease()\n    }\n  }\n\n\n  removeEventDef(eventDef) {\n    let eventDefsById = this.eventDefsById\n    let eventDefs = eventDefsById[eventDef.id]\n\n    delete this.eventDefsByUid[eventDef.uid]\n\n    if (eventDefs) {\n      removeExact(eventDefs, eventDef)\n\n      if (!eventDefs.length) {\n        delete eventDefsById[eventDef.id]\n      }\n\n      this.removeEventInstancesForDef(eventDef)\n    }\n  }\n\n\n  // Event Instances\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  getEventInstances() { // TODO: consider iterator\n    let eventInstanceGroupsById = this.eventInstanceGroupsById\n    let eventInstances = []\n    let id\n\n    for (id in eventInstanceGroupsById) {\n      eventInstances.push.apply(eventInstances, // append\n        eventInstanceGroupsById[id].eventInstances\n      )\n    }\n\n    return eventInstances\n  }\n\n\n  getEventInstancesWithId(eventDefId) {\n    let eventInstanceGroup = this.eventInstanceGroupsById[eventDefId]\n\n    if (eventInstanceGroup) {\n      return eventInstanceGroup.eventInstances.slice() // clone\n    }\n\n    return []\n  }\n\n\n  getEventInstancesWithoutId(eventDefId) { // TODO: consider iterator\n    let eventInstanceGroupsById = this.eventInstanceGroupsById\n    let matchingInstances = []\n    let id\n\n    for (id in eventInstanceGroupsById) {\n      if (id !== eventDefId) {\n        matchingInstances.push.apply(matchingInstances, // append\n          eventInstanceGroupsById[id].eventInstances\n        )\n      }\n    }\n\n    return matchingInstances\n  }\n\n\n  addEventInstance(eventInstance, eventDefId) {\n    let eventInstanceGroupsById = this.eventInstanceGroupsById\n    let eventInstanceGroup = eventInstanceGroupsById[eventDefId] ||\n      (eventInstanceGroupsById[eventDefId] = new EventInstanceGroup())\n\n    eventInstanceGroup.eventInstances.push(eventInstance)\n\n    this.tryRelease()\n  }\n\n\n  removeEventInstancesForDef(eventDef) {\n    let eventInstanceGroupsById = this.eventInstanceGroupsById\n    let eventInstanceGroup = eventInstanceGroupsById[eventDef.id]\n    let removeCnt\n\n    if (eventInstanceGroup) {\n      removeCnt = removeMatching(eventInstanceGroup.eventInstances, function(currentEventInstance) {\n        return currentEventInstance.def === eventDef\n      })\n\n      if (!eventInstanceGroup.eventInstances.length) {\n        delete eventInstanceGroupsById[eventDef.id]\n      }\n\n      if (removeCnt) {\n        this.tryRelease()\n      }\n    }\n  }\n\n\n  // Releasing and Freezing\n  // -----------------------------------------------------------------------------------------------------------------\n\n\n  tryRelease() {\n    if (!this.pendingCnt) {\n      if (!this.freezeDepth) {\n        this.release()\n      } else {\n        this.stuntedReleaseCnt++\n      }\n    }\n  }\n\n\n  release() {\n    this.releaseCnt++\n    this.trigger('release', this.eventInstanceGroupsById)\n  }\n\n\n  whenReleased() {\n    if (this.releaseCnt) {\n      return Promise.resolve(this.eventInstanceGroupsById)\n    } else {\n      return Promise.construct((onResolve) => {\n        this.one('release', onResolve)\n      })\n    }\n  }\n\n\n  freeze() {\n    if (!(this.freezeDepth++)) {\n      this.stuntedReleaseCnt = 0\n    }\n  }\n\n\n  thaw() {\n    if (!(--this.freezeDepth) && this.stuntedReleaseCnt && !this.pendingCnt) {\n      this.release()\n    }\n  }\n\n}\n\nEmitterMixin.mixInto(EventPeriod)\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/EventPeriod.ts","import * as $ from 'jquery'\nimport {\n  getEvY,\n  getEvX,\n  getEvIsTouch\n} from '../util'\nimport { default as ListenerMixin, ListenerInterface } from './ListenerMixin'\n\n/* Creates a clone of an element and lets it track the mouse as it moves\n----------------------------------------------------------------------------------------------------------------------*/\n\nexport default class MouseFollower {\n\n  listenTo: ListenerInterface['listenTo']\n  stopListeningTo: ListenerInterface['stopListeningTo']\n\n  options: any\n\n  sourceEl: any // the element that will be cloned and made to look like it is dragging\n  el: any // the clone of `sourceEl` that will track the mouse\n  parentEl: any // the element that `el` (the clone) will be attached to\n\n  // the initial position of el, relative to the offset parent. made to match the initial offset of sourceEl\n  top0: any\n  left0: any\n\n  // the absolute coordinates of the initiating touch/mouse action\n  y0: any\n  x0: any\n\n  // the number of pixels the mouse has moved from its initial position\n  topDelta: any\n  leftDelta: any\n\n  isFollowing: boolean = false\n  isHidden: boolean = false\n  isAnimating: boolean = false // doing the revert animation?\n\n\n  constructor(sourceEl, options) {\n    this.options = options = options || {}\n    this.sourceEl = sourceEl\n    this.parentEl = options.parentEl ? $(options.parentEl) : sourceEl.parent() // default to sourceEl's parent\n  }\n\n\n  // Causes the element to start following the mouse\n  start(ev) {\n    if (!this.isFollowing) {\n      this.isFollowing = true\n\n      this.y0 = getEvY(ev)\n      this.x0 = getEvX(ev)\n      this.topDelta = 0\n      this.leftDelta = 0\n\n      if (!this.isHidden) {\n        this.updatePosition()\n      }\n\n      if (getEvIsTouch(ev)) {\n        this.listenTo($(document), 'touchmove', this.handleMove)\n      } else {\n        this.listenTo($(document), 'mousemove', this.handleMove)\n      }\n    }\n  }\n\n\n  // Causes the element to stop following the mouse. If shouldRevert is true, will animate back to original position.\n  // `callback` gets invoked when the animation is complete. If no animation, it is invoked immediately.\n  stop(shouldRevert, callback) {\n    let revertDuration = this.options.revertDuration\n\n    const complete = () => { // might be called by .animate(), which might change `this` context\n      this.isAnimating = false\n      this.removeElement()\n\n      this.top0 = this.left0 = null // reset state for future updatePosition calls\n\n      if (callback) {\n        callback()\n      }\n    }\n\n    if (this.isFollowing && !this.isAnimating) { // disallow more than one stop animation at a time\n      this.isFollowing = false\n\n      this.stopListeningTo($(document))\n\n      if (shouldRevert && revertDuration && !this.isHidden) { // do a revert animation?\n        this.isAnimating = true\n        this.el.animate({\n          top: this.top0,\n          left: this.left0\n        }, {\n          duration: revertDuration,\n          complete: complete\n        })\n      } else {\n        complete()\n      }\n    }\n  }\n\n\n  // Gets the tracking element. Create it if necessary\n  getEl() {\n    let el = this.el\n\n    if (!el) {\n      el = this.el = this.sourceEl.clone()\n        .addClass(this.options.additionalClass || '')\n        .css({\n          position: 'absolute',\n          visibility: '', // in case original element was hidden (commonly through hideEvents())\n          display: this.isHidden ? 'none' : '', // for when initially hidden\n          margin: 0,\n          right: 'auto', // erase and set width instead\n          bottom: 'auto', // erase and set height instead\n          width: this.sourceEl.width(), // explicit height in case there was a 'right' value\n          height: this.sourceEl.height(), // explicit width in case there was a 'bottom' value\n          opacity: this.options.opacity || '',\n          zIndex: this.options.zIndex\n        })\n\n      // we don't want long taps or any mouse interaction causing selection/menus.\n      // would use preventSelection(), but that prevents selectstart, causing problems.\n      el.addClass('fc-unselectable')\n\n      el.appendTo(this.parentEl)\n    }\n\n    return el\n  }\n\n\n  // Removes the tracking element if it has already been created\n  removeElement() {\n    if (this.el) {\n      this.el.remove()\n      this.el = null\n    }\n  }\n\n\n  // Update the CSS position of the tracking element\n  updatePosition() {\n    let sourceOffset\n    let origin\n\n    this.getEl() // ensure this.el\n\n    // make sure origin info was computed\n    if (this.top0 == null) {\n      sourceOffset = this.sourceEl.offset()\n      origin = this.el.offsetParent().offset()\n      this.top0 = sourceOffset.top - origin.top\n      this.left0 = sourceOffset.left - origin.left\n    }\n\n    this.el.css({\n      top: this.top0 + this.topDelta,\n      left: this.left0 + this.leftDelta\n    })\n  }\n\n\n  // Gets called when the user moves the mouse\n  handleMove(ev) {\n    this.topDelta = getEvY(ev) - this.y0\n    this.leftDelta = getEvX(ev) - this.x0\n\n    if (!this.isHidden) {\n      this.updatePosition()\n    }\n  }\n\n\n  // Temporarily makes the tracking element invisible. Can be called before following starts\n  hide() {\n    if (!this.isHidden) {\n      this.isHidden = true\n      if (this.el) {\n        this.el.hide()\n      }\n    }\n  }\n\n\n  // Show the tracking element after it has been temporarily hidden\n  show() {\n    if (this.isHidden) {\n      this.isHidden = false\n      this.updatePosition()\n      this.getEl().show()\n    }\n  }\n\n}\n\nListenerMixin.mixInto(MouseFollower)\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/MouseFollower.ts","import HitDragListener from '../../common/HitDragListener'\nimport Interaction from './Interaction'\n\n\nexport default class DateClicking extends Interaction {\n\n  dragListener: any\n\n\n  /*\n  component must implement:\n    - bindDateHandlerToEl\n    - getSafeHitFootprint\n    - getHitEl\n  */\n  constructor(component) {\n    super(component)\n    this.dragListener = this.buildDragListener()\n  }\n\n\n  end() {\n    this.dragListener.endInteraction()\n  }\n\n\n  bindToEl(el) {\n    let component = this.component\n    let dragListener = this.dragListener\n\n    component.bindDateHandlerToEl(el, 'mousedown', function(ev) {\n      if (!component.shouldIgnoreMouse()) {\n        dragListener.startInteraction(ev)\n      }\n    })\n\n    component.bindDateHandlerToEl(el, 'touchstart', function(ev) {\n      if (!component.shouldIgnoreTouch()) {\n        dragListener.startInteraction(ev)\n      }\n    })\n  }\n\n\n  // Creates a listener that tracks the user's drag across day elements, for day clicking.\n  buildDragListener() {\n    let component = this.component\n    let dayClickHit // null if invalid dayClick\n\n    let dragListener = new HitDragListener(component, {\n      scroll: this.opt('dragScroll'),\n      interactionStart: () => {\n        dayClickHit = dragListener.origHit\n      },\n      hitOver: (hit, isOrig, origHit) => {\n        // if user dragged to another cell at any point, it can no longer be a dayClick\n        if (!isOrig) {\n          dayClickHit = null\n        }\n      },\n      hitOut: () => { // called before mouse moves to a different hit OR moved out of all hits\n        dayClickHit = null\n      },\n      interactionEnd: (ev, isCancelled) => {\n        let componentFootprint\n\n        if (!isCancelled && dayClickHit) {\n          componentFootprint = component.getSafeHitFootprint(dayClickHit)\n\n          if (componentFootprint) {\n            this.view.triggerDayClick(componentFootprint, component.getHitEl(dayClickHit), ev)\n          }\n        }\n      }\n    })\n\n    // because dragListener won't be called with any time delay, \"dragging\" will begin immediately,\n    // which will kill any touchmoving/scrolling. Prevent this.\n    dragListener.shouldCancelTouchScroll = false\n\n    dragListener.scrollAlwaysKills = true\n\n    return dragListener\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/interactions/DateClicking.ts","import { htmlEscape, cssToStr, proxy } from '../util'\nimport EventRenderer from '../component/renderers/EventRenderer'\n\n/*\nOnly handles foreground segs.\nDoes not own rendering. Use for low-level util methods by TimeGrid.\n*/\nexport default class TimeGridEventRenderer extends EventRenderer {\n\n  timeGrid: any\n\n\n  constructor(timeGrid, fillRenderer) {\n    super(timeGrid, fillRenderer)\n    this.timeGrid = timeGrid\n  }\n\n\n  renderFgSegs(segs) {\n    this.renderFgSegsIntoContainers(segs, this.timeGrid.fgContainerEls)\n  }\n\n\n  // Given an array of foreground segments, render a DOM element for each, computes position,\n  // and attaches to the column inner-container elements.\n  renderFgSegsIntoContainers(segs, containerEls) {\n    let segsByCol\n    let col\n\n    segsByCol = this.timeGrid.groupSegsByCol(segs)\n\n    for (col = 0; col < this.timeGrid.colCnt; col++) {\n      this.updateFgSegCoords(segsByCol[col])\n    }\n\n    this.timeGrid.attachSegsByCol(segsByCol, containerEls)\n  }\n\n\n  unrenderFgSegs() {\n    if (this.fgSegs) { // hack\n      this.fgSegs.forEach(function(seg) {\n        seg.el.remove()\n      })\n    }\n  }\n\n\n  // Computes a default event time formatting string if `timeFormat` is not explicitly defined\n  computeEventTimeFormat() {\n    return this.opt('noMeridiemTimeFormat') // like \"6:30\" (no AM/PM)\n  }\n\n\n  // Computes a default `displayEventEnd` value if one is not expliclty defined\n  computeDisplayEventEnd() {\n    return true\n  }\n\n\n  // Renders the HTML for a single event segment's default rendering\n  fgSegHtml(seg, disableResizing) {\n    let view = this.view\n    let calendar = view.calendar\n    let componentFootprint = seg.footprint.componentFootprint\n    let isAllDay = componentFootprint.isAllDay\n    let eventDef = seg.footprint.eventDef\n    let isDraggable = view.isEventDefDraggable(eventDef)\n    let isResizableFromStart = !disableResizing && seg.isStart && view.isEventDefResizableFromStart(eventDef)\n    let isResizableFromEnd = !disableResizing && seg.isEnd && view.isEventDefResizableFromEnd(eventDef)\n    let classes = this.getSegClasses(seg, isDraggable, isResizableFromStart || isResizableFromEnd)\n    let skinCss = cssToStr(this.getSkinCss(eventDef))\n    let timeText\n    let fullTimeText // more verbose time text. for the print stylesheet\n    let startTimeText // just the start time text\n\n    classes.unshift('fc-time-grid-event', 'fc-v-event')\n\n    // if the event appears to span more than one day...\n    if (view.isMultiDayRange(componentFootprint.unzonedRange)) {\n      // Don't display time text on segments that run entirely through a day.\n      // That would appear as midnight-midnight and would look dumb.\n      // Otherwise, display the time text for the *segment's* times (like 6pm-midnight or midnight-10am)\n      if (seg.isStart || seg.isEnd) {\n        let zonedStart = calendar.msToMoment(seg.startMs)\n        let zonedEnd = calendar.msToMoment(seg.endMs)\n        timeText = this._getTimeText(zonedStart, zonedEnd, isAllDay)\n        fullTimeText = this._getTimeText(zonedStart, zonedEnd, isAllDay, 'LT')\n        startTimeText = this._getTimeText(zonedStart, zonedEnd, isAllDay, null, false) // displayEnd=false\n      }\n    } else {\n      // Display the normal time text for the *event's* times\n      timeText = this.getTimeText(seg.footprint)\n      fullTimeText = this.getTimeText(seg.footprint, 'LT')\n      startTimeText = this.getTimeText(seg.footprint, null, false) // displayEnd=false\n    }\n\n    return '<a class=\"' + classes.join(' ') + '\"' +\n      (eventDef.url ?\n        ' href=\"' + htmlEscape(eventDef.url) + '\"' :\n        ''\n        ) +\n      (skinCss ?\n        ' style=\"' + skinCss + '\"' :\n        ''\n        ) +\n      '>' +\n        '<div class=\"fc-content\">' +\n          (timeText ?\n            '<div class=\"fc-time\"' +\n            ' data-start=\"' + htmlEscape(startTimeText) + '\"' +\n            ' data-full=\"' + htmlEscape(fullTimeText) + '\"' +\n            '>' +\n              '<span>' + htmlEscape(timeText) + '</span>' +\n            '</div>' :\n            ''\n            ) +\n          (eventDef.title ?\n            '<div class=\"fc-title\">' +\n              htmlEscape(eventDef.title) +\n            '</div>' :\n            ''\n            ) +\n        '</div>' +\n        '<div class=\"fc-bg\"/>' +\n        /* TODO: write CSS for this\n        (isResizableFromStart ?\n          '<div class=\"fc-resizer fc-start-resizer\" />' :\n          ''\n          ) +\n        */\n        (isResizableFromEnd ?\n          '<div class=\"fc-resizer fc-end-resizer\" />' :\n          ''\n          ) +\n      '</a>'\n  }\n\n\n  // Given segments that are assumed to all live in the *same column*,\n  // compute their verical/horizontal coordinates and assign to their elements.\n  updateFgSegCoords(segs) {\n    this.timeGrid.computeSegVerticals(segs) // horizontals relies on this\n    this.computeFgSegHorizontals(segs) // compute horizontal coordinates, z-index's, and reorder the array\n    this.timeGrid.assignSegVerticals(segs)\n    this.assignFgSegHorizontals(segs)\n  }\n\n\n  // Given an array of segments that are all in the same column, sets the backwardCoord and forwardCoord on each.\n  // NOTE: Also reorders the given array by date!\n  computeFgSegHorizontals(segs) {\n    let levels\n    let level0\n    let i\n\n    this.sortEventSegs(segs) // order by certain criteria\n    levels = buildSlotSegLevels(segs)\n    computeForwardSlotSegs(levels)\n\n    if ((level0 = levels[0])) {\n\n      for (i = 0; i < level0.length; i++) {\n        computeSlotSegPressures(level0[i])\n      }\n\n      for (i = 0; i < level0.length; i++) {\n        this.computeFgSegForwardBack(level0[i], 0, 0)\n      }\n    }\n  }\n\n\n  // Calculate seg.forwardCoord and seg.backwardCoord for the segment, where both values range\n  // from 0 to 1. If the calendar is left-to-right, the seg.backwardCoord maps to \"left\" and\n  // seg.forwardCoord maps to \"right\" (via percentage). Vice-versa if the calendar is right-to-left.\n  //\n  // The segment might be part of a \"series\", which means consecutive segments with the same pressure\n  // who's width is unknown until an edge has been hit. `seriesBackwardPressure` is the number of\n  // segments behind this one in the current series, and `seriesBackwardCoord` is the starting\n  // coordinate of the first segment in the series.\n  computeFgSegForwardBack(seg, seriesBackwardPressure, seriesBackwardCoord) {\n    let forwardSegs = seg.forwardSegs\n    let i\n\n    if (seg.forwardCoord === undefined) { // not already computed\n\n      if (!forwardSegs.length) {\n\n        // if there are no forward segments, this segment should butt up against the edge\n        seg.forwardCoord = 1\n      } else {\n\n        // sort highest pressure first\n        this.sortForwardSegs(forwardSegs)\n\n        // this segment's forwardCoord will be calculated from the backwardCoord of the\n        // highest-pressure forward segment.\n        this.computeFgSegForwardBack(forwardSegs[0], seriesBackwardPressure + 1, seriesBackwardCoord)\n        seg.forwardCoord = forwardSegs[0].backwardCoord\n      }\n\n      // calculate the backwardCoord from the forwardCoord. consider the series\n      seg.backwardCoord = seg.forwardCoord -\n        (seg.forwardCoord - seriesBackwardCoord) / // available width for series\n        (seriesBackwardPressure + 1) // # of segments in the series\n\n      // use this segment's coordinates to computed the coordinates of the less-pressurized\n      // forward segments\n      for (i = 0; i < forwardSegs.length; i++) {\n        this.computeFgSegForwardBack(forwardSegs[i], 0, seg.forwardCoord)\n      }\n    }\n  }\n\n\n  sortForwardSegs(forwardSegs) {\n    forwardSegs.sort(proxy(this, 'compareForwardSegs'))\n  }\n\n\n  // A cmp function for determining which forward segment to rely on more when computing coordinates.\n  compareForwardSegs(seg1, seg2) {\n    // put higher-pressure first\n    return seg2.forwardPressure - seg1.forwardPressure ||\n      // put segments that are closer to initial edge first (and favor ones with no coords yet)\n      (seg1.backwardCoord || 0) - (seg2.backwardCoord || 0) ||\n      // do normal sorting...\n      this.compareEventSegs(seg1, seg2)\n  }\n\n\n  // Given foreground event segments that have already had their position coordinates computed,\n  // assigns position-related CSS values to their elements.\n  assignFgSegHorizontals(segs) {\n    let i\n    let seg\n\n    for (i = 0; i < segs.length; i++) {\n      seg = segs[i]\n      seg.el.css(this.generateFgSegHorizontalCss(seg))\n\n      // if the height is short, add a className for alternate styling\n      if (seg.bottom - seg.top < 30) {\n        seg.el.addClass('fc-short')\n      }\n    }\n  }\n\n\n  // Generates an object with CSS properties/values that should be applied to an event segment element.\n  // Contains important positioning-related properties that should be applied to any event element, customized or not.\n  generateFgSegHorizontalCss(seg) {\n    let shouldOverlap = this.opt('slotEventOverlap')\n    let backwardCoord = seg.backwardCoord // the left side if LTR. the right side if RTL. floating-point\n    let forwardCoord = seg.forwardCoord // the right side if LTR. the left side if RTL. floating-point\n    let props = this.timeGrid.generateSegVerticalCss(seg) // get top/bottom first\n    let isRTL = this.timeGrid.isRTL\n    let left // amount of space from left edge, a fraction of the total width\n    let right // amount of space from right edge, a fraction of the total width\n\n    if (shouldOverlap) {\n      // double the width, but don't go beyond the maximum forward coordinate (1.0)\n      forwardCoord = Math.min(1, backwardCoord + (forwardCoord - backwardCoord) * 2)\n    }\n\n    if (isRTL) {\n      left = 1 - forwardCoord\n      right = backwardCoord\n    } else {\n      left = backwardCoord\n      right = 1 - forwardCoord\n    }\n\n    props.zIndex = seg.level + 1 // convert from 0-base to 1-based\n    props.left = left * 100 + '%'\n    props.right = right * 100 + '%'\n\n    if (shouldOverlap && seg.forwardPressure) {\n      // add padding to the edge so that forward stacked events don't cover the resizer's icon\n      props[isRTL ? 'marginLeft' : 'marginRight'] = 10 * 2 // 10 is a guesstimate of the icon's width\n    }\n\n    return props\n  }\n\n}\n\n\n// Builds an array of segments \"levels\". The first level will be the leftmost tier of segments if the calendar is\n// left-to-right, or the rightmost if the calendar is right-to-left. Assumes the segments are already ordered by date.\nfunction buildSlotSegLevels(segs) {\n  let levels = []\n  let i\n  let seg\n  let j\n\n  for (i = 0; i < segs.length; i++) {\n    seg = segs[i]\n\n    // go through all the levels and stop on the first level where there are no collisions\n    for (j = 0; j < levels.length; j++) {\n      if (!computeSlotSegCollisions(seg, levels[j]).length) {\n        break\n      }\n    }\n\n    seg.level = j;\n\n    (levels[j] || (levels[j] = [])).push(seg)\n  }\n\n  return levels\n}\n\n\n// For every segment, figure out the other segments that are in subsequent\n// levels that also occupy the same vertical space. Accumulate in seg.forwardSegs\nfunction computeForwardSlotSegs(levels) {\n  let i\n  let level\n  let j\n  let seg\n  let k\n\n  for (i = 0; i < levels.length; i++) {\n    level = levels[i]\n\n    for (j = 0; j < level.length; j++) {\n      seg = level[j]\n\n      seg.forwardSegs = []\n      for (k = i + 1; k < levels.length; k++) {\n        computeSlotSegCollisions(seg, levels[k], seg.forwardSegs)\n      }\n    }\n  }\n}\n\n\n// Figure out which path forward (via seg.forwardSegs) results in the longest path until\n// the furthest edge is reached. The number of segments in this path will be seg.forwardPressure\nfunction computeSlotSegPressures(seg) {\n  let forwardSegs = seg.forwardSegs\n  let forwardPressure = 0\n  let i\n  let forwardSeg\n\n  if (seg.forwardPressure === undefined) { // not already computed\n\n    for (i = 0; i < forwardSegs.length; i++) {\n      forwardSeg = forwardSegs[i]\n\n      // figure out the child's maximum forward path\n      computeSlotSegPressures(forwardSeg)\n\n      // either use the existing maximum, or use the child's forward pressure\n      // plus one (for the forwardSeg itself)\n      forwardPressure = Math.max(\n        forwardPressure,\n        1 + forwardSeg.forwardPressure\n      )\n    }\n\n    seg.forwardPressure = forwardPressure\n  }\n}\n\n\n// Find all the segments in `otherSegs` that vertically collide with `seg`.\n// Append into an optionally-supplied `results` array and return.\nfunction computeSlotSegCollisions(seg, otherSegs, results= []) {\n\n  for (let i = 0; i < otherSegs.length; i++) {\n    if (isSlotSegCollision(seg, otherSegs[i])) {\n      results.push(otherSegs[i])\n    }\n  }\n\n  return results\n}\n\n\n// Do these segments occupy the same vertical space?\nfunction isSlotSegCollision(seg1, seg2) {\n  return seg1.bottom > seg2.top && seg1.top < seg2.bottom\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/agenda/TimeGridEventRenderer.ts","import * as $ from 'jquery'\nimport HelperRenderer from '../component/renderers/HelperRenderer'\n\n\nexport default class TimeGridHelperRenderer extends HelperRenderer {\n\n  renderSegs(segs, sourceSeg) {\n    let helperNodes = []\n    let i\n    let seg\n    let sourceEl\n\n    // TODO: not good to call eventRenderer this way\n    this.eventRenderer.renderFgSegsIntoContainers(\n      segs,\n      this.component.helperContainerEls\n    )\n\n    // Try to make the segment that is in the same row as sourceSeg look the same\n    for (i = 0; i < segs.length; i++) {\n      seg = segs[i]\n\n      if (sourceSeg && sourceSeg.col === seg.col) {\n        sourceEl = sourceSeg.el\n        seg.el.css({\n          left: sourceEl.css('left'),\n          right: sourceEl.css('right'),\n          'margin-left': sourceEl.css('margin-left'),\n          'margin-right': sourceEl.css('margin-right')\n        })\n      }\n\n      helperNodes.push(seg.el[0])\n    }\n\n    return $(helperNodes) // must return the elements rendered\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/agenda/TimeGridHelperRenderer.ts","import FillRenderer from '../component/renderers/FillRenderer'\n\n\nexport default class TimeGridFillRenderer extends FillRenderer {\n\n  attachSegEls(type, segs) {\n    let timeGrid = this.component\n    let containerEls\n\n    // TODO: more efficient lookup\n    if (type === 'bgEvent') {\n      containerEls = timeGrid.bgContainerEls\n    } else if (type === 'businessHours') {\n      containerEls = timeGrid.businessContainerEls\n    } else if (type === 'highlight') {\n      containerEls = timeGrid.highlightContainerEls\n    }\n\n    timeGrid.updateSegVerticals(segs)\n    timeGrid.attachSegsByCol(timeGrid.groupSegsByCol(segs), containerEls)\n\n    return segs.map(function(seg) {\n      return seg.el[0]\n    })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/agenda/TimeGridFillRenderer.ts","\n/* A rectangular panel that is absolutely positioned over other content\n------------------------------------------------------------------------------------------------------------------------\nOptions:\n  - className (string)\n  - content (HTML string or jQuery element set)\n  - parentEl\n  - top\n  - left\n  - right (the x coord of where the right edge should be. not a \"CSS\" right)\n  - autoHide (boolean)\n  - show (callback)\n  - hide (callback)\n*/\n\nimport * as $ from 'jquery'\nimport { getScrollParent } from '../util'\nimport { default as ListenerMixin, ListenerInterface } from './ListenerMixin'\n\n\nexport default class Popover {\n\n  listenTo: ListenerInterface['listenTo']\n  stopListeningTo: ListenerInterface['stopListeningTo']\n\n  isHidden: boolean = true\n  options: any\n  el: any // the container element for the popover. generated by this object\n  margin: number = 10 // the space required between the popover and the edges of the scroll container\n\n\n  constructor(options) {\n    this.options = options || {}\n  }\n\n\n  // Shows the popover on the specified position. Renders it if not already\n  show() {\n    if (this.isHidden) {\n      if (!this.el) {\n        this.render()\n      }\n      this.el.show()\n      this.position()\n      this.isHidden = false\n      this.trigger('show')\n    }\n  }\n\n\n  // Hides the popover, through CSS, but does not remove it from the DOM\n  hide() {\n    if (!this.isHidden) {\n      this.el.hide()\n      this.isHidden = true\n      this.trigger('hide')\n    }\n  }\n\n\n  // Creates `this.el` and renders content inside of it\n  render() {\n    let options = this.options\n\n    this.el = $('<div class=\"fc-popover\"/>')\n      .addClass(options.className || '')\n      .css({\n        // position initially to the top left to avoid creating scrollbars\n        top: 0,\n        left: 0\n      })\n      .append(options.content)\n      .appendTo(options.parentEl)\n\n    // when a click happens on anything inside with a 'fc-close' className, hide the popover\n    this.el.on('click', '.fc-close', () => {\n      this.hide()\n    })\n\n    if (options.autoHide) {\n      this.listenTo($(document), 'mousedown', this.documentMousedown)\n    }\n  }\n\n\n  // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n  documentMousedown(ev) {\n    // only hide the popover if the click happened outside the popover\n    if (this.el && !$(ev.target).closest(this.el).length) {\n      this.hide()\n    }\n  }\n\n\n  // Hides and unregisters any handlers\n  removeElement() {\n    this.hide()\n\n    if (this.el) {\n      this.el.remove()\n      this.el = null\n    }\n\n    this.stopListeningTo($(document), 'mousedown')\n  }\n\n\n  // Positions the popover optimally, using the top/left/right options\n  position() {\n    let options = this.options\n    let origin = this.el.offsetParent().offset()\n    let width = this.el.outerWidth()\n    let height = this.el.outerHeight()\n    let windowEl = $(window)\n    let viewportEl = getScrollParent(this.el)\n    let viewportTop\n    let viewportLeft\n    let viewportOffset\n    let top // the \"position\" (not \"offset\") values for the popover\n    let left //\n\n    // compute top and left\n    top = options.top || 0\n    if (options.left !== undefined) {\n      left = options.left\n    } else if (options.right !== undefined) {\n      left = options.right - width // derive the left value from the right value\n    } else {\n      left = 0\n    }\n\n    if (viewportEl.is(window) || viewportEl.is(document)) { // normalize getScrollParent's result\n      viewportEl = windowEl\n      viewportTop = 0 // the window is always at the top left\n      viewportLeft = 0 // (and .offset() won't work if called here)\n    } else {\n      viewportOffset = viewportEl.offset()\n      viewportTop = viewportOffset.top\n      viewportLeft = viewportOffset.left\n    }\n\n    // if the window is scrolled, it causes the visible area to be further down\n    viewportTop += windowEl.scrollTop()\n    viewportLeft += windowEl.scrollLeft()\n\n    // constrain to the view port. if constrained by two edges, give precedence to top/left\n    if (options.viewportConstrain !== false) {\n      top = Math.min(top, viewportTop + viewportEl.outerHeight() - height - this.margin)\n      top = Math.max(top, viewportTop + this.margin)\n      left = Math.min(left, viewportLeft + viewportEl.outerWidth() - width - this.margin)\n      left = Math.max(left, viewportLeft + this.margin)\n    }\n\n    this.el.css({\n      top: top - origin.top,\n      left: left - origin.left\n    })\n  }\n\n\n  // Triggers a callback. Calls a function in the option hash of the same name.\n  // Arguments beyond the first `name` are forwarded on.\n  // TODO: better code reuse for this. Repeat code\n  trigger(name) {\n    if (this.options[name]) {\n      this.options[name].apply(this, Array.prototype.slice.call(arguments, 1))\n    }\n  }\n\n}\n\nListenerMixin.mixInto(Popover)\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/Popover.ts","import * as $ from 'jquery'\nimport { htmlEscape, cssToStr } from '../util'\nimport EventRenderer from '../component/renderers/EventRenderer'\n\n\n/* Event-rendering methods for the DayGrid class\n----------------------------------------------------------------------------------------------------------------------*/\n\nexport default class DayGridEventRenderer extends EventRenderer {\n\n  dayGrid: any\n  rowStructs: any // an array of objects, each holding information about a row's foreground event-rendering\n\n\n  constructor(dayGrid, fillRenderer) {\n    super(dayGrid, fillRenderer)\n    this.dayGrid = dayGrid\n  }\n\n\n  renderBgRanges(eventRanges) {\n    // don't render timed background events\n    eventRanges = $.grep(eventRanges, function (eventRange: any) {\n      return eventRange.eventDef.isAllDay()\n    })\n\n    super.renderBgRanges(eventRanges)\n  }\n\n\n  // Renders the given foreground event segments onto the grid\n  renderFgSegs(segs) {\n    let rowStructs = this.rowStructs = this.renderSegRows(segs)\n\n    // append to each row's content skeleton\n    this.dayGrid.rowEls.each(function (i, rowNode) {\n      $(rowNode).find('.fc-content-skeleton > table').append(\n        rowStructs[i].tbodyEl\n      )\n    })\n  }\n\n\n  // Unrenders all currently rendered foreground event segments\n  unrenderFgSegs() {\n    let rowStructs = this.rowStructs || []\n    let rowStruct\n\n    while ((rowStruct = rowStructs.pop())) {\n      rowStruct.tbodyEl.remove()\n    }\n\n    this.rowStructs = null\n  }\n\n\n  // Uses the given events array to generate <tbody> elements that should be appended to each row's content skeleton.\n  // Returns an array of rowStruct objects (see the bottom of `renderSegRow`).\n  // PRECONDITION: each segment shoud already have a rendered and assigned `.el`\n  renderSegRows(segs) {\n    let rowStructs = []\n    let segRows\n    let row\n\n    segRows = this.groupSegRows(segs) // group into nested arrays\n\n\n    // iterate each row of segment groupings\n    for (row = 0; row < segRows.length; row++) {\n      rowStructs.push(\n        this.renderSegRow(row, segRows[row])\n      )\n    }\n\n    return rowStructs\n  }\n\n\n  // Given a row # and an array of segments all in the same row, render a <tbody> element, a skeleton that contains\n  // the segments. Returns object with a bunch of internal data about how the render was calculated.\n  // NOTE: modifies rowSegs\n  renderSegRow(row, rowSegs) {\n    let colCnt = this.dayGrid.colCnt\n    let segLevels = this.buildSegLevels(rowSegs) // group into sub-arrays of levels\n    let levelCnt = Math.max(1, segLevels.length) // ensure at least one level\n    let tbody = $('<tbody/>')\n    let segMatrix = [] // lookup for which segments are rendered into which level+col cells\n    let cellMatrix = [] // lookup for all <td> elements of the level+col matrix\n    let loneCellMatrix = [] // lookup for <td> elements that only take up a single column\n    let i\n    let levelSegs\n    let col\n    let tr\n    let j\n    let seg\n    let td\n\n    // populates empty cells from the current column (`col`) to `endCol`\n    function emptyCellsUntil(endCol) {\n      while (col < endCol) {\n        // try to grab a cell from the level above and extend its rowspan. otherwise, create a fresh cell\n        td = (loneCellMatrix[i - 1] || [])[col]\n        if (td) {\n          td.attr(\n            'rowspan',\n            parseInt(td.attr('rowspan') || 1, 10) + 1\n          )\n        } else {\n          td = $('<td/>')\n          tr.append(td)\n        }\n        cellMatrix[i][col] = td\n        loneCellMatrix[i][col] = td\n        col++\n      }\n    }\n\n    for (i = 0; i < levelCnt; i++) { // iterate through all levels\n      levelSegs = segLevels[i]\n      col = 0\n      tr = $('<tr/>')\n      segMatrix.push([])\n      cellMatrix.push([])\n      loneCellMatrix.push([])\n\n      // levelCnt might be 1 even though there are no actual levels. protect against this.\n      // this single empty row is useful for styling.\n\n      if (levelSegs) {\n        for (j = 0; j < levelSegs.length; j++) { // iterate through segments in level\n          seg = levelSegs[j]\n          emptyCellsUntil(seg.leftCol)\n          // create a container that occupies or more columns. append the event element.\n          td = $('<td class=\"fc-event-container\"/>').append(seg.el)\n          if (seg.leftCol !== seg.rightCol) {\n            td.attr('colspan', seg.rightCol - seg.leftCol + 1)\n          } else { // a single-column segment\n            // console.log('i-->',col)\n            // console.log('col-->',col)\n            loneCellMatrix[i][col] = td\n          }\n          while (col <= seg.rightCol) {\n            cellMatrix[i][col] = td\n            segMatrix[i][col] = seg\n            col++\n          }\n          tr.append(td)\n        }\n        // for (j = 0; j < levelSegs.length; j++) { // iterate through segments in level\n        //   seg = levelSegs[j]\n\n        //   emptyCellsUntil(seg.leftCol)\n\n\n        //   // create a container that occupies or more columns. append the event element.\n        //   td = $('<td class=\"fc-event-container\"/>').append(seg.el)\n        //   if (seg.leftCol !== seg.rightCol) {\n        //     td.attr('colspan', seg.rightCol - seg.leftCol + 1)\n        //   } else { // a single-column segment\n        //     // console.log('i-->',col)\n        //     // console.log('col-->',col)\n        //     loneCellMatrix[i][col] = td\n        //   }\n        //   while (col <= seg.rightCol) {\n        //     cellMatrix[i][col] = td\n        //     segMatrix[i][col] = seg\n        //     col++\n        //   }\n        //   console.log(td)\n        //   tr.append(td)\n        // }\n      }\n\n      emptyCellsUntil(colCnt) // finish off the row\n      this.dayGrid.bookendCells(tr)\n      tbody.append(tr)\n    }\n\n    return { // a \"rowStruct\"\n      row: row, // the row number\n      tbodyEl: tbody,\n      cellMatrix: cellMatrix,\n      segMatrix: segMatrix,\n      segLevels: segLevels,\n      segs: rowSegs\n    }\n  }\n\n\n  // Stacks a flat array of segments, which are all assumed to be in the same row, into subarrays of vertical levels.\n  // NOTE: modifies segs\n  buildSegLevels(segs) {\n    let levels = []\n    let i\n    let seg\n    let j\n\n    // Give preference to elements with certain criteria, so they have\n    // a chance to be closer to the top.\n    this.sortEventSegs(segs)\n\n    for (i = 0; i < segs.length; i++) {\n      seg = segs[i]\n\n      // loop through levels, starting with the topmost, until the segment doesn't collide with other segments\n      for (j = 0; j < levels.length; j++) {\n        if (!isDaySegCollision(seg, levels[j])) {\n          break\n        }\n      }\n      // `j` now holds the desired subrow index\n      seg.level = j;\n\n      // create new level array if needed and append segment\n      (levels[j] || (levels[j] = [])).push(seg)\n    }\n\n    // order segments left-to-right. very important if calendar is RTL\n    for (j = 0; j < levels.length; j++) {\n      levels[j].sort(compareDaySegCols)\n    }\n\n    return levels\n  }\n\n\n  // Given a flat array of segments, return an array of sub-arrays, grouped by each segment's row\n  groupSegRows(segs) {\n    let segRows = []\n    let i\n\n    for (i = 0; i < this.dayGrid.rowCnt; i++) {\n      segRows.push([])\n    }\n\n    for (i = 0; i < segs.length; i++) {\n\n      segRows[segs[i].row].push(segs[i])\n    }\n\n    return segRows\n  }\n\n\n  // Computes a default event time formatting string if `timeFormat` is not explicitly defined\n  computeEventTimeFormat() {\n    return this.opt('extraSmallTimeFormat') // like \"6p\" or \"6:30p\"\n  }\n\n\n  // Computes a default `displayEventEnd` value if one is not expliclty defined\n  computeDisplayEventEnd() {\n    return this.dayGrid.colCnt === 1 // we'll likely have space if there's only one day\n  }\n\n\n  // Builds the HTML to be used for the default element for an individual segment\n  fgSegHtml(seg, disableResizing) {\n    let view = this.view\n    let eventDef = seg.footprint.eventDef\n    let isAllDay = seg.footprint.componentFootprint.isAllDay\n    let isDraggable = view.isEventDefDraggable(eventDef)\n    let isResizableFromStart = !disableResizing && isAllDay &&\n      seg.isStart && view.isEventDefResizableFromStart(eventDef)\n    let isResizableFromEnd = !disableResizing && isAllDay &&\n      seg.isEnd && view.isEventDefResizableFromEnd(eventDef)\n    let classes = this.getSegClasses(seg, isDraggable, isResizableFromStart || isResizableFromEnd)\n    let skinCss = cssToStr(this.getSkinCss(eventDef))\n    let timeHtml = ''\n    let timeText\n    let titleHtml\n\n    classes.unshift('fc-day-grid-event', 'fc-h-event')\n\n    // Only display a timed events time if it is the starting segment\n    if (seg.isStart) {\n      timeText = this.getTimeText(seg.footprint)\n      if (timeText) {\n        timeHtml = '<span class=\"fc-time\">' + htmlEscape(timeText) + '</span>'\n      }\n    }\n    console.log(this.view)\n    titleHtml =\n      '<span class=\"fc-title\">' +\n      (htmlEscape(eventDef.title || '') || '&nbsp;') + // we always want one line of height\n      '</span>'\n    let htmlReturn = ''\n    if (window['isMobile']) {\n      if (this.view.options.hasOwnProperty('isShowDotEvent') && !this.view.options.isShowDotEvent) {\n        htmlReturn = titleHtml\n      } else {\n        htmlReturn = '<div class=\"dot-event\"></div>'\n      }\n    } else {\n      htmlReturn = '<a class=\"' + classes.join(' ') + '\"' +\n        (eventDef.url ?\n          ' href=\"' + htmlEscape(eventDef.url) + '\"' :\n          ''\n        ) +\n        (skinCss ?\n          ' style=\"' + skinCss + '\"' :\n          ''\n        ) +\n        '>' +\n        '<div class=\"fc-content\">' +\n        (this.dayGrid.isRTL ?\n          titleHtml + ' ' + timeHtml : // put a natural space in between\n          timeHtml + ' ' + titleHtml   //\n        ) +\n        '</div>' +\n        (isResizableFromStart ?\n          '<div class=\"fc-resizer fc-start-resizer\" />' :\n          ''\n        ) +\n        (isResizableFromEnd ?\n          '<div class=\"fc-resizer fc-end-resizer\" />' :\n          ''\n        ) +\n        '</a>'\n    } {\n      return htmlReturn\n    }\n  }\n\n}\n\n\n// Computes whether two segments' columns collide. They are assumed to be in the same row.\nfunction isDaySegCollision(seg, otherSegs) {\n  let i\n  let otherSeg\n\n  for (i = 0; i < otherSegs.length; i++) {\n    otherSeg = otherSegs[i]\n\n    if (\n      otherSeg.leftCol <= seg.rightCol &&\n      otherSeg.rightCol >= seg.leftCol\n    ) {\n      return true\n    }\n  }\n\n  return false\n}\n\n\n// A cmp function for determining the leftmost event\nfunction compareDaySegCols(a, b) {\n  return a.leftCol - b.leftCol\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/basic/DayGridEventRenderer.ts","import * as $ from 'jquery'\nimport HelperRenderer from '../component/renderers/HelperRenderer'\n\n\nexport default class DayGridHelperRenderer extends HelperRenderer {\n\n  // Renders a mock \"helper\" event. `sourceSeg` is the associated internal segment object. It can be null.\n  renderSegs(segs, sourceSeg) {\n    let helperNodes = []\n    let rowStructs\n\n    // TODO: not good to call eventRenderer this way\n    rowStructs = this.eventRenderer.renderSegRows(segs)\n\n    // inject each new event skeleton into each associated row\n    this.component.rowEls.each(function(row, rowNode) {\n      let rowEl = $(rowNode) // the .fc-row\n      let skeletonEl = $('<div class=\"fc-helper-skeleton\"><table/></div>') // will be absolutely positioned\n      let skeletonTopEl\n      let skeletonTop\n\n      // If there is an original segment, match the top position. Otherwise, put it at the row's top level\n      if (sourceSeg && sourceSeg.row === row) {\n        skeletonTop = sourceSeg.el.position().top\n      } else {\n        skeletonTopEl = rowEl.find('.fc-content-skeleton tbody')\n        if (!skeletonTopEl.length) { // when no events\n          skeletonTopEl = rowEl.find('.fc-content-skeleton table')\n        }\n\n        skeletonTop = skeletonTopEl.position().top\n      }\n\n      skeletonEl.css('top', skeletonTop)\n        .find('table')\n          .append(rowStructs[row].tbodyEl)\n\n      rowEl.append(skeletonEl)\n      helperNodes.push(skeletonEl[0])\n    })\n\n    return $(helperNodes) // must return the elements rendered\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/basic/DayGridHelperRenderer.ts","import * as $ from 'jquery'\nimport FillRenderer from '../component/renderers/FillRenderer'\n\n\nexport default class DayGridFillRenderer extends FillRenderer {\n\n  fillSegTag: string = 'td' // override the default tag name\n\n\n  attachSegEls(type, segs) {\n    let nodes = []\n    let i\n    let seg\n    let skeletonEl\n\n    for (i = 0; i < segs.length; i++) {\n      seg = segs[i]\n      skeletonEl = this.renderFillRow(type, seg)\n      this.component.rowEls.eq(seg.row).append(skeletonEl)\n      nodes.push(skeletonEl[0])\n    }\n\n    return nodes\n  }\n\n\n  // Generates the HTML needed for one row of a fill. Requires the seg's el to be rendered.\n  renderFillRow(type, seg) {\n    let colCnt = this.component.colCnt\n    let startCol = seg.leftCol\n    let endCol = seg.rightCol + 1\n    let className\n    let skeletonEl\n    let trEl\n\n    if (type === 'businessHours') {\n      className = 'bgevent'\n    } else {\n      className = type.toLowerCase()\n    }\n\n    skeletonEl = $(\n      '<div class=\"fc-' + className + '-skeleton\">' +\n        '<table><tr/></table>' +\n      '</div>'\n    )\n    trEl = skeletonEl.find('tr')\n\n    if (startCol > 0) {\n      trEl.append('<td colspan=\"' + startCol + '\"/>')\n    }\n\n    trEl.append(\n      seg.el.attr('colspan', endCol - startCol)\n    )\n\n    if (endCol < colCnt) {\n      trEl.append('<td colspan=\"' + (colCnt - endCol) + '\"/>')\n    }\n\n    this.component.bookendCells(trEl)\n\n    return skeletonEl\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/basic/DayGridFillRenderer.ts","import BasicViewDateProfileGenerator from './BasicViewDateProfileGenerator'\nimport UnzonedRange from '../models/UnzonedRange'\n\n\nexport default class MonthViewDateProfileGenerator extends BasicViewDateProfileGenerator {\n\n  // Computes the date range that will be rendered.\n  buildRenderRange(currentUnzonedRange, currentRangeUnit, isRangeAllDay) {\n    let renderUnzonedRange = super.buildRenderRange(currentUnzonedRange, currentRangeUnit, isRangeAllDay)\n    let start = this.msToUtcMoment(renderUnzonedRange.startMs, isRangeAllDay)\n    let end = this.msToUtcMoment(renderUnzonedRange.endMs, isRangeAllDay)\n    let rowCnt\n\n    // ensure 6 weeks\n    if (this.opt('fixedWeekCount')) {\n      rowCnt = Math.ceil( // could be partial weeks due to hiddenDays\n        end.diff(start, 'weeks', true) // dontRound=true\n      )\n      end.add(6 - rowCnt, 'weeks')\n    }\n\n    return new UnzonedRange(start, end)\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/basic/MonthViewDateProfileGenerator.ts","import { htmlEscape } from '../util'\nimport EventRenderer from '../component/renderers/EventRenderer'\n\nexport default class ListEventRenderer extends EventRenderer {\n\n  renderFgSegs(segs) {\n    if (!segs.length) {\n      this.component.renderEmptyMessage()\n    } else {\n      this.component.renderSegList(segs)\n    }\n\n\n  }\n\n  // generates the HTML for a single event row\n  fgSegHtml(seg) {\n\n    let view = this.view\n    let calendar = view.calendar\n    let theme = calendar.theme\n    let eventFootprint = seg.footprint\n    let eventDef = eventFootprint.eventDef\n    let componentFootprint = eventFootprint.componentFootprint\n    let url = eventDef.url\n    let classes = ['fc-list-item'].concat(this.getClasses(eventDef))\n    let bgColor = this.getBgColor(eventDef)\n    let timeHtml\n\n    if (componentFootprint.isAllDay) {\n      timeHtml = view.getAllDayHtml()\n    } else if (view.isMultiDayRange(componentFootprint.unzonedRange)) {\n      if (seg.isStart || seg.isEnd) { // outer segment that probably lasts part of the day\n        timeHtml = htmlEscape(this._getTimeText(\n          calendar.msToMoment(seg.startMs),\n          calendar.msToMoment(seg.endMs),\n          componentFootprint.isAllDay\n        ))\n      } else { // inner segment that lasts the whole day\n        timeHtml = view.getAllDayHtml()\n      }\n    } else {\n      // Display the normal time text for the *event's* times\n      timeHtml = htmlEscape(this.getTimeText(eventFootprint))\n    }\n\n    if (url) {\n      classes.push('fc-has-url')\n    }\n    let htmlReturn = ''\n    // if (window['isMobile']) {\n    //   htmlReturn = '<tr class=\"' + classes.join(' ') + '\">' +\n    //     (this.displayEventTime ?\n    //       '<td class=\"fc-list-item-time ' + theme.getClass('widgetContent') + '\">' +\n    //       (timeHtml || '') +\n    //       '</td>' :\n    //       '') +\n    //     '<td class=\"fc-list-item-marker ' + theme.getClass('widgetContent') + '\">' +\n    //     '<span class=\"fc-event-dot\"' +\n    //     (bgColor ?\n    //       ' style=\"background-color:' + bgColor + '\"' :\n    //       '') +\n    //     '></span>' +\n    //     '</td>' +\n    //     '<td class=\"fc-list-item-title ' + theme.getClass('widgetContent') + '\">' +\n    //     '<a' + (url ? ' href=\"' + htmlEscape(url) + '\"' : '') + '>' +\n    //     htmlEscape(eventDef.title || '') + htmlEscape(eventDef.description || '') +\n    //     '</a>' +\n    //     '</td>' +\n    //     '</tr>'\n    // } \n    if (window['isMobile']) {\n      htmlReturn = '<tr class=\"' + classes.join(' ') + '\">' +\n        (this.displayEventTime ?\n          '<td class=\"fc-list-item-marker va-middle ' + theme.getClass('widgetContent') + '\">' +\n          '<span class=\"fc-event-dot\"' +\n          (bgColor ?\n            ' style=\"background-color:' + bgColor + '\"' :\n            '') +\n          '></span>' +\n          '</td>' :\n          '') +\n        '<td class=\"fc-list-item-title ' + theme.getClass('widgetContent') + '\">' +\n        '<a' + (url ? ' href=\"' + htmlEscape(url) + '\"' : '') + '>' +\n        '<span class=\"event-list-title\">' +htmlEscape(eventDef.title || '') + '</span>' + \n        '<span class=\"event-list-detail\">' + htmlEscape(eventDef.description || '') + '</span>' +\n        '</a>' +\n        '</td>' + '<td>' + (timeHtml || '') + '</td>'\n        '</tr>'\n    } else {\n      htmlReturn = '<tr class=\"' + classes.join(' ') + '\">' +\n        (this.displayEventTime ?\n          '<td class=\"fc-list-item-time ' + theme.getClass('widgetContent') + '\">' +\n          (timeHtml || '') +\n          '</td>' :\n          '') +\n        '<td class=\"fc-list-item-marker' + theme.getClass('widgetContent') + '\">' +\n        '<span class=\"fc-event-dot\"' +\n        (bgColor ?\n          ' style=\"background-color:' + bgColor + '\"' :\n          '') +\n        '></span>' +\n        '</td>' +\n        '<td class=\"fc-list-item-title ' + theme.getClass('widgetContent') + '\">' +\n        '<a' + (url ? ' href=\"' + htmlEscape(url) + '\"' : '') + '>' +\n        htmlEscape(eventDef.title || '') +\n        '</a>' +\n        '</td>' +\n        '</tr>'\n    }\n    return htmlReturn\n  }\n\n\n  // like \"4:00am\"\n  computeEventTimeFormat() {\n    return this.opt('mediumTimeFormat')\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/list/ListEventRenderer.ts","import * as $ from 'jquery'\nimport EventPointing from '../component/interactions/EventPointing'\n\n\nexport default class ListEventPointing extends EventPointing {\n\n  // for events with a url, the whole <tr> should be clickable,\n  // but it's impossible to wrap with an <a> tag. simulate this.\n  handleClick(seg, ev) {\n    let url\n\n    super.handleClick(seg, ev) // might prevent the default action\n\n    // not clicking on or within an <a> with an href\n    if (!$(ev.target).closest('a[href]').length) {\n      url = seg.footprint.eventDef.url\n\n      if (url && !ev.isDefaultPrevented()) { // jsEvent not cancelled in handler\n        window.location.href = url // simulate link click\n      }\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/list/ListEventPointing.ts","\nimport EventSourceParser from './EventSourceParser'\n\nimport ArrayEventSource from './ArrayEventSource'\nimport FuncEventSource from './FuncEventSource'\nimport JsonFeedEventSource from './JsonFeedEventSource'\n\nEventSourceParser.registerClass(ArrayEventSource)\nEventSourceParser.registerClass(FuncEventSource)\nEventSourceParser.registerClass(JsonFeedEventSource)\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/event-source/config.ts","\nimport { defineThemeSystem } from './ThemeRegistry'\n\nimport StandardTheme from './StandardTheme'\nimport JqueryUiTheme from './JqueryUiTheme'\nimport Bootstrap3Theme from './Bootstrap3Theme'\nimport Bootstrap4Theme from './Bootstrap4Theme'\n\ndefineThemeSystem('standard', StandardTheme)\ndefineThemeSystem('jquery-ui', JqueryUiTheme)\ndefineThemeSystem('bootstrap3', Bootstrap3Theme)\ndefineThemeSystem('bootstrap4', Bootstrap4Theme)\n\n\n\n// WEBPACK FOOTER //\n// ./src/theme/config.ts","import Theme from './Theme'\n\nexport default class Bootstrap3Theme extends Theme {\n}\n\nBootstrap3Theme.prototype.classes = {\n  widget: 'fc-bootstrap3',\n\n  tableGrid: 'table-bordered', // avoid `table` class b/c don't want margins. only border color\n  tableList: 'table', // `table` class creates bottom margin but who cares\n  tableListHeading: 'active',\n\n  buttonGroup: 'btn-group',\n  button: 'btn btn-default',\n  stateActive: 'active',\n  stateDisabled: 'disabled',\n\n  today: 'alert alert-info', // the plain `info` class requires `.table`, too much to ask\n\n  popover: 'panel panel-default',\n  popoverHeader: 'panel-heading',\n  popoverContent: 'panel-body',\n\n  // day grid\n  // for left/right border color when border is inset from edges (all-day in agenda view)\n  // avoid `panel` class b/c don't want margins/radius. only border color.\n  headerRow: 'panel-default',\n  dayRow: 'panel-default',\n\n  // list view\n  listView: 'panel panel-default'\n}\n\nBootstrap3Theme.prototype.baseIconClass = 'glyphicon'\nBootstrap3Theme.prototype.iconClasses = {\n  close: 'glyphicon-remove',\n  prev: 'glyphicon-chevron-left',\n  next: 'glyphicon-chevron-right',\n  prevYear: 'glyphicon-backward',\n  nextYear: 'glyphicon-forward'\n}\n\nBootstrap3Theme.prototype.iconOverrideOption = 'bootstrapGlyphicons'\nBootstrap3Theme.prototype.iconOverrideCustomButtonOption = 'bootstrapGlyphicon'\nBootstrap3Theme.prototype.iconOverridePrefix = 'glyphicon-'\n\n\n\n// WEBPACK FOOTER //\n// ./src/theme/Bootstrap3Theme.ts","import Theme from './Theme'\n\nexport default class Bootstrap4Theme extends Theme {\n}\n\nBootstrap4Theme.prototype.classes = {\n  widget: 'fc-bootstrap4',\n\n  tableGrid: 'table-bordered', // avoid `table` class b/c don't want margins. only border color\n  tableList: 'table', // `table` class creates bottom margin but who cares\n  tableListHeading: 'table-active',\n\n  buttonGroup: 'btn-group',\n  button: 'btn btn-primary',\n  stateActive: 'active',\n  stateDisabled: 'disabled',\n\n  today: 'alert alert-info', // the plain `info` class requires `.table`, too much to ask\n\n  popover: 'card card-primary',\n  popoverHeader: 'card-header',\n  popoverContent: 'card-body',\n\n  // day grid\n  // for left/right border color when border is inset from edges (all-day in agenda view)\n  // avoid `table` class b/c don't want margins/padding/structure. only border color.\n  headerRow: 'table-bordered',\n  dayRow: 'table-bordered',\n\n  // list view\n  listView: 'card card-primary'\n}\n\nBootstrap4Theme.prototype.baseIconClass = 'fa'\nBootstrap4Theme.prototype.iconClasses = {\n  close: 'fa-times',\n  prev: 'fa-chevron-left',\n  next: 'fa-chevron-right',\n  prevYear: 'fa-angle-double-left',\n  nextYear: 'fa-angle-double-right'\n}\n\nBootstrap4Theme.prototype.iconOverrideOption = 'bootstrapFontAwesome'\nBootstrap4Theme.prototype.iconOverrideCustomButtonOption = 'bootstrapFontAwesome'\nBootstrap4Theme.prototype.iconOverridePrefix = 'fa-'\n\n\n\n// WEBPACK FOOTER //\n// ./src/theme/Bootstrap4Theme.ts","import { defineView } from '../ViewRegistry'\nimport BasicView from './BasicView'\nimport MonthView from './MonthView'\n\ndefineView('basic', {\n  'class': BasicView\n})\n\ndefineView('basicDay', {\n  type: 'basic',\n  duration: { days: 1 }\n})\n\ndefineView('basicWeek', {\n  type: 'basic',\n  duration: { weeks: 1 }\n})\n\ndefineView('month', {\n  'class': MonthView,\n  duration: { months: 1 }, // important for prev/next\n  defaults: {\n    fixedWeekCount: true\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/basic/config.ts","import { defineView } from '../ViewRegistry'\nimport AgendaView from './AgendaView'\n\ndefineView('agenda', {\n  'class': AgendaView,\n  defaults: {\n    allDaySlot: true,\n    slotDuration: '00:30:00',\n    slotEventOverlap: true // a bad name. confused with overlap/constraint system\n  }\n})\n\ndefineView('agendaDay', {\n  type: 'agenda',\n  duration: { days: 1 }\n})\n\ndefineView('agendaWeek', {\n  type: 'agenda',\n  duration: { weeks: 1 }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/agenda/config.ts","import { defineView } from '../ViewRegistry'\nimport ListView from './ListView'\n\ndefineView('list', {\n  'class': ListView,\n  buttonTextKey: 'list', // what to lookup in locale files\n  defaults: {\n    buttonText: 'list', // text to display for English\n    listDayFormat: 'LL', // like \"January 1, 2016\"\n    noEventsMessage: 'No events to display'\n  }\n})\n\ndefineView('listDay', {\n  type: 'list',\n  duration: { days: 1 },\n  defaults: {\n    listDayFormat: 'dddd' // day-of-week is all we need. full date is probably in header\n  }\n})\n\ndefineView('listWeek', {\n  type: 'list',\n  duration: { weeks: 1 },\n  defaults: {\n    listDayFormat: 'dddd', // day-of-week is more important\n    listDayAltFormat: 'LL'\n  }\n})\n\ndefineView('listMonth', {\n  type: 'list',\n  duration: { month: 1 },\n  defaults: {\n    listDayAltFormat: 'dddd' // day-of-week is nice-to-have\n  }\n})\n\ndefineView('listYear', {\n  type: 'list',\n  duration: { year: 1 },\n  defaults: {\n    listDayAltFormat: 'dddd' // day-of-week is nice-to-have\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/list/config.ts"],"sourceRoot":""}